{"version":3,"file":"2844-54ae2344600ed524aec0.js","mappings":"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","sources":["webpack://energy-and-water-dashboard/./node_modules/@arcgis/core/views/2d/layers/StreamLayerView2D.js"],"sourcesContent":["import _asyncToGenerator from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _defineProperty from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _classCallCheck from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _get from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _inherits from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _regeneratorRuntime from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/regenerator/index.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../core/Error.js\";\nimport { isNone as r, isSome as o } from \"../../../core/maybe.js\";\nimport { property as s } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/arrayUtils.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/accessorSupport/ensureType.js\";\nimport { subclass as i } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport n from \"../../../rest/support/FeatureSet.js\";\nimport a from \"./FeatureLayerView2D.js\";\nimport { toJSONGeometryType as c } from \"./support/util.js\";\n\nfunction l(e, t) {\n  if (r(e) && r(t)) return null;\n  var s = {};\n  return o(t) && (s.geometry = t.toJSON()), o(e) && (s.where = e), s;\n}\n\nvar p = /*#__PURE__*/function (_a) {\n  _inherits(p, _a);\n\n  var _super = _createSuper(p);\n\n  function p() {\n    var _this;\n\n    _classCallCheck(this, p);\n\n    _this = _super.apply(this, arguments), _this._enabledDataReceived = !1, _this.errorString = null, _this.connectionStatus = \"disconnected\";\n    return _this;\n  }\n\n  _createClass(p, [{\n    key: \"initialize\",\n    value: function initialize() {\n      var _this2 = this;\n\n      this.handles.add([this.layer.watch(\"purgeOptions\", function () {\n        return _this2._update();\n      })]);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.connectionStatus = \"disconnected\";\n    }\n  }, {\n    key: \"connectionError\",\n    get: function get() {\n      if (this.errorString) return new t(\"stream-controller\", this.errorString);\n    }\n  }, {\n    key: \"on\",\n    value: function on(e, t) {\n      \"data-received\" === e && (this._enabledDataReceived = !0, this._proxy.enableEvent(\"data-received\", !0));\n\n      var r = _get(_getPrototypeOf(p.prototype), \"on\", this).call(this, e, t),\n          o = this;\n\n      return {\n        remove: function remove() {\n          r.remove(), \"data-received\" === e && (o._proxy.closed || o.hasEventListener(\"data-received\") || o._proxy.enableEvent(\"data-received\", !1));\n        }\n      };\n    }\n  }, {\n    key: \"queryLatestObservations\",\n    value: function queryLatestObservations(e, r) {\n      var _this3 = this;\n\n      if (!(this.layer.timeInfo.endField || this.layer.timeInfo.startField)) throw new t(\"streamlayer-no-timeField\", \"queryLatestObservation can only be used with services that define a TrackIdField\");\n      return this._proxy.queryLatestObservations(this._cleanUpQuery(e), r).then(function (e) {\n        var t = n.fromJSON(e);\n        return t.features.forEach(function (e) {\n          e.layer = _this3.layer, e.sourceLayer = _this3.layer;\n        }), t;\n      });\n    }\n  }, {\n    key: \"_createClientOptions\",\n    value: function _createClientOptions() {\n      var _this4 = this;\n\n      return _objectSpread(_objectSpread({}, _get(_getPrototypeOf(p.prototype), \"_createClientOptions\", this).call(this)), {}, {\n        setProperty: function setProperty(e) {\n          _this4.set(e.propertyName, e.value);\n        }\n      });\n    }\n  }, {\n    key: \"_createTileRendererHash\",\n    value: function _createTileRendererHash(e) {\n      var t = \"\".concat(JSON.stringify(this.layer.purgeOptions), \".\").concat(JSON.stringify(l(this.layer.definitionExpression, this.layer.geometryDefinition)), \")\");\n      return _get(_getPrototypeOf(p.prototype), \"_createTileRendererHash\", this).call(this, e) + t;\n    }\n  }, {\n    key: \"_createServiceOptions\",\n    value: function () {\n      var _createServiceOptions2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var e, t, r, o, s, i;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                e = this.layer, t = e.objectIdField, r = e.fields.map(function (e) {\n                  return e.toJSON();\n                }), o = c(e.geometryType), s = e.timeInfo && e.timeInfo.toJSON() || null, i = e.spatialReference ? e.spatialReference.toJSON() : null;\n                return _context.abrupt(\"return\", {\n                  type: \"stream\",\n                  fields: r,\n                  geometryType: o,\n                  objectIdField: t,\n                  timeInfo: s,\n                  source: this.layer.parsedUrl,\n                  serviceFilter: l(this.layer.definitionExpression, this.layer.geometryDefinition),\n                  purgeOptions: this.layer.purgeOptions.toJSON(),\n                  enableDataReceived: this._enabledDataReceived,\n                  spatialReference: i,\n                  maxReconnectionAttempts: this.layer.maxReconnectionAttempts,\n                  maxReconnectionInterval: this.layer.maxReconnectionInterval,\n                  updateInterval: this.layer.updateInterval,\n                  customParameters: e.customParameters\n                });\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function _createServiceOptions() {\n        return _createServiceOptions2.apply(this, arguments);\n      }\n\n      return _createServiceOptions;\n    }()\n  }]);\n\n  return p;\n}(a);\n\ne([s()], p.prototype, \"errorString\", void 0), e([s({\n  readOnly: !0\n})], p.prototype, \"connectionError\", null), e([s()], p.prototype, \"connectionStatus\", void 0), p = e([i(\"esri.views.2d.layers.StreamLayerView2D\")], p);\nvar d = p;\nexport { d as default };"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","prototype","valueOf","call","e","_isNativeReflectConstruct","result","Super","NewTarget","this","constructor","l","t","s","geometry","toJSON","where","p","_a","_createServiceOptions2","_super","_this","_enabledDataReceived","errorString","connectionStatus","value","_this2","handles","add","layer","watch","_update","get","_proxy","enableEvent","r","o","remove","closed","hasEventListener","_this3","timeInfo","endField","startField","queryLatestObservations","_cleanUpQuery","then","features","sourceLayer","_this4","setProperty","set","propertyName","concat","JSON","stringify","purgeOptions","definitionExpression","geometryDefinition","_callee","_context","prev","next","objectIdField","fields","map","geometryType","spatialReference","abrupt","type","parsedUrl","serviceFilter","enableDataReceived","maxReconnectionAttempts","maxReconnectionInterval","updateInterval","customParameters","stop","readOnly","d"],"sourceRoot":""}