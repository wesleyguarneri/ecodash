{"version":3,"file":"4165-6514be246da22cdbd1d7.js","mappings":"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","sources":["webpack://energy-and-water-dashboard/./node_modules/@arcgis/core/layers/graphics/sources/WFSSourceWorker.js"],"sourcesContent":["import _asyncToGenerator from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _regeneratorRuntime from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/regenerator/index.js\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from \"../../../core/Error.js\";\nimport t from \"../../../core/Logger.js\";\nimport { isSome as r, unwrap as s } from \"../../../core/maybe.js\";\nimport { throwIfAborted as a, createTask as i, isAbortError as n } from \"../../../core/promiseUtils.js\";\nimport { equals as o, WGS84 as u } from \"../../../geometry/support/spatialReferenceUtils.js\";\nimport { convertFromGeometry as p, convertToGeometry as h } from \"../featureConversionUtils.js\";\nimport y from \"../data/FeatureStore.js\";\nimport { project as l, checkProjectionSupport as c } from \"../data/projectionSupport.js\";\nimport m from \"../data/QueryEngine.js\";\nimport { validateGeoJSON as g, createOptimizedFeatures as _ } from \"./geojson/geojson.js\";\nimport { mixAttributes as f } from \"./support/sourceUtils.js\";\nimport { getFeature as d } from \"../../ogc/wfsUtils.js\";\nimport w from \"../../support/FieldsIndex.js\";\n\nvar E = /*#__PURE__*/function () {\n  function E() {\n    var _this = this;\n\n    _classCallCheck(this, E);\n\n    this._queryEngine = null, this._customParameters = null, this._snapshotFeatures = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n        var t, s, i, _iterator, _step, _a, n, _iterator2, _step2, _r, _e;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                t = _this._queryEngine.objectIdField;\n                _context.next = 3;\n                return d(_this._getFeatureUrl, _this._featureType.typeName, _this._getFeatureOutputFormat, {\n                  customParameters: _this._customParameters,\n                  dateFields: _this._queryEngine.fieldsIndex.dateFields.map(function (e) {\n                    return e.name;\n                  }),\n                  signal: e\n                });\n\n              case 3:\n                s = _context.sent;\n                _context.next = 6;\n                return g(s);\n\n              case 6:\n                a(e);\n                i = _(s, {\n                  geometryType: _this._queryEngine.geometryType,\n                  hasZ: !1,\n                  objectIdField: t\n                });\n\n                if (!o(_this._queryEngine.spatialReference, u)) {\n                  _iterator = _createForOfIteratorHelper(i);\n\n                  try {\n                    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                      _a = _step.value;\n                      r(_a.geometry) && (_a.geometry = p(l(h(_a.geometry, _this._queryEngine.geometryType, !1, !1), u, _this._queryEngine.spatialReference)));\n                    }\n                  } catch (err) {\n                    _iterator.e(err);\n                  } finally {\n                    _iterator.f();\n                  }\n                }\n\n                n = 1;\n                _iterator2 = _createForOfIteratorHelper(i);\n\n                try {\n                  for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n                    _r = _step2.value;\n                    _e = {};\n                    f(_this._fieldsIndex, _e, _r.attributes, !0), _r.attributes = _e, null == _r.attributes[t] && (_r.objectId = _r.attributes[t] = n++);\n                  }\n                } catch (err) {\n                  _iterator2.e(err);\n                } finally {\n                  _iterator2.f();\n                }\n\n                return _context.abrupt(\"return\", i);\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n  }\n\n  _createClass(E, [{\n    key: \"destroy\",\n    value: function destroy() {\n      var e;\n      null == (e = this._queryEngine) || e.destroy(), this._queryEngine = null;\n    }\n  }, {\n    key: \"load\",\n    value: function () {\n      var _load = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e, t) {\n        var r, i, n, o, u, p, h, l, c;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                r = e.getFeatureUrl, i = e.getFeatureOutputFormat, n = e.spatialReference, o = e.fields, u = e.geometryType, p = e.featureType, h = e.objectIdField, l = e.customParameters;\n                this._featureType = p;\n                this._customParameters = l;\n                this._getFeatureUrl = r;\n                this._getFeatureOutputFormat = i;\n                this._fieldsIndex = new w(o);\n                _context2.next = 8;\n                return this._checkProjection(n);\n\n              case 8:\n                a(t);\n                this._queryEngine = new m({\n                  fields: o,\n                  geometryType: u,\n                  hasM: !1,\n                  hasZ: !1,\n                  objectIdField: h,\n                  spatialReference: n,\n                  timeInfo: null,\n                  featureStore: new y({\n                    geometryType: u,\n                    hasM: !1,\n                    hasZ: !1\n                  })\n                });\n                _context2.next = 12;\n                return this._snapshotFeatures(s(t.signal));\n\n              case 12:\n                c = _context2.sent;\n                return _context2.abrupt(\"return\", (this._queryEngine.featureStore.addMany(c), {\n                  extent: this._queryEngine.fullExtent\n                }));\n\n              case 14:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function load(_x2, _x3) {\n        return _load.apply(this, arguments);\n      }\n\n      return load;\n    }()\n  }, {\n    key: \"applyEdits\",\n    value: function () {\n      var _applyEdits = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                throw new e(\"wfs-source:editing-not-supported\", \"applyEdits() is not supported on WFSLayer\");\n\n              case 1:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function applyEdits() {\n        return _applyEdits.apply(this, arguments);\n      }\n\n      return applyEdits;\n    }()\n  }, {\n    key: \"queryFeatures\",\n    value: function () {\n      var _queryFeatures = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n        var e,\n            t,\n            _args4 = arguments;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                e = _args4.length > 0 && _args4[0] !== undefined ? _args4[0] : {};\n                t = _args4.length > 1 && _args4[1] !== undefined ? _args4[1] : {};\n                _context4.next = 4;\n                return this._waitSnapshotComplete();\n\n              case 4:\n                return _context4.abrupt(\"return\", this._queryEngine.executeQuery(e, t.signal));\n\n              case 5:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function queryFeatures() {\n        return _queryFeatures.apply(this, arguments);\n      }\n\n      return queryFeatures;\n    }()\n  }, {\n    key: \"queryFeatureCount\",\n    value: function () {\n      var _queryFeatureCount = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n        var e,\n            t,\n            _args5 = arguments;\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                e = _args5.length > 0 && _args5[0] !== undefined ? _args5[0] : {};\n                t = _args5.length > 1 && _args5[1] !== undefined ? _args5[1] : {};\n                _context5.next = 4;\n                return this._waitSnapshotComplete();\n\n              case 4:\n                return _context5.abrupt(\"return\", this._queryEngine.executeQueryForCount(e, t.signal));\n\n              case 5:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function queryFeatureCount() {\n        return _queryFeatureCount.apply(this, arguments);\n      }\n\n      return queryFeatureCount;\n    }()\n  }, {\n    key: \"queryObjectIds\",\n    value: function () {\n      var _queryObjectIds = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6() {\n        var e,\n            t,\n            _args6 = arguments;\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                e = _args6.length > 0 && _args6[0] !== undefined ? _args6[0] : {};\n                t = _args6.length > 1 && _args6[1] !== undefined ? _args6[1] : {};\n                _context6.next = 4;\n                return this._waitSnapshotComplete();\n\n              case 4:\n                return _context6.abrupt(\"return\", this._queryEngine.executeQueryForIds(e, t.signal));\n\n              case 5:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function queryObjectIds() {\n        return _queryObjectIds.apply(this, arguments);\n      }\n\n      return queryObjectIds;\n    }()\n  }, {\n    key: \"queryExtent\",\n    value: function () {\n      var _queryExtent = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7() {\n        var e,\n            t,\n            _args7 = arguments;\n        return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                e = _args7.length > 0 && _args7[0] !== undefined ? _args7[0] : {};\n                t = _args7.length > 1 && _args7[1] !== undefined ? _args7[1] : {};\n                _context7.next = 4;\n                return this._waitSnapshotComplete();\n\n              case 4:\n                return _context7.abrupt(\"return\", this._queryEngine.executeQueryForExtent(e, t.signal));\n\n              case 5:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function queryExtent() {\n        return _queryExtent.apply(this, arguments);\n      }\n\n      return queryExtent;\n    }()\n  }, {\n    key: \"querySnapping\",\n    value: function () {\n      var _querySnapping = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(e) {\n        var t,\n            _args8 = arguments;\n        return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                t = _args8.length > 1 && _args8[1] !== undefined ? _args8[1] : {};\n                _context8.next = 3;\n                return this._waitSnapshotComplete();\n\n              case 3:\n                return _context8.abrupt(\"return\", this._queryEngine.executeQueryForSnapping(e, t.signal));\n\n              case 4:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n\n      function querySnapping(_x4) {\n        return _querySnapping.apply(this, arguments);\n      }\n\n      return querySnapping;\n    }()\n  }, {\n    key: \"refresh\",\n    value: function () {\n      var _refresh = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9(r) {\n        var _this2 = this;\n\n        var s;\n        return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                this._customParameters = r;\n                null == (s = this._snapshotTask) || s.abort();\n                this._snapshotTask = i(this._snapshotFeatures);\n\n                this._snapshotTask.promise.then(function (e) {\n                  _this2._queryEngine.featureStore.clear(), e && _this2._queryEngine.featureStore.addMany(e);\n                }, function (r) {\n                  _this2._queryEngine.featureStore.clear(), n(r) || t.getLogger(\"esri.layers.WFSLayer\").error(new e(\"wfs-layer:getfeature-error\", \"An error occurred during the GetFeature request\", {\n                    error: r\n                  }));\n                });\n\n                _context9.next = 6;\n                return this._waitSnapshotComplete();\n\n              case 6:\n                return _context9.abrupt(\"return\", {\n                  extent: this._queryEngine.fullExtent\n                });\n\n              case 7:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this);\n      }));\n\n      function refresh(_x5) {\n        return _refresh.apply(this, arguments);\n      }\n\n      return refresh;\n    }()\n  }, {\n    key: \"_waitSnapshotComplete\",\n    value: function () {\n      var _waitSnapshotComplete2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee10() {\n        return _regeneratorRuntime.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                if (!(this._snapshotTask && !this._snapshotTask.finished)) {\n                  _context10.next = 9;\n                  break;\n                }\n\n                _context10.prev = 1;\n                _context10.next = 4;\n                return this._snapshotTask.promise;\n\n              case 4:\n                _context10.next = 8;\n                break;\n\n              case 6:\n                _context10.prev = 6;\n                _context10.t0 = _context10[\"catch\"](1);\n\n              case 8:\n                return _context10.abrupt(\"return\", this._waitSnapshotComplete());\n\n              case 9:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, this, [[1, 6]]);\n      }));\n\n      function _waitSnapshotComplete() {\n        return _waitSnapshotComplete2.apply(this, arguments);\n      }\n\n      return _waitSnapshotComplete;\n    }()\n  }, {\n    key: \"_checkProjection\",\n    value: function () {\n      var _checkProjection2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee11(t) {\n        return _regeneratorRuntime.wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                _context11.prev = 0;\n                _context11.next = 3;\n                return c(u, t);\n\n              case 3:\n                _context11.next = 8;\n                break;\n\n              case 5:\n                _context11.prev = 5;\n                _context11.t0 = _context11[\"catch\"](0);\n                throw new e(\"unsupported-projection\", \"Projection not supported\", {\n                  spatialReference: t\n                });\n\n              case 8:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee11, null, [[0, 5]]);\n      }));\n\n      function _checkProjection(_x6) {\n        return _checkProjection2.apply(this, arguments);\n      }\n\n      return _checkProjection;\n    }()\n  }]);\n\n  return E;\n}();\n\nexport { E as default };"],"names":["_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","minLen","_arrayLikeToArray","n","Object","prototype","toString","call","slice","constructor","name","from","test","_unsupportedIterableToArray","length","i","F","s","done","value","e","_e2","f","TypeError","err","normalCompletion","didErr","step","next","_e3","return","arr","len","arr2","E","_this","this","_queryEngine","_customParameters","_snapshotFeatures","_ref","_callee","t","_iterator","_step","_a","_iterator2","_step2","_r","_e","_context","prev","objectIdField","_getFeatureUrl","_featureType","typeName","_getFeatureOutputFormat","customParameters","dateFields","fieldsIndex","map","signal","sent","geometryType","hasZ","spatialReference","geometry","_fieldsIndex","attributes","objectId","abrupt","stop","_x","apply","arguments","_checkProjection2","_waitSnapshotComplete2","_refresh","_querySnapping","_queryExtent","_queryObjectIds","_queryFeatureCount","_queryFeatures","_applyEdits","_load","key","destroy","_callee2","r","u","p","h","l","c","_context2","getFeatureUrl","getFeatureOutputFormat","fields","featureType","_checkProjection","hasM","timeInfo","featureStore","addMany","extent","fullExtent","_x2","_x3","_callee3","_context3","_callee4","_args4","_context4","undefined","_waitSnapshotComplete","executeQuery","_callee5","_args5","_context5","executeQueryForCount","_callee6","_args6","_context6","executeQueryForIds","_callee7","_args7","_context7","executeQueryForExtent","_callee8","_args8","_context8","executeQueryForSnapping","_x4","_callee9","_this2","_context9","_snapshotTask","abort","promise","then","clear","error","_x5","_callee10","_context10","finished","t0","_callee11","_context11","_x6"],"sourceRoot":""}