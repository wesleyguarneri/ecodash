{"version":3,"file":"component---src-components-building-detail-tsx-ef04bbe619caf7c7e019.js","mappings":"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","sources":["webpack://energy-and-water-dashboard/./node_modules/highcharts-react-official/dist/highcharts-react.min.js","webpack://energy-and-water-dashboard/./src/styles/detailPage.module.scss","webpack://energy-and-water-dashboard/./src/hooks/useInitiumTable.tsx","webpack://energy-and-water-dashboard/./src/components/BarChart.tsx","webpack://energy-and-water-dashboard/./src/styles/BarChart.module.scss","webpack://energy-and-water-dashboard/./src/components/Wrapper.tsx","webpack://energy-and-water-dashboard/./src/styles/Wrapper.module.scss","webpack://energy-and-water-dashboard/./src/images/backArrow.svg","webpack://energy-and-water-dashboard/./src/images/windmill.svg","webpack://energy-and-water-dashboard/./src/components/BuildingDetail.tsx"],"sourcesContent":["!function (e, t) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = t(require(\"react\")) : \"function\" == typeof define && define.amd ? define([\"react\"], t) : \"object\" == typeof exports ? exports.HighchartsReact = t(require(\"react\")) : e.HighchartsReact = t(e.React);\n}(\"undefined\" != typeof self ? self : this, function (e) {\n  return function (e) {\n    function t(n) {\n      if (r[n]) return r[n].exports;\n      var o = r[n] = {\n        i: n,\n        l: !1,\n        exports: {}\n      };\n      return e[n].call(o.exports, o, o.exports, t), o.l = !0, o.exports;\n    }\n\n    var r = {};\n    return t.m = e, t.c = r, t.d = function (e, r, n) {\n      t.o(e, r) || Object.defineProperty(e, r, {\n        configurable: !1,\n        enumerable: !0,\n        get: n\n      });\n    }, t.n = function (e) {\n      var r = e && e.__esModule ? function () {\n        return e.default;\n      } : function () {\n        return e;\n      };\n      return t.d(r, \"a\", r), r;\n    }, t.o = function (e, t) {\n      return Object.prototype.hasOwnProperty.call(e, t);\n    }, t.p = \"\", t(t.s = 0);\n  }([function (e, t, r) {\n    \"use strict\";\n\n    function n() {\n      return n = Object.assign || function (e) {\n        for (var t = 1; t < arguments.length; t++) {\n          var r = arguments[t];\n\n          for (var n in r) {\n            Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]);\n          }\n        }\n\n        return e;\n      }, n.apply(this, arguments);\n    }\n\n    function o(e) {\n      return a(e) || i(e) || u(e) || c();\n    }\n\n    function c() {\n      throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n    }\n\n    function u(e, t) {\n      if (e) {\n        if (\"string\" == typeof e) return f(e, t);\n        var r = Object.prototype.toString.call(e).slice(8, -1);\n        return \"Object\" === r && e.constructor && (r = e.constructor.name), \"Map\" === r || \"Set\" === r ? Array.from(e) : \"Arguments\" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r) ? f(e, t) : void 0;\n      }\n    }\n\n    function i(e) {\n      if (\"undefined\" != typeof Symbol && null != e[Symbol.iterator] || null != e[\"@@iterator\"]) return Array.from(e);\n    }\n\n    function a(e) {\n      if (Array.isArray(e)) return f(e);\n    }\n\n    function f(e, t) {\n      (null == t || t > e.length) && (t = e.length);\n\n      for (var r = 0, n = new Array(t); r < t; r++) {\n        n[r] = e[r];\n      }\n\n      return n;\n    }\n\n    function s(e) {\n      \"@babel/helpers - typeof\";\n\n      return (s = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n        return typeof e;\n      } : function (e) {\n        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n      })(e);\n    }\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var p = r(1),\n        l = r.n(p),\n        y = \"undefined\" != typeof window ? p.useLayoutEffect : p.useEffect,\n        d = Object(p.forwardRef)(function (e, t) {\n      var r = Object(p.useRef)(),\n          c = Object(p.useRef)();\n      return y(function () {\n        function t() {\n          var t = e.highcharts || \"object\" === (\"undefined\" == typeof window ? \"undefined\" : s(window)) && window.Highcharts,\n              n = e.constructorType || \"chart\";\n          t ? t[n] ? e.options ? c.current = t[n](r.current, e.options, e.callback ? e.callback : void 0) : console.warn('The \"options\" property was not passed.') : console.warn('The \"constructorType\" property is incorrect or some required module is not imported.') : console.warn('The \"highcharts\" property was not passed.');\n        }\n\n        if (c.current) {\n          if (!1 !== e.allowChartUpdate) if (!e.immutable && c.current) {\n            var n;\n            (n = c.current).update.apply(n, [e.options].concat(o(e.updateArgs || [!0, !0])));\n          } else t();\n        } else t();\n      }), y(function () {\n        return function () {\n          c.current && (c.current.destroy(), c.current = null);\n        };\n      }, []), Object(p.useImperativeHandle)(t, function () {\n        return {\n          get chart() {\n            return c.current;\n          },\n\n          container: r\n        };\n      }, []), l.a.createElement(\"div\", n({}, e.containerProps, {\n        ref: r\n      }));\n    });\n    t.default = Object(p.memo)(d);\n  }, function (t, r) {\n    t.exports = e;\n  }]);\n});","// extracted by mini-css-extract-plugin\nexport var headingOne = \"detailPage-module--headingOne--NRD85\";\nexport var headingTwo = \"detailPage-module--headingTwo--p6IA6\";\nexport var buildingName = \"detailPage-module--buildingName--+c8XL\";\nexport var headingThree = \"detailPage-module--headingThree--JAtcD\";\nexport var subtitle = \"detailPage-module--subtitle--e+Dyg\";\nexport var card = \"detailPage-module--card--p-Jde\";\nexport var body = \"detailPage-module--body--YbkHi\";\nexport var overline = \"detailPage-module--overline--TPUhF\";\nexport var button = \"detailPage-module--button--1bBpw\";\nexport var caption = \"detailPage-module--caption---Lpy6\";\nexport var header = \"detailPage-module--header--ohhNv\";\nexport var arrow = \"detailPage-module--arrow--au5y+\";\nexport var flexCenter = \"detailPage-module--flexCenter--Hhiwl\";\nexport var equivalenciesSection = \"detailPage-module--equivalenciesSection--7G23M\";\nexport var content = \"detailPage-module--content--sgSw0\";","import FeatureLayer from \"@arcgis/core/layers/FeatureLayer\";\nimport Query from \"@arcgis/core/rest/support/Query\";\n\nimport React, { useEffect, useState, useMemo } from \"react\";\nimport { API_KEY } from \"../../secrets\";\nimport portalItems, { portalUrl } from \"../constants/portalItems\";\nimport useQuery from \"./useQuery\";\n\n/**\n * The initium table is where the building data is stored.\n * This hook is a convenience wrapper around the useQuery hook, that makes it easier to query the table as it will be accessed the most.\n * @param q is the query to be run. If none is provided the default query is run.\n * @returns\n */\nconst useInitiumTable = (q?: Query) => {\n  const table = new FeatureLayer({\n    url: portalItems.dataTable,\n  });\n\n  return useQuery(table, q || table.createQuery());\n};\n\nexport default useInitiumTable;\n","import React, { useEffect, useState, useMemo } from \"react\";\nimport { SideBarContext } from \"../pages\";\nimport Highcharts from \"highcharts\";\nimport * as styles from \"../styles/BarChart.module.scss\";\n// import {HighchartsChart, Chart, withHighcharts, XAxis, YAxis, Title, Subtitle, Legend, LineSeries, Caption, ColumnSeries, SplineSeries, PieSeries} from 'react-jsx-highcharts';\nimport HighchartsReact from \"highcharts-react-official\";\n//import { info } from \"console\";\nimport Query from \"@arcgis/core/rest/support/Query\";\nimport useInitiumTable from \"../hooks/useInitiumTable\";\n\n/**\n *  Uses HighCharts React to render a bar chart.\n *  This component could be easily generalized to support all types of charts that HighCharts supports.\n *  Essentially just update the options and the query and we can display whatever we want.\n */\nconst BarChart = ({ bId, timeFrame }) => {\n  // TODO: memo-ize this function?\n  const createQuery = (): Query => {\n    let q = new Query();\n    q.outFields = [\"Watts\", \"time\"];\n    q.where = `BUILDINGID = '${bId}' AND time >= CURRENT_TIMESTAMP - INTERVAL '168' HOUR`;\n    return q;\n  };\n\n  const data = useInitiumTable(createQuery());\n\n  const options = useMemo<Highcharts.Options>(() => {\n    const opts: Highcharts.Options = {\n      chart: {\n        zoomType: \"x\",\n      },\n      tooltip: {\n        pointFormatter: function () {\n          // const d = new Date(this.x).toLocaleString(undefined, {\n          //   month: \"2-digit\",\n          //   day: \"2-digit\",\n          //   year: \"2-digit\",\n          //   second: \"2-digit\",\n          //   minute: \"2-digit\",\n          // });\n          const energy = parseInt(this.y + \"\").toLocaleString() + \" kW\";\n\n          return `Used ${energy}`;\n        },\n      },\n      title: {\n        text: \"Wattage over Time\",\n      },\n      yAxis: {\n        title: {\n          text: \"Wattage (kW)\",\n        },\n        labels: {\n          formatter: function () {\n            return parseInt(this.value + \"\").toLocaleString() + \" kW\";\n          },\n        },\n      },\n      xAxis: {\n        title: {\n          text: \"Time\",\n        },\n        labels: {\n          allowOverlap: false,\n          padding: 20,\n          formatter: function () {\n            return new Date(this.value).toLocaleString(undefined, {\n              month: \"2-digit\",\n              day: \"2-digit\",\n              year: \"2-digit\",\n              hour: \"numeric\",\n              minute: \"2-digit\",\n            });\n          },\n        },\n        type: \"datetime\",\n        // tickInterval: 1000 * 60 * 60 * 12\n        // milliseconds * seconds * minutes * hours * days = 1 year\n      },\n      series: [\n        {\n          name: \"Energy Consumption\",\n          type: \"area\",\n          data: data\n            ? data.map((d) => {\n                return [\n                  d.time,\n                  d.Watts/1000.0,\n                ];\n              })\n            : [],\n        },\n      ],\n    };\n    return opts;\n  }, [data]);\n\n  return (\n    <div className={styles.container}>\n      <HighchartsReact highcharts={Highcharts} options={options} />\n    </div>\n  );\n};\n\nexport default BarChart;\n","// extracted by mini-css-extract-plugin\nexport var container = \"BarChart-module--container--+4X0n\";","import React from \"react\";\nimport * as styles from \"../styles/Wrapper.module.scss\";\nimport * as globals from \"../styles/globals.scss\";\n\n/**\n *  Component to wrap pages. Constrains content to a maxWidth of 900px and centers it.\n */\nexport default function Wrapper({ children }) {\n  return (\n    <div className={styles.page}>\n      <div className={styles.wrapper}>{children}</div>\n    </div>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport var page = \"Wrapper-module--page--qFznC\";\nexport var wrapper = \"Wrapper-module--wrapper--BrJQs\";","export default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iNTMiIHZpZXdCb3g9IjAgMCA1MyA1MyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTQxLjk1ODUgMjQuMjkxNkgxNS43Njc3TDIzLjc4MzkgMTQuNjYzM0MyNC4xNTg4IDE0LjIxMjMgMjQuMzM5MSAxMy42MzA5IDI0LjI4NTIgMTMuMDQ3QzI0LjIzMTQgMTIuNDYzIDIzLjk0NzggMTEuOTI0NCAyMy40OTY4IDExLjU0OTZDMjMuMDQ1OCAxMS4xNzQ3IDIyLjQ2NDQgMTAuOTk0NCAyMS44ODA1IDExLjA0ODJDMjEuMjk2NiAxMS4xMDIxIDIwLjc1NzkgMTEuMzg1NyAyMC4zODMxIDExLjgzNjZMOS4zNDE0MSAyNS4wODY2QzkuMjY3MTMgMjUuMTkyIDkuMjAwNyAyNS4zMDI4IDkuMTQyNjYgMjUuNDE3OUM5LjE0MjY2IDI1LjUyODMgOS4xNDI2NiAyNS41OTQ2IDguOTg4MDggMjUuNzA1QzguODg3OTggMjUuOTU4MiA4LjgzNTU3IDI2LjIyNzcgOC44MzM1IDI2LjVDOC44MzU1NyAyNi43NzIyIDguODg3OTggMjcuMDQxOCA4Ljk4ODA4IDI3LjI5NUM4Ljk4ODA4IDI3LjQwNTQgOC45ODgwOCAyNy40NzE2IDkuMTQyNjYgMjcuNTgyMUM5LjIwMDcgMjcuNjk3MiA5LjI2NzEzIDI3LjgwNzkgOS4zNDE0MSAyNy45MTMzTDIwLjM4MzEgNDEuMTYzM0MyMC41OTA3IDQxLjQxMjYgMjAuODUwNyA0MS42MTMxIDIxLjE0NDYgNDEuNzUwNUMyMS40Mzg1IDQxLjg4NzkgMjEuNzU5MSA0MS45NTg4IDIyLjA4MzUgNDEuOTU4M0MyMi41OTk1IDQxLjk1OTMgMjMuMDk5NSA0MS43Nzk2IDIzLjQ5NjggNDEuNDUwNEMyMy43MjA0IDQxLjI2NSAyMy45MDUzIDQxLjAzNzMgMjQuMDQwOCA0MC43ODA0QzI0LjE3NjMgNDAuNTIzNSAyNC4yNTk3IDQwLjI0MjMgMjQuMjg2NCAzOS45NTMxQzI0LjMxMzEgMzkuNjYzOCAyNC4yODI0IDM5LjM3MjIgMjQuMTk2MiAzOS4wOTQ4QzI0LjExIDM4LjgxNzQgMjMuOTY5OSAzOC41NTk4IDIzLjc4MzkgMzguMzM2NkwxNS43Njc3IDI4LjcwODNINDEuOTU4NUM0Mi41NDQyIDI4LjcwODMgNDMuMTA1OSAyOC40NzU2IDQzLjUyIDI4LjA2MTVDNDMuOTM0MiAyNy42NDc0IDQ0LjE2NjggMjcuMDg1NyA0NC4xNjY4IDI2LjVDNDQuMTY2OCAyNS45MTQzIDQzLjkzNDIgMjUuMzUyNiA0My41MiAyNC45Mzg1QzQzLjEwNTkgMjQuNTI0MyA0Mi41NDQyIDI0LjI5MTYgNDEuOTU4NSAyNC4yOTE2WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==\"","export default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTQiIGhlaWdodD0iMTA1IiB2aWV3Qm94PSIwIDAgOTQgMTA1IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNNTAuMzA5MyA5Ni43NVY1MS44MjE1QzUyLjI3OTQgNTEuMDQ5MiA1My45ODE0IDQ5LjYwNTUgNTUuMTc0IDQ3LjY5NTJMODMuNjEwOCA1Ni4xODc1TDg1LjMyNSA0OS4wNjMyTDU2Ljg0ODUgNDAuNTYzNkM1Ni42NjcgMzguMDIzNCA1NS43MDAyIDM1LjYzMjEgNTQuMTEzIDMzLjc5NzZDNTIuNTI1OCAzMS45NjMxIDUwLjQxNjUgMzAuNzk5MSA0OC4xNDUxIDMwLjUwNDFMNDEuMDIzNSAwLjg3NUwzNC42Mjk5IDIuNzg4ODFMNDEuNjg1MyAzMi4xMjY2QzM5LjYyODcgMzMuNTU1IDM4LjEyMDQgMzUuNzgyNSAzNy40NTIzIDM4LjM3ODNDMzYuNzg0MiA0MC45NzQxIDM3LjAwMzcgNDMuNzUzNyAzOC4wNjgzIDQ2LjE3OTZMMTcuMjE2NCA2OS40MTA5TDIxLjg5OSA3NC42MjVMNDIuNzQ3NiA1MS4zOTM3QzQzLjA1NSA1MS41NTM2IDQzLjM2OTkgNTEuNjk1MiA0My42OTA4IDUxLjgxNzhWOTYuNzVIMC42Njk5MjJWMTA0LjEyNUg5My4zMzAyVjk2Ljc1SDUwLjMwOTNaTTUwLjMwOTMgNDEuNDM3NUM1MC4zMDkzIDQyLjE2NjggNTAuMTE1MyA0Mi44Nzk4IDQ5Ljc1MTYgNDMuNDg2MkM0OS4zODggNDQuMDkyNiA0OC44NzEyIDQ0LjU2NTIgNDguMjY2NSA0NC44NDQzQzQ3LjY2MTggNDUuMTIzNCA0Ni45OTY0IDQ1LjE5NjQgNDYuMzU0NCA0NS4wNTQxQzQ1LjcxMjUgNDQuOTExOSA0NS4xMjI4IDQ0LjU2MDcgNDQuNjYgNDQuMDQ1QzQ0LjE5NzIgNDMuNTI5MyA0My44ODIgNDIuODcyMiA0My43NTQzIDQyLjE1NjlDNDMuNjI2NyA0MS40NDE2IDQzLjY5MjIgNDAuNzAwMiA0My45NDI3IDQwLjAyNjRDNDQuMTkzMSAzOS4zNTI2IDQ0LjYxNzMgMzguNzc2NiA0NS4xNjE1IDM4LjM3MTVDNDUuNzA1NyAzNy45NjYzIDQ2LjM0NTUgMzcuNzUgNDcuMDAwMSAzNy43NUM0Ny44Nzc3IDM3Ljc1IDQ4LjcxOTUgMzguMTM4NSA0OS4zNDAxIDM4LjgzQzQ5Ljk2MDcgMzkuNTIxNiA1MC4zMDkzIDQwLjQ1OTUgNTAuMzA5MyA0MS40Mzc1WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==\"","import * as styles from \"../styles/detailPage.module.scss\";\nimport BarChart from \"./BarChart\";\nimport Wrapper from \"./Wrapper\";\nimport React, { useEffect, useState, useMemo } from \"react\";\nimport backArrow from \"../images/backArrow.svg\";\nimport windmill from \"../images/windmill.svg\";\nimport { Link } from \"gatsby\";\nimport useQuery from \"../hooks/useQuery\";\n\nimport FeatureLayer from \"@arcgis/core/layers/FeatureLayer\";\nimport portalItems from \"../constants/portalItems\";\n\n// TODO: update this to use real equivalencies and conversions\nconst equivalencies = [\n  {\n    title: \"Annual Energy Usage so Far: \",\n    imgSrc: windmill,\n  },\n  {\n    title: \"Compared to last year: \",\n    imgSrc: windmill,\n  },\n  {\n    title: \"\\n Today compared to yesterday at this time: \",\n    imgSrc: windmill,\n  },\n  {\n    title: \"Equivalency\",\n    imgSrc: windmill,\n    text: \"Something about equivalencies\",\n  },\n];\n\nexport default function BuildingDetail({ pageContext }) {\n  const { id } = pageContext;\n\n  // We query the layer that joins the building data with energy data here instead of initium table because we need the meta data from the building.\n  // We could instead query the building layer, but that layer is not managed by us and I wanted to make sure we had control in case permissions change.\n  const table = new FeatureLayer({\n    url: portalItems.buildingTable,\n  });\n\n  // query the layer for the shortname of the building. In the future if we wish to display more information update q.outfields.\n  const createQuery = () => {\n    const q = table.createQuery();\n    q.outFields = [\"SHORTNAME\"];\n    q.where = `BUILDINGID = '${id}'`;\n    q.returnDistinctValues = true;\n    return q;\n  };\n\n  const data = useQuery(table, createQuery());\n\n  return (\n    <Wrapper>\n      <div className={styles.header}>\n        <Link to=\"/\">\n          <img src={backArrow} className={styles.arrow} />\n        </Link>\n        <h1 className={styles.buildingName}>\n          {data ? data.map((d) => d.SHORTNAME) : \"loading\"}\n        </h1>\n      </div>\n\n      <BarChart bId={id}></BarChart>\n\n      <div className={styles.flexCenter}>\n        <h2>How much energy is that?</h2>\n        <hr />\n      </div>\n      <section className={styles.equivalenciesSection}>\n        {equivalencies.map((e) => {\n          return <EquivalencyCard key={e.imgSrc} {...e} />;\n        })}\n      </section>\n    </Wrapper>\n  );\n}\n\nconst EquivalencyCard = ({ title, imgSrc, text }) => {\n  return (\n    <article className={styles.card}>\n      <div className={styles.content}>\n        <h3>{title}</h3>\n        <img src={imgSrc}></img>\n        <p>{text}</p>\n      </div>\n    </article>\n  );\n};\n"],"names":["e","self","module","exports","t","n","r","o","i","l","call","m","c","d","Object","defineProperty","configurable","enumerable","get","__esModule","default","prototype","hasOwnProperty","p","s","assign","arguments","length","apply","this","a","u","TypeError","f","toString","slice","constructor","name","Array","from","test","Symbol","iterator","isArray","value","y","window","useLayoutEffect","useEffect","forwardRef","useRef","highcharts","Highcharts","constructorType","options","current","callback","console","warn","allowChartUpdate","immutable","update","concat","updateArgs","destroy","useImperativeHandle","chart","container","createElement","containerProps","ref","memo","q","table","FeatureLayer","url","portalItems","useQuery","createQuery","bId","data","timeFrame","useInitiumTable","Query","outFields","where","useMemo","zoomType","tooltip","pointFormatter","parseInt","toLocaleString","title","text","yAxis","labels","formatter","xAxis","allowOverlap","padding","Date","undefined","month","day","year","hour","minute","type","series","map","time","Watts","className","Wrapper","children","equivalencies","imgSrc","windmill","BuildingDetail","id","pageContext","returnDistinctValues","Link","to","src","SHORTNAME","EquivalencyCard","key"],"sourceRoot":""}