"use strict";(self.webpackChunkenergy_and_water_dashboard=self.webpackChunkenergy_and_water_dashboard||[]).push([[566],{80566:function(e,r,n){n.r(r),n.d(r,{clearBoundingBoxCache:function(){return h},computeIconLayerResourceSize:function(){return w},computeLayerResourceSize:function(){return b},computeLayerSize:function(){return d},computeObjectLayerResourceSize:function(){return z}});var t=n(15861),u=n(87757),o=n.n(u),i=n(51916),c=n(33300),s=n(22045),a=n(10173),p=n(2009),f=n(61210),l=y();function y(){return new s.Z(50)}function h(){l=y()}function b(e,r){if("icon"===e.type)return w(e,r);if("object"===e.type)return z(e,r);throw new c.Z("symbol3d:unsupported-symbol-layer","computeLayerSize only works with symbol layers of type Icon and Object")}function d(e,r){return m.apply(this,arguments)}function m(){return(m=(0,t.Z)(o().mark((function e(r,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("icon"!==r.type){e.next=2;break}return e.abrupt("return",x(r,n));case 2:if("object"!==r.type){e.next=4;break}return e.abrupt("return",g(r,n));case 4:throw new c.Z("symbol3d:unsupported-symbol-layer","computeLayerSize only works with symbol layers of type Icon and Object");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,r){return v.apply(this,arguments)}function v(){return(v=(0,t.Z)(o().mark((function e(r,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.resource.href){e.next=2;break}return e.abrupt("return",k(r.resource.href).then((function(e){return[e.width,e.height]})));case 2:if(!r.resource.primitive){e.next=4;break}return e.abrupt("return",(0,a.pC)(n)?[n,n]:[256,256]);case 4:throw new c.Z("symbol3d:invalid-symbol-layer","symbol layers of type Icon must have either an href or a primitive resource");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,r){return w(e,r).then((function(r){if(null==e.size)return r;var n=r[0]/r[1];return n>1?[e.size,e.size/n]:[e.size*n,e.size]}))}function k(e){return(0,i.default)(e,{responseType:"image"}).then((function(e){return e.data}))}function z(e,r){return function(e,r){return j.apply(this,arguments)}(e,r).then((function(e){return(0,p.dp)(e)}))}function g(e,r){return Z.apply(this,arguments)}function Z(){return(Z=(0,t.Z)(o().mark((function e(r,n){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(r,n);case 2:return t=e.sent,e.abrupt("return",(0,f.$K)(t,r));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return(j=(0,t.Z)(o().mark((function e(r,t){var u,i,s,y,h,b;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.isPrimitive){e.next=11;break}if(u=r.resource.href,void 0===(i=l.get(u))){e.next=4;break}return e.abrupt("return",Promise.resolve(i));case 4:return e.next=6,Promise.all([n.e(9351),n.e(317),n.e(3659)]).then(n.bind(n,83659));case 6:return s=e.sent,e.next=9,s.fetch(u,{disableTextures:!0});case 9:return y=e.sent,e.abrupt("return",(l.put(u,y.referenceBoundingBox),y.referenceBoundingBox));case 11:if(h=null,r.resource&&r.resource.primitive&&(h=(0,p.Ue)((0,f.Uz)(r.resource.primitive)),(0,a.pC)(t)))for(b=0;b<h.length;b++)h[b]*=t;return e.abrupt("return",h?Promise.resolve(h):Promise.reject(new c.Z("symbol:invalid-resource","The symbol does not have a valid resource")));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=566-a9107a06de2246f1ac2d.js.map