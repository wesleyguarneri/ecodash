"use strict";(self.webpackChunkenergy_and_water_dashboard=self.webpackChunkenergy_and_water_dashboard||[]).push([[4748],{4748:function(e,n,t){t.r(n),t.d(n,{work:function(){return ne},wrappedWork:function(){return Y}});var r=t(15861),i=t(87757),o=t.n(i),a=t(64333);function c(e,n,t){for(var r=n/3,i=new Uint32Array(t+1),o=new Uint32Array(t+1),a=function(e,n){e<n?i[e+1]++:o[n+1]++},c=0;c<r;c++){var s=e[3*c],u=e[3*c+1],f=e[3*c+2];a(s,u),a(u,f),a(f,s)}for(var l=0,g=0,d=0;d<t;d++){var v=i[d+1],p=o[d+1];i[d+1]=l,o[d+1]=g,l+=v,g+=p}for(var h=new Uint32Array(6*r),m=i[t],w=function(e,n,t){if(e<n){var r=i[e+1]++;h[2*r]=n,h[2*r+1]=t}else{var a=o[n+1]++;h[2*m+2*a]=e,h[2*m+2*a+1]=t}},y=0;y<r;y++){var b=e[3*y],A=e[3*y+1],k=e[3*y+2];w(b,A,y),w(A,k,y),w(k,b,y)}for(var I=function(e,n){for(var t=2*e,r=n-e,i=1;i<r;i++){for(var o=h[t+2*i],a=h[t+2*i+1],c=i-1;c>=0&&h[t+2*c]>o;c--)h[t+2*c+2]=h[t+2*c],h[t+2*c+3]=h[t+2*c+1];h[t+2*c+2]=o,h[t+2*c+3]=a}},O=0;O<t;O++)I(i[O],i[O+1]),I(m+o[O],m+o[O+1]);for(var S=new Int32Array(3*r),E=function(n,t){return n===e[3*t]?0:n===e[3*t+1]?1:n===e[3*t+2]?2:-1},N=function(e,n){var t=E(e,n);S[3*n+t]=-1},P=function(e,n,t,r){var i=E(e,n);S[3*n+i]=r;var o=E(t,r);S[3*r+o]=n},V=0;V<t;V++){for(var x=i[V],L=i[V+1],D=o[V],j=o[V+1];x<L&&D<j;){var U=h[2*x],W=h[2*m+2*D];U===W?(P(V,h[2*x+1],W,h[2*m+2*D+1]),x++,D++):U<W?(N(V,h[2*x+1]),x++):(N(W,h[2*m+2*D+1]),D++)}for(;x<L;)N(V,h[2*x+1]),x++;for(;D<j;)N(h[2*m+2*D],h[2*m+2*D+1]),D++}return S}var s=t(4942),u=t(33503),f=t(9452);function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function g(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function d(e,n){return n.push(e.buffer),{buffer:e.buffer,layout:v(e.layout)}}function v(e){var n=new Array;return e.fields.forEach((function(e,t){var r=g(g({},e),{},{constructor:h(e.constructor)});n.push([t,r])})),{stride:e.stride,fields:n,fieldNames:e.fieldNames}}var p=[u.ly,u.Eu,u.ct,u.ek,u.gK,u.bj,u.oS,u.q6,u.fP,u.Cd,u.ey,u.O1,u.D_,u.xA,u.ne,u.mc,u.av,u.TS,u.mw,u.v6,u.Nu,u.qt,u.G5,u.hu,u.Hz,u.Vs,u.P_,u.ir,u.o7,u.or,u.n1,u.zO,u.Jj,u.wA,u.PP,u.TN];function h(e){return"".concat(e.ElementType,"_").concat(e.ElementCount)}var m=new Map;function w(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=e.stride;return e.fieldNames.filter((function(n){var t=e.fields.get(n).optional;return!(t&&t.glPadding)})).map((function(r){var i=e.fields.get(r),o=i.constructor.ElementCount,a=y(i.constructor.ElementType),c=i.offset,s=!(!i.optional||!i.optional.glNormalized);return{name:r,stride:t,count:o,type:a,offset:c,normalized:s,divisor:n}}))}function y(e){var n=b[e];if(n)return n;throw new Error("BufferType not supported in WebGL")}p.forEach((function(e){return m.set(h(e),e)}));var b={u8:5121,u16:5123,u32:5125,i8:5120,i16:5122,i32:5124,f32:5126},A=(0,f.U$)().vec3f("position").u16("componentIndex").u16("u16padding"),k=(w((0,f.U$)().vec2u8("sideness")),(0,f.U$)().vec3f("position0").vec3f("position1").u16("componentIndex").u8("variantOffset",{glNormalized:!0}).u8("variantStroke").u8("variantExtension",{glNormalized:!0}).u8("u8padding",{glPadding:!0}).u16("u16padding",{glPadding:!0})),I=k.clone().vec3f("normal"),O=k.clone().vec3f("normalA").vec3f("normalB"),S=(new Map([["position0",0],["position1",1],["componentIndex",2],["variantOffset",3],["variantStroke",4],["variantExtension",5],["normal",6],["normalA",6],["normalB",7],["sideness",8]]),t(15671)),E=t(43144),N=t(93590),P=t(77880),V=t(73415),x=function(){function e(){(0,S.Z)(this,e)}return(0,E.Z)(e,[{key:"updateSettings",value:function(e){this.settings=e,this.edgeHashFunction=e.reducedPrecision?W:U}},{key:"write",value:function(e,n,t){var r=this.edgeHashFunction(t);_.seed=r;var i=_.getIntRange(0,255),o=_.getIntRange(0,this.settings.variants-1),a=_.getFloat(),c=255*(.5*function(e,n){var t=e<0?-1:1;return Math.pow(Math.abs(e),n)*t}(-(1-Math.min(a/.7,1))+Math.max(0,a-.7)/(1-.7),1.2)+.5);e.position0.setVec(n,t.position0),e.position1.setVec(n,t.position1),e.componentIndex.set(n,t.componentIndex),e.variantOffset.set(n,i),e.variantStroke.set(n,o),e.variantExtension.set(n,c)}},{key:"trim",value:function(e,n){return e.slice(0,n)}}]),e}(),L=new Float32Array(6),D=new Uint32Array(L.buffer),j=new Uint32Array(1);function U(e){var n=L;n[0]=e.position0[0],n[1]=e.position0[1],n[2]=e.position0[2],n[3]=e.position1[0],n[4]=e.position1[1],n[5]=e.position1[2],j[0]=5381;for(var t=0;t<D.length;t++)j[0]=31*j[0]+D[t];return j[0]}function W(e){var n=L;n[0]=Z(e.position0[0]),n[1]=Z(e.position0[1]),n[2]=Z(e.position0[2]),n[3]=Z(e.position1[0]),n[4]=Z(e.position1[1]),n[5]=Z(e.position1[2]),j[0]=5381;for(var t=0;t<D.length;t++)j[0]=31*j[0]+D[t];return j[0]}function Z(e){return Math.round(1e4*e)/1e4}var B=function(){function e(){(0,S.Z)(this,e),this.commonWriter=new x}return(0,E.Z)(e,[{key:"updateSettings",value:function(e){this.commonWriter.updateSettings(e)}},{key:"allocate",value:function(e){return I.createBuffer(e)}},{key:"write",value:function(e,n,t){this.commonWriter.write(e,n,t),(0,P.b)(M,t.faceNormal0,t.faceNormal1),(0,P.n)(M,M),e.normal.setVec(n,M)}},{key:"trim",value:function(e,n){return this.commonWriter.trim(e,n)}}]),e}();B.Layout=I,B.glLayout=w(I,1);var F=function(){function e(){(0,S.Z)(this,e),this.commonWriter=new x}return(0,E.Z)(e,[{key:"updateSettings",value:function(e){this.commonWriter.updateSettings(e)}},{key:"allocate",value:function(e){return O.createBuffer(e)}},{key:"write",value:function(e,n,t){this.commonWriter.write(e,n,t),e.normalA.setVec(n,t.faceNormal0),e.normalB.setVec(n,t.faceNormal1)}},{key:"trim",value:function(e,n){return this.commonWriter.trim(e,n)}}]),e}();F.Layout=O,F.glLayout=w(O,1);var M=(0,V.c)(),_=new N.Z,T=t(43079),z=t(56489),C=t(29812),q=-1;function H(e,n){return e.cosAngle<n}function $(e,n){return e.cosAngle>n}function G(e,n){var t=(0,z.ZF)(e.cosAngle),r=K.fwd,i=K.ortho;return(0,P.r)(r,e.position1,e.position0),t*((0,P.d)((0,P.c)(i,e.faceNormal0,e.faceNormal1),r)>0?-1:1)>n}function R(e){for(var n=e.faces.length/3,t=e.faces,r=e.neighbors,i=0,o=0;o<n;o++){var a=r[3*o+0],c=r[3*o+1],s=r[3*o+2],u=t[3*o+0],f=t[3*o+1],l=t[3*o+2];i+=a===q||u<f?1:0,i+=c===q||f<l?1:0,i+=s===q||l<u?1:0}for(var g=new Int32Array(4*i),d=0,v=0;v<n;v++){var p=r[3*v+0],h=r[3*v+1],m=r[3*v+2],w=t[3*v+0],y=t[3*v+1],b=t[3*v+2];(p===q||w<y)&&(g[d++]=w,g[d++]=y,g[d++]=v,g[d++]=p),(h===q||y<b)&&(g[d++]=y,g[d++]=b,g[d++]=v,g[d++]=h),(m===q||b<w)&&(g[d++]=b,g[d++]=w,g[d++]=v,g[d++]=m)}return g}function J(e){for(var n=e.faces.length/3,t=e.vertices.position,r=e.faces,i=Q.v0,o=Q.v1,a=Q.v2,c=new Float32Array(3*n),s=0;s<n;s++){var u=r[3*s+0],f=r[3*s+1],l=r[3*s+2];t.getVec(u,i),t.getVec(f,o),t.getVec(l,a),(0,P.f)(o,o,i),(0,P.f)(a,a,i),(0,P.c)(i,o,a),(0,P.n)(i,i),c[3*s+0]=i[0],c[3*s+1]=i[1],c[3*s+2]=i[2]}return c}var K={edge:{position0:(0,V.c)(),position1:(0,V.c)(),faceNormal0:(0,V.c)(),faceNormal1:(0,V.c)(),componentIndex:0,cosAngle:0},ortho:(0,V.c)(),fwd:(0,V.c)()},Q={v0:(0,V.c)(),v1:(0,V.c)(),v2:(0,V.c)()},X={anglePlanar:4,angleSignificantEdge:35};function Y(e){return ee.apply(this,arguments)}function ee(){return ee=(0,r.Z)(o().mark((function e(n){var t,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=te(n),r=ne(t),i=[t.data.buffer],e.abrupt("return",{result:re(r,i),transferList:i});case 2:case"end":return e.stop()}}),e)}))),ee.apply(this,arguments)}function ne(e){var n=ie(e.data,e.skipDeduplicate,e.indices,e.indicesLength);return oe.updateSettings(e.writerSettings),ae.updateSettings(e.writerSettings),function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:X,i=e.vertices.position,o=e.vertices.componentIndex,a=(0,z.Vl)(r.anglePlanar),c=(0,z.Vl)(r.angleSignificantEdge),s=Math.cos(c),u=Math.cos(a),f=K.edge,l=f.position0,g=f.position1,d=f.faceNormal0,v=f.faceNormal1,p=J(e),h=R(e),m=h.length/4,w=n.allocate(m),y=0,b=m,A=t.allocate(b),k=0,I=0,O=0,S=(0,T.w6)(0,m),E=new Float32Array(m);(0,C.Ed)(E,(function(e,n,t){i.getVec(h[4*n+0],l),i.getVec(h[4*n+1],g),t[n]=(0,P.i)(l,g)})),S.sort((function(e,n){return E[n]-E[e]}));for(var N=new Array,V=new Array,x=0;x<m;x++){var L=S[x],D=E[L],j=h[4*L+0],U=h[4*L+1],W=h[4*L+2],Z=h[4*L+3],B=Z===q;if(i.getVec(j,l),i.getVec(U,g),B)(0,P.s)(d,p[3*W+0],p[3*W+1],p[3*W+2]),(0,P.g)(v,d),f.componentIndex=o.get(j),f.cosAngle=(0,P.d)(d,v);else{if((0,P.s)(d,p[3*W+0],p[3*W+1],p[3*W+2]),(0,P.s)(v,p[3*Z+0],p[3*Z+1],p[3*Z+2]),f.componentIndex=o.get(j),f.cosAngle=(0,P.d)(d,v),$(f,u))continue;f.cosAngle<-.9999&&(0,P.g)(v,d)}I+=D,O++,B||H(f,s)?(n.write(w,y++,f),N.push(D)):G(f,a)&&(t.write(A,k++,f),V.push(D))}var F=new Float32Array(N.reverse()),M=new Float32Array(V.reverse());return{regular:{instancesData:n.trim(w,y),lodInfo:{lengths:F}},silhouette:{instancesData:t.trim(A,k),lodInfo:{lengths:M}},averageEdgeLength:I/O}}(n,oe,ae)}function te(e){return{data:A.createView(e.dataBuffer),indices:"Uint32Array"===e.indicesType?new Uint32Array(e.indicesBuffer):"Uint16Array"===e.indicesType?new Uint16Array(e.indicesBuffer):void 0,indicesLength:e.indicesLength,writerSettings:e.writerSettings,skipDeduplicate:e.skipDeduplicate}}function re(e,n){return n.push(e.regular.lodInfo.lengths.buffer),n.push(e.silhouette.lodInfo.lengths.buffer),{regular:{instancesData:d(e.regular.instancesData,n),lodInfo:{lengths:e.regular.lodInfo.lengths.buffer}},silhouette:{instancesData:d(e.silhouette.instancesData,n),lodInfo:{lengths:e.silhouette.lodInfo.lengths.buffer}},averageEdgeLength:e.averageEdgeLength}}function ie(e,n,t,r){if(n)return{faces:t,facesLength:r,neighbors:c(t,r,e.count),vertices:e};var i=(0,a.d)(e.buffer,e.stride/4,{originalIndices:t,originalIndicesLength:r}),o=c(i.indices,r,i.uniqueCount);return{faces:i.indices,facesLength:i.indices.length,neighbors:o,vertices:A.createView(i.buffer)}}var oe=new B,ae=new F}}]);
//# sourceMappingURL=4748-59f2109bccfa8ec8ec0f.js.map