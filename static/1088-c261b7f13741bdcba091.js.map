{"version":3,"file":"1088-c261b7f13741bdcba091.js","mappings":"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","sources":["webpack://energy-and-water-dashboard/./node_modules/@arcgis/core/layers/TileLayer.js"],"sourcesContent":["import _defineProperty from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _classCallCheck from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport \"../geometry.js\";\nimport r from \"../request.js\";\nimport t from \"../core/Error.js\";\nimport { HandleOwnerMixin as s } from \"../core/HandleOwner.js\";\nimport { isSome as i } from \"../core/maybe.js\";\nimport { MultiOriginJSONMixin as o } from \"../core/MultiOriginJSONSupport.js\";\nimport { throwIfAbortError as a } from \"../core/promiseUtils.js\";\nimport { urlToObject as l, objectToQuery as n, makeAbsolute as p } from \"../core/urlUtils.js\";\nimport { property as c } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/arrayUtils.js\";\nimport \"../core/has.js\";\nimport { cast as u } from \"../core/accessorSupport/decorators/cast.js\";\nimport { reader as m } from \"../core/accessorSupport/decorators/reader.js\";\nimport { subclass as h } from \"../core/accessorSupport/decorators/subclass.js\";\nimport { writer as d } from \"../core/accessorSupport/decorators/writer.js\";\nimport y from \"./Layer.js\";\nimport { APIKeyMixin as f } from \"./mixins/APIKeyMixin.js\";\nimport { ArcGISCachedService as v } from \"./mixins/ArcGISCachedService.js\";\nimport { ArcGISMapService as g } from \"./mixins/ArcGISMapService.js\";\nimport { ArcGISService as S } from \"./mixins/ArcGISService.js\";\nimport { BlendLayer as _ } from \"./mixins/BlendLayer.js\";\nimport { CustomParametersMixin as j } from \"./mixins/CustomParametersMixin.js\";\nimport { OperationalLayer as b } from \"./mixins/OperationalLayer.js\";\nimport { PortalLayer as T } from \"./mixins/PortalLayer.js\";\nimport { RefreshableLayer as w } from \"./mixins/RefreshableLayer.js\";\nimport { ScaleRangeLayer as O } from \"./mixins/ScaleRangeLayer.js\";\nimport { SublayersOwner as L } from \"./mixins/SublayersOwner.js\";\nimport { parse as R, isHostedAgolService as x, isArcGISUrl as U } from \"./support/arcgisLayerUrl.js\";\nimport { url as P } from \"./support/commonProperties.js\";\nimport A from \"./support/Sublayer.js\";\nimport W from \"../geometry/SpatialReference.js\";\nvar I = [\"Canvas/World_Dark_Gray_Base\", \"Canvas/World_Dark_Gray_Reference\", \"Canvas/World_Light_Gray_Base\", \"Canvas/World_Light_Gray_Reference\", \"Elevation/World_Hillshade\", \"Elevation/World_Hillshade_Dark\", \"Ocean/World_Ocean_Base\", \"Ocean/World_Ocean_Reference\", \"Ocean_Basemap\", \"Reference/World_Boundaries_and_Places\", \"Reference/World_Boundaries_and_Places_Alternate\", \"Reference/World_Transportation\", \"World_Imagery\", \"World_Street_Map\", \"World_Topo_Map\"];\n\nvar M = /*#__PURE__*/function (_ref) {\n  _inherits(M, _ref);\n\n  var _super = _createSuper(M);\n\n  function M() {\n    var _this;\n\n    _classCallCheck(this, M);\n\n    for (var _len = arguments.length, e = new Array(_len), _key = 0; _key < _len; _key++) {\n      e[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(e)), _this.listMode = \"show\", _this.isReference = null, _this.operationalLayerType = \"ArcGISTiledMapServiceLayer\", _this.resampling = !0, _this.sourceJSON = null, _this.spatialReference = null, _this.path = null, _this.sublayers = null, _this.type = \"tile\", _this.url = null;\n    return _this;\n  }\n\n  _createClass(M, [{\n    key: \"normalizeCtorArgs\",\n    value: function normalizeCtorArgs(e, r) {\n      return \"string\" == typeof e ? _objectSpread({\n        url: e\n      }, r) : e;\n    }\n  }, {\n    key: \"load\",\n    value: function load(e) {\n      var _this2 = this;\n\n      var r = i(e) ? e.signal : null;\n      return this.addResolvingPromise(this.loadFromPortal({\n        supportedTypes: [\"Map Service\"]\n      }, e).catch(a).then(function () {\n        return _this2._fetchService(r);\n      })), Promise.resolve(this);\n    }\n  }, {\n    key: \"attributionDataUrl\",\n    get: function get() {\n      var e;\n      var r = null == (e = this.parsedUrl) ? void 0 : e.path.toLowerCase();\n      return r && this._getDefaultAttribution(this._getMapName(r));\n    }\n  }, {\n    key: \"readSpatialReference\",\n    value: function readSpatialReference(e, r) {\n      return (e = e || r.tileInfo && r.tileInfo.spatialReference) && W.fromJSON(e);\n    }\n  }, {\n    key: \"writeSublayers\",\n    value: function writeSublayers(e, r, t, s) {\n      if (!this.loaded || !e) return;\n\n      var i = e.slice().reverse().flatten(function (_ref2) {\n        var e = _ref2.sublayers;\n        return e && e.toArray().reverse();\n      }).toArray(),\n          o = [],\n          a = _objectSpread({\n        writeSublayerStructure: !1\n      }, s);\n\n      i.forEach(function (e) {\n        var r = e.write({}, a);\n        o.push(r);\n      });\n      o.some(function (e) {\n        return Object.keys(e).length > 1;\n      }) && (r.layers = o);\n    }\n  }, {\n    key: \"tileServers\",\n    get: function get() {\n      return this._getDefaultTileServers(this.parsedUrl.path);\n    }\n  }, {\n    key: \"castTileServers\",\n    value: function castTileServers(e) {\n      return Array.isArray(e) ? e.map(function (e) {\n        return l(e).path;\n      }) : null;\n    }\n  }, {\n    key: \"fetchTile\",\n    value: function fetchTile(e, t, s) {\n      var i = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n      var o = i.signal,\n          a = this.getTileUrl(e, t, s),\n          l = {\n        responseType: \"image\",\n        signal: o,\n        query: _objectSpread({}, this.refreshParameters)\n      };\n      return r(a, l).then(function (e) {\n        return e.data;\n      });\n    }\n  }, {\n    key: \"getTileUrl\",\n    value: function getTileUrl(e, r, t) {\n      var s = !this.tilemapCache && this.supportsBlankTile,\n          i = n(_objectSpread(_objectSpread(_objectSpread({}, this.parsedUrl.query), {}, {\n        blankTile: !s && null\n      }, this.customParameters), {}, {\n        token: this.apiKey\n      })),\n          o = this.tileServers;\n      return \"\".concat(o && o.length ? o[r % o.length] : this.parsedUrl.path, \"/tile/\").concat(e, \"/\").concat(r, \"/\").concat(t).concat(i ? \"?\" + i : \"\");\n    }\n  }, {\n    key: \"_fetchService\",\n    value: function _fetchService(e) {\n      var _this3 = this;\n\n      return new Promise(function (s, o) {\n        if (_this3.sourceJSON) {\n          if (null != _this3.sourceJSON.bandCount && null != _this3.sourceJSON.pixelSizeX) throw new t(\"tile-layer:unsupported-url\", \"use ImageryTileLayer to open a tiled image service\");\n          return void s({\n            data: _this3.sourceJSON\n          });\n        }\n\n        if (!_this3.parsedUrl) throw new t(\"tile-layer:undefined-url\", \"layer's url is not defined\");\n        var a = R(_this3.parsedUrl.path);\n        if (i(a) && \"ImageServer\" === a.serverType) throw new t(\"tile-layer:unsupported-url\", \"use ImageryTileLayer to open a tiled image service\");\n        r(_this3.parsedUrl.path, {\n          query: _objectSpread(_objectSpread(_objectSpread({\n            f: \"json\"\n          }, _this3.parsedUrl.query), _this3.customParameters), {}, {\n            token: _this3.apiKey\n          }),\n          responseType: \"json\",\n          signal: e\n        }).then(s, o);\n      }).then(function (r) {\n        if (r.ssl && (_this3.url = _this3.url.replace(/^http:/i, \"https:\")), _this3.sourceJSON = r.data, _this3.read(r.data, {\n          origin: \"service\",\n          url: _this3.parsedUrl\n        }), 10.1 === _this3.version && !x(_this3.url)) return _this3._fetchServerVersion(_this3.url, e).then(function (e) {\n          _this3.read({\n            currentVersion: e\n          });\n        }).catch(function () {});\n      });\n    }\n  }, {\n    key: \"_fetchServerVersion\",\n    value: function _fetchServerVersion(e, s) {\n      if (!U(e)) return Promise.reject();\n      var i = e.replace(/(.*\\/rest)\\/.*/i, \"$1\") + \"/info\";\n      return r(i, {\n        query: _objectSpread(_objectSpread({\n          f: \"json\"\n        }, this.customParameters), {}, {\n          token: this.apiKey\n        }),\n        responseType: \"json\",\n        signal: s\n      }).then(function (e) {\n        if (e.data && e.data.currentVersion) return e.data.currentVersion;\n        throw new t(\"tile-layer:version-not-available\");\n      });\n    }\n  }, {\n    key: \"_getMapName\",\n    value: function _getMapName(e) {\n      var r = e.match(/^(?:https?:)?\\/\\/(server\\.arcgisonline\\.com|services\\.arcgisonline\\.com|ibasemaps-api\\.arcgis\\.com)\\/arcgis\\/rest\\/services\\/([^\\/]+(\\/[^\\/]+)*)\\/mapserver/i);\n      return r && r[2];\n    }\n  }, {\n    key: \"_getDefaultAttribution\",\n    value: function _getDefaultAttribution(e) {\n      if (!e) return;\n      var r;\n      e = e.toLowerCase();\n\n      for (var _t = 0, _s = I.length; _t < _s; _t++) {\n        if (r = I[_t], r.toLowerCase().indexOf(e) > -1) return p(\"//static.arcgis.com/attribution/\" + r);\n      }\n    }\n  }, {\n    key: \"_getDefaultTileServers\",\n    value: function _getDefaultTileServers(e) {\n      var r = -1 !== e.search(/^(?:https?:)?\\/\\/server\\.arcgisonline\\.com/i),\n          t = -1 !== e.search(/^(?:https?:)?\\/\\/services\\.arcgisonline\\.com/i);\n      return r || t ? [e, e.replace(r ? /server\\.arcgisonline/i : /services\\.arcgisonline/i, r ? \"services.arcgisonline\" : \"server.arcgisonline\")] : [];\n    }\n  }, {\n    key: \"hasOverriddenFetchTile\",\n    get: function get() {\n      return !this.fetchTile.__isDefault__;\n    }\n  }]);\n\n  return M;\n}(_(L(O(b(T(v(g(S(o(s(w(f(j(y))))))))))))));\n\ne([c({\n  readOnly: !0\n})], M.prototype, \"attributionDataUrl\", null), e([c({\n  type: [\"show\", \"hide\", \"hide-children\"]\n})], M.prototype, \"listMode\", void 0), e([c({\n  type: Boolean,\n  json: {\n    read: !1,\n    write: {\n      enabled: !0,\n      overridePolicy: function overridePolicy() {\n        return {\n          enabled: !1\n        };\n      }\n    }\n  }\n})], M.prototype, \"isReference\", void 0), e([c({\n  readOnly: !0,\n  type: [\"ArcGISTiledMapServiceLayer\"]\n})], M.prototype, \"operationalLayerType\", void 0), e([c({\n  type: Boolean\n})], M.prototype, \"resampling\", void 0), e([c()], M.prototype, \"sourceJSON\", void 0), e([c({\n  type: W\n})], M.prototype, \"spatialReference\", void 0), e([m(\"spatialReference\", [\"spatialReference\", \"tileInfo\"])], M.prototype, \"readSpatialReference\", null), e([c({\n  type: String,\n  json: {\n    origins: {\n      \"web-scene\": {\n        read: !0,\n        write: !0\n      }\n    },\n    read: !1\n  }\n})], M.prototype, \"path\", void 0), e([c({\n  readOnly: !0\n})], M.prototype, \"sublayers\", void 0), e([d(\"sublayers\", {\n  layers: {\n    type: [A]\n  }\n})], M.prototype, \"writeSublayers\", null), e([c({\n  json: {\n    read: !1,\n    write: !1\n  }\n})], M.prototype, \"popupEnabled\", void 0), e([c()], M.prototype, \"tileServers\", null), e([u(\"tileServers\")], M.prototype, \"castTileServers\", null), e([c({\n  readOnly: !0,\n  json: {\n    read: !1\n  }\n})], M.prototype, \"type\", void 0), e([c(P)], M.prototype, \"url\", void 0), M = e([h(\"esri.layers.TileLayer\")], M), M.prototype.fetchTile.__isDefault__ = !0;\nvar C = M;\nexport { C as default };"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","prototype","valueOf","call","e","_isNativeReflectConstruct","result","Super","NewTarget","this","constructor","I","M","_ref","_super","_this","_len","Array","_key","concat","listMode","isReference","operationalLayerType","resampling","sourceJSON","spatialReference","path","sublayers","type","url","value","r","_this2","signal","addResolvingPromise","loadFromPortal","supportedTypes","catch","then","_fetchService","Promise","resolve","get","parsedUrl","toLowerCase","_getDefaultAttribution","_getMapName","tileInfo","t","s","loaded","slice","reverse","flatten","_ref2","toArray","o","a","writeSublayerStructure","write","some","layers","_getDefaultTileServers","isArray","map","undefined","getTileUrl","l","responseType","query","refreshParameters","data","tilemapCache","supportsBlankTile","blankTile","customParameters","token","apiKey","tileServers","_this3","bandCount","pixelSizeX","serverType","f","ssl","replace","read","origin","version","_fetchServerVersion","currentVersion","reject","match","_t","_s","indexOf","search","fetchTile","__isDefault__","readOnly","json","enabled","overridePolicy","String","origins","C"],"sourceRoot":""}