"use strict";(self.webpackChunkenergy_and_water_dashboard=self.webpackChunkenergy_and_water_dashboard||[]).push([[6561],{26561:function(t,e,n){n.r(e),n.d(e,{loadGLTFMesh:function(){return W}});var r=n(15861),o=n(87757),a=n.n(o),u=n(30004),i=n(51916),c=n(81660),s=n(10173),l=n(2834),f=n(59914),p=n(73415),d=n(32076),m=n(31923),g=n(86033),v=n(85855),y=n(49814),h=n(33503),w=n(78072),b=n(71165),C=n(22857),x=n(17765),A=n(54319),S=n(65302),M=n(35473),T=n(82741),k=n(14227),B=n(7576),Z=n(48030),E=n(54780);function F(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return I(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,i=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){i=!0,a=t},f:function(){try{u||null==n.return||n.return()}finally{if(i)throw a}}}}function I(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function W(t,e,n){return _.apply(this,arguments)}function _(){return(_=(0,r.Z)(a().mark((function t(e,n,r){var o,u,i,c,l,f,p,d,m,g,v,h,w,b,C,M,T;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=new A.C(j(r)),t.next=3,(0,S.z)(o,n,r,!0);case 3:u=t.sent.model,i=u.lods.shift(),c=new Map,l=new Map,u.textures.forEach((function(t,e){return c.set(e,z(t))})),u.materials.forEach((function(t,e){return l.set(e,D(t,c))})),f=R(i),p=F(f.parts);try{for(p.s();!(d=p.n()).done;)m=d.value,L(f,m,l)}catch(a){p.e(a)}finally{p.f()}return g=f.vertexAttributes,v=g.position,h=g.normal,w=g.tangent,b=g.color,C=g.texCoord0,M={position:v.typedBuffer,normal:(0,s.pC)(h)?h.typedBuffer:null,tangent:(0,s.pC)(w)?w.typedBuffer:null,uv:(0,s.pC)(C)?C.typedBuffer:null,color:(0,s.pC)(b)?b.typedBuffer:null},T=(0,x.w1)(M,e,r),t.abrupt("return",{transform:T.transform,components:f.components,spatialReference:e.spatialReference,vertexAttributes:new y.ZP({position:T.vertexAttributes.position,normal:T.vertexAttributes.normal,tangent:T.vertexAttributes.tangent,color:M.color,uv:M.uv})});case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function j(t){return null!=t&&t.resolveFile?{busy:!1,request:(e=(0,r.Z)(a().mark((function e(n,r,o){var u,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=t.resolveFile(n),c="image"===r?"image":"binary"===r?"array-buffer":"json",e.next=3,(0,i.default)(u,{responseType:c,signal:(0,s.pC)(o)?o.signal:null});case 3:return e.abrupt("return",e.sent.data);case 4:case"end":return e.stop()}}),e)}))),function(t,n,r){return e.apply(this,arguments)})}:null;var e}function O(t,e){if((0,s.Wi)(t))return"-";var n=t.typedBuffer;return"".concat((0,c.s1)(e,n.buffer,(function(){return e.size})),"/").concat(n.byteOffset,"/").concat(n.byteLength)}function R(t){var e,n=0,r={color:!1,tangent:!1,normal:!1,texCoord0:!1},o=new Map,a=new Map,u=[],i=F(t.parts);try{var l=function(){var t=e.value,i=t.attributes,l=i.position,f=i.normal,p=i.color,d=i.tangent,m=i.texCoord0,g="\n      ".concat(O(l,o),"/\n      ").concat(O(f,o),"/\n      ").concat(O(p,o),"/\n      ").concat(O(d,o),"/\n      ").concat(O(m,o),"/\n      ").concat(function(t){return(0,s.pC)(t)?t.toString():"-"}(t.transform),"\n    "),v=!1,y=(0,c.s1)(a,g,(function(){return v=!0,{start:n,length:l.count}}));v&&(n+=l.count),f&&(r.normal=!0),p&&(r.color=!0),d&&(r.tangent=!0),m&&(r.texCoord0=!0),u.push({gltf:t,writeVertices:v,region:y})};for(i.s();!(e=i.n()).done;)l()}catch(f){i.e(f)}finally{i.f()}return{vertexAttributes:{position:(0,C.gS)(h.fP,n),normal:r.normal?(0,C.gS)(h.ct,n):null,tangent:r.tangent?(0,C.gS)(h.ek,n):null,color:r.color?(0,C.gS)(h.mc,n):null,texCoord0:r.texCoord0?(0,C.gS)(h.Eu,n):null},parts:u,components:[]}}function z(t){return new v.Z({data:t.data,wrap:P(t.parameters.wrap)})}function D(t,e){var n,r=new u.Z(function(t,e){return(0,d.f)(K(t[0]),K(t[1]),K(t[2]),e)}(t.color,t.opacity)),o=t.emissiveFactor?new u.Z((n=t.emissiveFactor,(0,p.f)(K(n[0]),K(n[1]),K(n[2])))):null;return new g.Z({color:r,colorTexture:(0,s.Wg)((0,s.yw)(t.textureColor,(function(t){return e.get(t)}))),normalTexture:(0,s.Wg)((0,s.yw)(t.textureNormal,(function(t){return e.get(t)}))),emissiveColor:o,emissiveTexture:(0,s.Wg)((0,s.yw)(t.textureEmissive,(function(t){return e.get(t)}))),occlusionTexture:(0,s.Wg)((0,s.yw)(t.textureOcclusion,(function(t){return e.get(t)}))),alphaMode:N(t.alphaMode),alphaCutoff:t.alphaCutoff,doubleSided:t.doubleSided,metallic:t.metallicFactor,roughness:t.roughnessFactor,metallicRoughnessTexture:(0,s.Wg)((0,s.yw)(t.textureMetallicRoughness,(function(t){return e.get(t)})))})}function L(t,e,n){e.writeVertices&&function(t,e){var n=t.vertexAttributes,r=n.position,o=n.normal,a=n.tangent,u=n.color,i=n.texCoord0,c=e.region.start,p=e.gltf,d=p.attributes,m=p.transform,g=d.position.count;if((0,w.t)(r.slice(c,g),d.position,m),(0,s.pC)(d.normal)&&(0,s.pC)(o)){var v=(0,l.a)((0,f.c)(),m);(0,w.a)(o.slice(c,g),d.normal,v)}else(0,s.pC)(o)&&(0,B.f)(o,0,0,1,{dstIndex:c,count:g});if((0,s.pC)(d.tangent)&&(0,s.pC)(a)){var y=(0,l.a)((0,f.c)(),m);(0,b.t)(a.slice(c,g),d.tangent,y)}else(0,s.pC)(a)&&(0,Z.f)(a,0,0,1,1,{dstIndex:c,count:g});if((0,s.pC)(d.texCoord0)&&(0,s.pC)(i)?(0,E.n)(i.slice(c,g),d.texCoord0):(0,s.pC)(i)&&(0,E.f)(i,0,0,{dstIndex:c,count:g}),(0,s.pC)(d.color)&&(0,s.pC)(u)){var C=d.color,x=u.slice(c,g);if(4===C.elementCount)C instanceof h.ek?(0,b.s)(x,C,255):C instanceof h.mc?(0,Z.c)(x,C):C instanceof h.v6&&(0,b.a)(x,C,8);else{(0,Z.f)(x,255,255,255,255);var A=h.ne.fromTypedArray(x.typedBuffer,x.typedBufferStride);C instanceof h.ct?(0,w.s)(A,C,255):C instanceof h.ne?(0,B.c)(A,C):C instanceof h.mw&&(0,w.b)(A,C,8)}}else(0,s.pC)(u)&&(0,Z.f)(u.slice(c,g),255,255,255,255)}(t,e);var r=e.gltf,o=function(t,e){switch(e){case 4:return(0,M.nh)(t,T.DX);case 5:return(0,M.DA)(t);case 6:return(0,M.jX)(t)}}(r.indices||r.attributes.position.count,r.primitiveType),a=e.region.start;if(a)for(var u=0;u<o.length;u++)o[u]+=a;t.components.push(new m.Z({faces:o,material:n.get(r.material),trustSourceNormals:!0}))}function N(t){switch(t){case"OPAQUE":return"opaque";case"MASK":return"mask";case"BLEND":return"blend"}}function P(t){return{horizontal:q(t.s),vertical:q(t.t)}}function q(t){switch(t){case 33071:return"clamp";case 33648:return"mirror";case 10497:return"repeat"}}function K(t){return 255*Math.pow(t,1/k.K)}}}]);
//# sourceMappingURL=6561-dcf288099ba84a1f3bb9.js.map