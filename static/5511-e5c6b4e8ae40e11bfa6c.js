"use strict";(self.webpackChunkenergy_and_water_dashboard=self.webpackChunkenergy_and_water_dashboard||[]).push([[5511],{35511:function(e,r,t){t.r(r),t.d(r,{createLabelFunction:function(){return m},formatField:function(){return x}});var n=t(15861),a=t(87757),u=t.n(a),i=t(33300),o=t(75571),l=t(87911),s=t(56913),c=t(43749),f=t(72236),p=t(18767);function d(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,r){if(!e)return;if("string"==typeof e)return b(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return b(e,r)}(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,i=!0,o=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){o=!0,u=e},f:function(){try{i||null==t.return||t.return()}finally{if(o)throw u}}}}function b(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var y=o.Z.getLogger("esri.layers.support.labelFormatUtils"),v={type:"simple",evaluate:function(){return null}},h={getAttribute:function(e,r){return e.field(r)}};function m(e,r,t){return g.apply(this,arguments)}function g(){return g=(0,n.Z)(u().mark((function e(r,n,a){var o,l,s,c,d,b,m;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&r.symbol){e.next=2;break}return e.abrupt("return",v);case 2:if(o=r.where,l=(0,f.hV)(r),!o){e.next=10;break}return e.next=7,t.e(9351).then(t.bind(t,27274));case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=null;case 11:if(s=e.t0,"arcade"!==l.type){e.next=19;break}return e.next=15,(0,p.WW)(l.expression,a,n);case 15:d=e.sent,c={type:"arcade",evaluate:function(e){try{var r=d.evaluate({$feature:"attributes"in e?d.repurposeFeature(e):d.repurposeAdapter(e)});if(null!=r)return r.toString()}catch(a){y.error(new i.Z("bad-arcade-expression","Encountered an error when evaluating label expression for feature",{feature:e,expression:l}))}return null},needsHydrationToEvaluate:function(){return null==(0,f.el)(l.expression)}},e.next=20;break;case 19:c={type:"simple",evaluate:function(e){return l.expression.replace(/{[^}]*}/g,(function(r){var t=r.slice(1,-1),a=n.get(t);if(!a)return r;var u=null;return"attributes"in e?e&&e.attributes&&(u=e.attributes[a.name]):u=e.field(a.name),null==u?"":x(u,a)}))}};case 20:if(!o){e.next=30;break}e.prev=21,b=s.WhereClause.create(o,n),e.next=28;break;case 25:return e.prev=25,e.t1=e.catch(21),e.abrupt("return",v);case 28:m=c.evaluate,c.evaluate=function(e){var r="attributes"in e?void 0:h;return b.testFeature(e,r)?m(e):null};case 30:return e.abrupt("return",c);case 31:case"end":return e.stop()}}),e,null,[[21,25]])}))),g.apply(this,arguments)}function x(e,r){if(null==e)return"";var t=r.domain;if(t)if("codedValue"===t.type||"coded-value"===t.type){var n,a=e,u=d(t.codedValues);try{for(u.s();!(n=u.n()).done;){var i=n.value;if(i.code===a)return i.name}}catch(y){u.e(y)}finally{u.f()}}else if("range"===t.type){var o=+e,f="range"in t?t.range[0]:t.minValue,p="range"in t?t.range[1]:t.maxValue;if(f<=o&&o<=p)return t.name}var b=e;return"date"===r.type||"esriFieldTypeDate"===r.type?b=(0,l.p6)(b,(0,l.Ze)("short-date")):(0,c.H7)(r)&&(b=(0,s.uf)(+b)),b||""}}}]);
//# sourceMappingURL=5511-e5c6b4e8ae40e11bfa6c.js.map