{"version":3,"file":"7767-aba851f6dd38634185fb.js","mappings":"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","sources":["webpack://energy-and-water-dashboard/./node_modules/@arcgis/core/views/2d/layers/SubtypeGroupLayerView2D.js"],"sourcesContent":["import _defineProperty from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _classCallCheck from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _get from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _inherits from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport { isSome as r } from \"../../../core/maybe.js\";\nimport { init as s } from \"../../../core/watchUtils.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/accessorSupport/ensureType.js\";\nimport \"../../../core/arrayUtils.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/accessorSupport/set.js\";\nimport { subclass as t } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport i from \"../../../layers/support/FeatureFilter.js\";\nimport a from \"./FeatureLayerView2D.js\";\n\nfunction o(e, r) {\n  return !e.visible || 0 !== e.minScale && r > e.minScale || 0 !== e.maxScale && r < e.maxScale;\n}\n\nvar l = /*#__PURE__*/function (_a) {\n  _inherits(l, _a);\n\n  var _super = _createSuper(l);\n\n  function l() {\n    _classCallCheck(this, l);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(l, [{\n    key: \"initialize\",\n    value: function initialize() {\n      var _this = this;\n\n      this.handles.add([s(this.view, \"viewpoint\", function () {\n        return _this._update();\n      })]);\n    }\n  }, {\n    key: \"_injectOverrides\",\n    value: function _injectOverrides(e) {\n      var s = _get(_getPrototypeOf(l.prototype), \"_injectOverrides\", this).call(this, e);\n\n      var t = this.view.scale,\n          a = this.layer.sublayers.filter(function (e) {\n        return o(e, t);\n      }).map(function (e) {\n        return e.subtypeCode;\n      });\n      if (!a.length) return s;\n      s = r(s) ? s : new i().toJSON();\n\n      var _l = \"NOT \".concat(this.layer.subtypeField, \" IN (\").concat(a.join(\",\"), \")\");\n\n      return s.where = s.where ? \"(\".concat(s.where, \") AND (\").concat(_l, \")\") : _l, s;\n    }\n  }, {\n    key: \"_setLayersForFeature\",\n    value: function _setLayersForFeature(e) {\n      var r = this.layer.fieldsIndex.get(this.layer.subtypeField),\n          s = e.attributes[r.name],\n          t = this.layer.sublayers.find(function (e) {\n        return e.subtypeCode === s;\n      });\n      e.layer = t, e.sourceLayer = this.layer;\n    }\n  }, {\n    key: \"_createSchemaConfig\",\n    value: function _createSchemaConfig() {\n      var _this2 = this;\n\n      var e = {\n        subtypeField: this.layer.subtypeField,\n        sublayers: Array.from(this.layer.sublayers).map(function (e) {\n          return {\n            featureReduction: null,\n            geometryType: _this2.layer.geometryType,\n            labelingInfo: e.labelingInfo,\n            labelsVisible: e.labelsVisible,\n            renderer: e.renderer,\n            subtypeCode: e.subtypeCode,\n            orderBy: null\n          };\n        })\n      },\n          r = this.layer.sublayers.map(function (e) {\n        return e.subtypeCode;\n      }).join(\",\"),\n          s = this.layer.sublayers.length ? \"\".concat(this.layer.subtypeField, \" IN (\").concat(r, \")\") : \"1=2\";\n      var t = this.layer.definitionExpression ? this.layer.definitionExpression + \" AND \" : \"\";\n      return t += s, _objectSpread(_objectSpread(_objectSpread({}, _get(_getPrototypeOf(l.prototype), \"_createSchemaConfig\", this).call(this)), e), {}, {\n        definitionExpression: t\n      });\n    }\n  }]);\n\n  return l;\n}(a);\n\nl = e([t(\"esri.views.2d.layers.SubtypeGroupLayerView2D\")], l);\nvar n = l;\nexport { n as default };"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","prototype","valueOf","call","e","_isNativeReflectConstruct","result","Super","NewTarget","this","constructor","l","_a","_super","value","_this","handles","add","view","_update","s","t","scale","a","layer","sublayers","r","visible","minScale","maxScale","o","map","subtypeCode","toJSON","_l","concat","subtypeField","join","where","fieldsIndex","get","attributes","name","find","sourceLayer","_this2","Array","from","featureReduction","geometryType","labelingInfo","labelsVisible","renderer","orderBy","definitionExpression","n"],"sourceRoot":""}