{"version":3,"file":"6857.render-page.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAC+rB,mDAAmD,UAAU,UAAU,YAAY,EAAE,oBAAoB,0EAAC,CAAC,sEAAC,GAAG,4BAA4B,gGAAgG,iBAAiB,iEAAC,+FAA+F,iEAAC,yDAAyD,mBAAmB,mDAAmD,2BAA2B,GAAG,iEAAC,2CAA2C,uDAAuD,sFAAsF,SAAS,GAAG,oCAAoC,aAAa,MAAM,yCAAyC,4DAAC,uFAAuF,8FAAc,oFAAoF,sDAAsD,OAAO,YAAY,2DAA2D,UAAU,uDAAuD,SAAS,6EAA6E,GAAG,iEAAC,eAAe,gDAAgD,kBAAkB,YAAY,+EAAC,iCAAiC,2BAA2B,YAAY,6EAAC,EAAE,iFAAiF,EAAE,wGAAwG,mEAAC,yCAAyC,mEAAC,wDAAwD,KAAK,iEAAC,yCAAyC,uDAAC,4IAA4I,SAAS,oDAAoD,aAAa,WAAW,aAAa,mDAAmD,aAAa,2DAA2D,SAAS,wBAAwB,0DAA0D,gDAAgD,sEAAsE,uBAAuB,gCAAgC,iEAAC,8BAA8B,kDAAkD,qCAAqC,YAAY,+EAAC,iCAAiC,2BAA2B,YAAY,6EAAC,EAAE,+DAA+D,EAAE,gEAAgE,mEAAC,yCAAyC,mEAAC,sGAAsG,wBAAwB,EAAE,wDAAC,EAAE,+FAAC,iDAAiD,UAA+B;;;;;;;;;;;;;ACJ7mH;AACA;AACA;AACA;AACoG,gBAAgB,yEAAC,CAAC,kBAAkB,yHAAyH,kFAAK,6DAA6D,8FAAW,mFAAmF,oBAAoB,MAAM,UAAU,yBAAyB,kEAAuF","sources":["webpack://energy-and-water-dashboard/./node_modules/@arcgis/core/views/2d/layers/MapNotesLayerView2D.js","webpack://energy-and-water-dashboard/./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicContainer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import s from\"../../../Graphic.js\";import i from\"../../../core/Collection.js\";import{isSome as t,isNone as r}from\"../../../core/maybe.js\";import{init as a,on as o}from\"../../../core/watchUtils.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/set.js\";import{subclass as h}from\"../../../core/accessorSupport/decorators/subclass.js\";import{LayerView2DMixin as c}from\"./LayerView2D.js\";import p from\"./graphics/GraphicContainer.js\";import n from\"./graphics/GraphicsView2D.js\";import l from\"../../layers/LayerView.js\";const u=\"sublayers\",d=\"layerView\",f=Object.freeze({remove(){},pause(){},resume(){}});let g=class extends(c(l)){async fetchPopupFeatures(e){return Array.from(this.graphicsViews(),(s=>s.hitTest(e).filter((e=>!!e.popupTemplate)))).flat()}*graphicsViews(){t(this._graphicsViewsFeatureCollectionMap)?yield*this._graphicsViewsFeatureCollectionMap.keys():t(this._graphicsViews)?yield*this._graphicsViews:yield*[]}async hitTest(e,s){const i=Array.from(this.graphicsViews(),(async s=>{const i=await s.hitTest(e);if(t(this._graphicsViewsFeatureCollectionMap)){const e=this._graphicsViewsFeatureCollectionMap.get(s);for(const s of i)!s.popupTemplate&&e.popupTemplate&&(s.popupTemplate=e.popupTemplate)}return i}));return(await Promise.all(i)).flat()}highlight(e){let t;if(\"number\"==typeof e?t=[e]:e instanceof s?t=[e.uid]:Array.isArray(e)&&e.length>0?t=\"number\"==typeof e[0]?e:e.map((e=>e&&e.uid)):i.isCollection(e)&&(t=e.map((e=>e&&e.uid)).toArray()),t=t.filter((e=>null!=e)),!t.length)return f;for(const s of this.graphicsViews())s.addHighlight(t);return{remove:()=>{for(const e of this.graphicsViews())e.removeHighlight(t)}}}update(e){for(const s of this.graphicsViews())s.processUpdate(e)}attach(){const e=this.view,s=()=>this.requestUpdate(),i=this.layer.featureCollections;if(t(i)&&i.length){this._graphicsViewsFeatureCollectionMap=new Map;for(const t of i){const i=new p(this.view.featuresTilingScheme);i.fadeTransitionEnabled=!0;const r=new n({view:e,graphics:t.source,renderer:t.renderer,requestUpdateCallback:s,container:i});this._graphicsViewsFeatureCollectionMap.set(r,t),this.container.addChild(r.container),this.handles.add([a(t,\"visible\",(e=>r.container.visible=e)),a(r,\"updating\",(()=>this.notifyChange(\"updating\")))],d)}}else t(this.layer.sublayers)&&this.handles.add(o(this.layer,\"sublayers\",\"change\",(()=>this._createGraphicsViews()),(()=>this._createGraphicsViews()),(()=>this._destroyGraphicsViews())),u)}detach(){this._destroyGraphicsViews(),this.handles.remove(u)}moveStart(){}moveEnd(){}viewChange(){for(const e of this.graphicsViews())e.viewChange()}isUpdating(){for(const e of this.graphicsViews())if(e.updating)return!0;return!1}_destroyGraphicsViews(){this.container.removeAllChildren(),this.handles.remove(d);for(const e of this.graphicsViews())e.destroy();this._graphicsViews=null,this._graphicsViewsFeatureCollectionMap=null}_createGraphicsViews(){if(this._destroyGraphicsViews(),r(this.layer.sublayers))return;const e=[],s=this.view,i=()=>this.requestUpdate();for(const t of this.layer.sublayers){const r=new p(this.view.featuresTilingScheme);r.fadeTransitionEnabled=!0;const o=new n({view:s,graphics:t.graphics,requestUpdateCallback:i,container:r});this.handles.add([t.on(\"graphic-update\",o.graphicUpdateHandler),a(t,\"visible\",(e=>o.container.visible=e)),a(o,\"updating\",(()=>this.notifyChange(\"updating\")))],d),this.container.addChild(o.container),e.push(o)}this._graphicsViews=e}};g=e([h(\"esri.views.2d.layers.MapNotesLayerView2D\")],g);const m=g;export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{WGLDrawPhase as e}from\"../../engine/webgl/enums.js\";import r from\"./BaseGraphicContainer.js\";class i extends r{renderChildren(r){this.attributeView.bindTextures(r.context,!1),this.children.some((e=>e.hasData))&&(super.renderChildren(r),r.drawPhase===e.MAP&&this._renderChildren(r),this.hasHighlight()&&r.drawPhase===e.HIGHLIGHT&&this._renderHighlight(r),this._boundsRenderer&&this._boundsRenderer.doRender(r))}_renderHighlight(e){const{painter:r}=e,i=r.effects.highlight;i.bind(e),this._renderChildren(e,i.defines),i.draw(e),i.unbind()}}export{i as default};\n"],"names":[],"sourceRoot":""}