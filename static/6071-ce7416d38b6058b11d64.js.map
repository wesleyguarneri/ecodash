{"version":3,"file":"6071-ce7416d38b6058b11d64.js","mappings":";4fAMA,SAASA,EAAaC,GAAW,IAAIC,EAErC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQC,UAAUC,QAAQC,KAAKP,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOI,GAAK,OAAO,GAF9PC,GAA6B,OAAO,WAAkC,IAAsCC,EAAlCC,GAAQ,OAAgBb,GAAkB,GAAIC,EAA2B,CAAE,IAAIa,GAAY,OAAgBC,MAAMC,YAAaJ,EAASV,QAAQC,UAAUU,EAAOI,UAAWH,QAAqBF,EAASC,EAAMK,MAAMH,KAAME,WAAc,OAAO,OAA2BF,KAAMH,IAoB5Z,IAAIO,EACI,qBADJA,EAEK,4BAFLA,EAGK,4BAHLA,EAIM,6BAJNA,EAKS,aALTA,EAMU,cANVA,EAOmB,yBAInBC,EAAiB,SAAUC,IAC7B,OAAUD,EAAGC,GAEb,IAAIC,EAASvB,EAAaqB,GAE1B,SAASA,EAAEG,EAAGb,GACZ,IAAIc,EAKJ,OAHA,OAAgBT,KAAMK,IAEtBI,EAAQF,EAAOb,KAAKM,KAAMQ,EAAGb,IAAUe,mBAAqB,KAAMD,EAAME,mBAAqB,KAAMF,EAAMG,SAAW,KAAMH,EAAMI,WAAY,EAAIJ,EAAMK,OAAS,KAAML,EAAMM,SAAW,KAAMN,EAAMO,MAAQ,KAAMP,EAAMQ,aAAc,EAC7NR,EAsFT,OAnFA,OAAaJ,EAAG,CAAC,CACfa,IAAK,SACLC,MAAO,WACL,IAAIX,EAAIR,KAAKgB,MACTrB,EAAIK,KAAKc,OACTM,EAAIpB,KAAKe,SACTM,EAAIrB,KAAKa,UACTS,EAAItB,KAAKiB,YACTM,EAAKvB,KAAKY,SACVY,GAAI,IAAAC,GAAE,MAAO,CACfC,MAAOtB,IACN,OAAEkB,EAAIC,EAAGI,UAAYJ,EAAGK,KAAM,CAC/Bd,OAAQ,iBAAiBe,KAAKlC,GA5B9B,gBA4BuCA,EACvCoB,SAAU,IAAIe,OAAOV,GAAKG,EAAGQ,QAAS,QAEpCC,EAAIV,EAAI,MAAO,IAAAG,GAAE,MAAO,CAC1BC,MAAOtB,EACPc,IAAK,aACJ,IAAAO,GAAE,QAAS,CACZC,MAAOtB,GACNmB,EAAGU,SAAS,IAAAR,GAAE,QAAS,CACxBN,MAAO,GACPe,UAAU,EACVC,aAAc,MACdC,YAAY,EACZC,KAAM,OACNC,KAAMtC,KACNuC,YAAa,KACb,gBAAiB,qBACjBb,MAAOtB,MAELoC,EAAIlB,EAAI,MAAO,IAAAG,GAAE,MAAO,CAC1BC,MAAOtB,EACPc,IAAK,aACJ,IAAAO,GAAE,QAAS,CACZC,MAAOtB,GACNmB,EAAGkB,QAAQ,IAAAhB,GAAE,QAAS,CACvBN,MAAO,GACPe,UAAU,EACVG,KAAM,WACNC,KAAMtC,KACNuC,YAAa,KACb,gBAAiB,qBACjBb,MAAOtB,MAELsC,GAAI,IAAAjB,GAAE,MAAO,CACfC,MAAO1B,KAAK2C,QAAQvC,EAASA,KAC5B,IAAAqB,GAAE,QAAS,CACZY,KAAM,SACNO,WAAYvB,EACZF,MAAOE,EAAIE,EAAGsB,WAAatB,EAAGuB,MAC9BpB,MAAOtB,KACL,IAAAqB,GAAE,QAAS,CACbY,KAAM,SACNlB,MAAOI,EAAGwB,UACVT,KAAMtC,KACNgD,QAAShD,KAAKiD,QACdvB,MAAO1B,KAAK2C,QAAQvC,EAAcA,MAEhC8C,EAAI1C,GAAI,IAAAiB,GAAE,MAAO,KAAMjB,EAAE2C,SAAW3C,EAAE2C,QAAQC,WAAa7B,EAAG8B,YAAc9B,EAAG+B,eAAiB,KACpG,OAAO,IAAA7B,GAAE,OAAQ,CACfC,MAAOtB,EACPkC,KAAMtC,KACNuD,SAAUvD,KAAKwD,SACdhC,EAAG0B,EAAGlB,EAAGQ,EAAGE,KAEhB,CACDxB,IAAK,UACLC,MAAO,WACLnB,KAAKyD,KAAK,aAAa,GAAKzD,KAAKU,qBAAuBV,KAAKU,mBAAmBS,MAAQ,IAAKnB,KAAKW,qBAAuBX,KAAKW,mBAAmBQ,MAAQ,IAAKnB,KAAK0D,KAAK,YAEzK,CACDxC,IAAK,UACLC,MAAO,SAAiBX,GACtBA,EAAEmD,iBAAkB3D,KAAKyD,KAAK,aAAa,GAC3C,IAAI9D,EAAIK,KAAKiB,YAAc,GAAK,CAC9B2C,SAAU5D,KAAKU,oBAAsBV,KAAKU,mBAAmBS,MAC7D0C,SAAU7D,KAAKW,oBAAsBX,KAAKW,mBAAmBQ,OAE/DnB,KAAK0D,KAAK,SAAU/D,OAIjBU,EAjGY,CAkGnB,MAEF,OAAE,EAAC,WAAK,OAAE,+BAAgCA,EAAEb,UAAW,gBAAY,IAAS,OAAE,EAAC,WAAMa,EAAEb,UAAW,iBAAa,IAAS,OAAE,EAAC,WAAMa,EAAEb,UAAW,cAAU,IAAS,OAAE,EAAC,WAAMa,EAAEb,UAAW,gBAAY,IAAS,OAAE,EAAC,WAAMa,EAAEb,UAAW,aAAS,IAAS,OAAE,EAAC,WAAMa,EAAEb,UAAW,mBAAe,GACzR,IAAIgC,EAD8RnB,GAAI,OAAE,EAAC,OAAE,+BAAgCA,yBCrIvUyD,EAAqB,CAAC,QAAS,SAAU,WAAY,UAAW,SAAU,aAAc,kBAAmB,kBAAmB,mDAAoD,gCAAiC,WACnNC,EAAmCD,EAAmBE,KAAK,KAC3DC,EAA6B,oBAAZC,QAA0B,aAAiBA,QAAQ1E,UAAUyE,SAAWC,QAAQ1E,UAAU2E,mBAAqBD,QAAQ1E,UAAU4E,sBAElJC,EAAgB,SAAuBC,EAAIC,EAAkBC,GAC/D,IAAIC,EAAaC,MAAMlF,UAAUmF,MAAMxE,MAAMmE,EAAGM,iBAAiBb,IAOjE,OALIQ,GAAoBN,EAAQvE,KAAK4E,EAAIP,IACvCU,EAAWI,QAAQP,GAGrBG,EAAaA,EAAWD,OAAOA,IAQ7BM,EAAc,SAAqBC,GACrC,IAAIC,EAAeC,SAASF,EAAKG,aAAa,YAAa,IAE3D,OAAKC,MAAMH,GAPW,SAA2BD,GACjD,MAAgC,SAAzBA,EAAKK,gBAYRC,CAAkBN,GACb,EAQc,UAAlBA,EAAKO,UAA0C,UAAlBP,EAAKO,UAA0C,YAAlBP,EAAKO,UAA6D,OAAlCP,EAAKG,aAAa,YAI1GH,EAAKQ,SAHH,EAfAP,GAqBPQ,EAAuB,SAA8BpF,EAAGqF,GAC1D,OAAOrF,EAAEmF,WAAaE,EAAEF,SAAWnF,EAAEsF,cAAgBD,EAAEC,cAAgBtF,EAAEmF,SAAWE,EAAEF,UAGpFI,EAAU,SAAiBZ,GAC7B,MAAwB,UAAjBA,EAAKa,SAuDVC,EAAqB,SAA4Bd,GACnD,OALY,SAAiBA,GAC7B,OAAOY,EAAQZ,IAAuB,UAAdA,EAAK1C,KAItByD,CAAQf,KAlCK,SAAyBA,GAC7C,IAAKA,EAAKgB,KACR,OAAO,EAGT,IAMIC,EANAC,EAAalB,EAAKmB,MAAQnB,EAAKoB,cAE/BC,EAAc,SAAqBL,GACrC,OAAOE,EAAWrB,iBAAiB,6BAA+BmB,EAAO,OAK3E,GAAsB,oBAAXM,aAAgD,IAAfA,OAAOC,KAAoD,mBAAtBD,OAAOC,IAAIC,OAC1FP,EAAWI,EAAYC,OAAOC,IAAIC,OAAOxB,EAAKgB,YAE9C,IACEC,EAAWI,EAAYrB,EAAKgB,MAC5B,MAAOS,GAGP,OADAC,QAAQzF,MAAM,2IAA4IwF,EAAIE,UACvJ,EAIX,IAAIC,EAjCgB,SAAyBC,EAAOV,GACpD,IAAK,IAAIW,EAAI,EAAGA,EAAID,EAAME,OAAQD,IAChC,GAAID,EAAMC,GAAGF,SAAWC,EAAMC,GAAGX,OAASA,EACxC,OAAOU,EAAMC,GA8BHE,CAAgBf,EAAUjB,EAAKmB,MAC7C,OAAQS,GAAWA,IAAY5B,EAQNiC,CAAgBjC,IA2EvCkC,EAAkC,SAAyCC,EAASnC,GACtF,QAAIA,EAAKnC,UAjIS,SAAuBmC,GACzC,OAAOY,EAAQZ,IAAuB,WAAdA,EAAK1C,KAgIR8E,CAAcpC,IAzEtB,SAAkBA,EAAMqC,GACrC,GAA0C,WAAtCC,iBAAiBtC,GAAMuC,WACzB,OAAO,EAGT,IACIC,EADkBtD,EAAQvE,KAAKqF,EAAM,iCACAA,EAAKyC,cAAgBzC,EAE9D,GAAId,EAAQvE,KAAK6H,EAAkB,yBACjC,OAAO,EAGT,GAAKH,GAAiC,SAAjBA,GAQd,GAAqB,kBAAjBA,EAAkC,CAC3C,IAAIK,EAAwB1C,EAAK2C,wBAC7BC,EAAQF,EAAsBE,MAC9BC,EAASH,EAAsBG,OAEnC,OAAiB,IAAVD,GAA0B,IAAXC,QAZtB,KAAO7C,GAAM,CACX,GAAuC,SAAnCsC,iBAAiBtC,GAAM8C,QACzB,OAAO,EAGT9C,EAAOA,EAAKyC,cAUhB,OAAO,EA6CqCM,CAAS/C,EAAMmC,EAAQE,eA7H1C,SAA8BrC,GAIvD,MAHyB,YAAjBA,EAAKa,SAAyBlB,MAAMlF,UAAUmF,MAAMxE,MAAM4E,EAAKgD,UAAUC,MAAK,SAAUC,GAC9F,MAAyB,YAAlBA,EAAMrC,WA4HfsC,CAAqBnD,IAxCM,SAAgCA,GAC3D,GAAIY,EAAQZ,IAA0B,WAAjBA,EAAKa,SAAyC,aAAjBb,EAAKa,SAA2C,WAAjBb,EAAKa,QAGpF,IAFA,IAAIuC,EAAapD,EAAKyC,cAEfW,GAAY,CACjB,GAA2B,aAAvBA,EAAWvC,SAA0BuC,EAAWvF,SAAU,CAM5D,IAAK,IAAIiE,EAAI,EAAGA,EAAIsB,EAAWJ,SAASjB,OAAQD,IAAK,CACnD,IAAIoB,EAAQE,EAAWJ,SAASK,KAAKvB,GAErC,GAAsB,WAAlBoB,EAAMrC,QACR,OAAIqC,EAAMI,SAAStD,GAWvB,OAAO,EAGToD,EAAaA,EAAWX,cAM5B,OAAO,EAKuBc,CAAuBvD,KAOnDwD,EAAiC,SAAwCrB,EAASnC,GACpF,SAAKkC,EAAgCC,EAASnC,IAASc,EAAmBd,IAASD,EAAYC,GAAQ,IAqCrGyD,EAAa,SAAoBzD,EAAMmC,GAGzC,GAFAA,EAAUA,GAAW,IAEhBnC,EACH,MAAM,IAAI0D,MAAM,oBAGlB,OAA8C,IAA1CxE,EAAQvE,KAAKqF,EAAMhB,IAIhBwE,EAA+BrB,EAASnC,IAG7C2D,EAA4C5E,EAAmBhC,OAAO,UAAUkC,KAAK,KAErF2E,EAAc,SAAqB5D,EAAMmC,GAG3C,GAFAA,EAAUA,GAAW,IAEhBnC,EACH,MAAM,IAAI0D,MAAM,oBAGlB,OAAuD,IAAnDxE,EAAQvE,KAAKqF,EAAM2D,IAIhBzB,EAAgCC,EAASnC,IC5PlD,SAAS6D,EAAQC,EAAQC,GACvB,IAAIC,EAAOC,OAAOD,KAAKF,GAEvB,GAAIG,OAAOC,sBAAuB,CAChC,IAAIC,EAAUF,OAAOC,sBAAsBJ,GAC3CC,IAAmBI,EAAUA,EAAQ1E,QAAO,SAAU2E,GACpD,OAAOH,OAAOI,yBAAyBP,EAAQM,GAAKE,eACjDN,EAAKO,KAAKnJ,MAAM4I,EAAMG,GAG7B,OAAOH,EAgBT,SAASQ,EAAgBC,EAAKtI,EAAKC,GAYjC,OAXID,KAAOsI,EACTR,OAAOS,eAAeD,EAAKtI,EAAK,CAC9BC,MAAOA,EACPkI,YAAY,EACZK,cAAc,EACdC,UAAU,IAGZH,EAAItI,GAAOC,EAGNqI,EAGT,IACMI,GADFC,IACED,GAAY,GACT,CACLE,aAAc,SAAsBC,GAClC,GAAIH,GAAU9C,OAAS,EAAG,CACxB,IAAIkD,EAAaJ,GAAUA,GAAU9C,OAAS,GAE1CkD,IAAeD,GACjBC,EAAWC,QAIf,IAAIC,EAAYN,GAAUO,QAAQJ,IAEf,IAAfG,GAIFN,GAAUQ,OAAOF,EAAW,GAH5BN,GAAUN,KAAKS,IAOnBM,eAAgB,SAAwBN,GACtC,IAAIG,EAAYN,GAAUO,QAAQJ,IAEf,IAAfG,GACFN,GAAUQ,OAAOF,EAAW,GAG1BN,GAAU9C,OAAS,GACrB8C,GAAUA,GAAU9C,OAAS,GAAGwD,aAkBpCC,GAAQ,SAAeC,GACzB,OAAOC,WAAWD,EAAI,IAKpBE,GAAY,SAAmBC,EAAKH,GACtC,IAAII,GAAO,EASX,OARAD,EAAIE,OAAM,SAAU1J,EAAO0F,GACzB,OAAI2D,EAAGrJ,KACLyJ,EAAM/D,GACC,MAKJ+D,GAWLE,GAAiB,SAAwB3J,GAC3C,IAAK,IAAI4J,EAAO7K,UAAU4G,OAAQkE,EAAS,IAAItG,MAAMqG,EAAO,EAAIA,EAAO,EAAI,GAAIE,EAAO,EAAGA,EAAOF,EAAME,IACpGD,EAAOC,EAAO,GAAK/K,UAAU+K,GAG/B,MAAwB,mBAAV9J,EAAuBA,EAAMhB,WAAM,EAAQ6K,GAAU7J,GAGjE+J,GAAkB,SAAyBC,GAQ7C,OAAOA,EAAMC,OAAOC,YAA4C,mBAAvBF,EAAMG,aAA8BH,EAAMG,eAAe,GAAKH,EAAMC,QAG3GG,GAAkB,SAAyBC,EAAUC,GAGvD,IAgCI1B,EAhCA2B,GAAOD,MAAAA,OAAiD,EAASA,EAAYE,WAAaA,SAE1FC,EA/HN,SAAwBR,GACtB,IAAK,IAAIvE,EAAI,EAAGA,EAAI3G,UAAU4G,OAAQD,IAAK,CACzC,IAAIgF,EAAS,MAAQ3L,UAAU2G,GAAK3G,UAAU2G,GAAK,GACnDA,EAAI,EAAI+B,EAAQI,OAAO6C,IAAS,GAAIC,SAAQ,SAAU5K,GACpDqI,EAAgB6B,EAAQlK,EAAK2K,EAAO3K,OACjC8H,OAAO+C,0BAA4B/C,OAAOgD,iBAAiBZ,EAAQpC,OAAO+C,0BAA0BF,IAAWjD,EAAQI,OAAO6C,IAASC,SAAQ,SAAU5K,GAC5J8H,OAAOS,eAAe2B,EAAQlK,EAAK8H,OAAOI,yBAAyByC,EAAQ3K,OAI/E,OAAOkK,EAqHMa,CAAe,CAC1BC,yBAAyB,EACzBC,mBAAmB,EACnBC,mBAAmB,GAClBX,GAECY,EAAQ,CAEVC,WAAY,GAaZC,eAAgB,GAChBC,4BAA6B,KAC7BC,wBAAyB,KACzBC,QAAQ,EACRC,QAAQ,EAGRC,4BAAwBC,GAItBC,EAAY,SAAmBC,EAAuBC,EAAYC,GACpE,OAAOF,QAA+DF,IAAtCE,EAAsBC,GAA4BD,EAAsBC,GAAcpB,EAAOqB,GAAoBD,IAG/IE,EAAoB,SAA2BC,GACjD,SAAUA,IAAWd,EAAMC,WAAWtE,MAAK,SAAUoF,GACnD,OAAOA,EAAU/E,SAAS8E,QAkB1BE,EAAmB,SAA0BL,GAC/C,IAAIM,EAAc1B,EAAOoB,GAEzB,GAA2B,mBAAhBM,EAA4B,CACrC,IAAK,IAAIC,EAAQrN,UAAU4G,OAAQkE,EAAS,IAAItG,MAAM6I,EAAQ,EAAIA,EAAQ,EAAI,GAAIC,EAAQ,EAAGA,EAAQD,EAAOC,IAC1GxC,EAAOwC,EAAQ,GAAKtN,UAAUsN,GAGhCF,EAAcA,EAAYnN,WAAM,EAAQ6K,GAG1C,IAAKsC,EAAa,CAChB,QAAoBT,IAAhBS,IAA6C,IAAhBA,EAC/B,OAAOA,EAIT,MAAM,IAAI7E,MAAM,IAAI3G,OAAOkL,EAAY,iEAGzC,IAAIjI,EAAOuI,EAEX,GAA2B,iBAAhBA,KACTvI,EAAO2G,EAAI+B,cAAcH,IAGvB,MAAM,IAAI7E,MAAM,IAAI3G,OAAOkL,EAAY,0CAI3C,OAAOjI,GAGL2I,EAAsB,WACxB,IAAI3I,EAAOsI,EAAiB,gBAE5B,IAAa,IAATtI,EACF,OAAO,EAGT,QAAa8H,IAAT9H,EAEF,GAAImI,EAAkBxB,EAAIiC,eACxB5I,EAAO2G,EAAIiC,kBACN,CACL,IAAIC,EAAqBvB,EAAME,eAAe,GAG9CxH,EAFwB6I,GAAsBA,EAAmBC,mBAErCR,EAAiB,iBAIjD,IAAKtI,EACH,MAAM,IAAI0D,MAAM,gEAGlB,OAAO1D,GAGL+I,EAAsB,WAwDxB,GAvDAzB,EAAME,eAAiBF,EAAMC,WAAWyB,KAAI,SAAUX,GACpD,IDtCiClG,ECsC7B8G,ED9DK,SAAkB1J,EAAI4C,GAEnC,IAAI+G,EAAmB,GACnBC,EAAmB,GACN7J,EAAcC,GAH/B4C,EAAUA,GAAW,IAGsB3C,iBAAkBgE,EAA+BjG,KAAK,KAAM4E,IAC5F4E,SAAQ,SAAUqC,EAAWtH,GACtC,IAAIuH,EAAoBtJ,EAAYqJ,GAEV,IAAtBC,EACFH,EAAiB3E,KAAK6E,GAEtBD,EAAiB5E,KAAK,CACpB5D,cAAemB,EACftB,SAAU6I,EACVrJ,KAAMoJ,OAIZ,IAAIH,EAAgBE,EAAiBG,KAAK7I,GAAsBuI,KAAI,SAAU3N,GAC5E,OAAOA,EAAE2E,QACRjD,OAAOmM,GACV,OAAOD,ECyCiBM,CAASlB,GAGzBmB,EDvCSlK,ECuCkB+I,GDxCnClG,EAAUA,GAAW,IACsB3C,iBAAkB0C,EAAgC3E,KAAK,KAAM4E,ICyCpG,GAAI8G,EAAclH,OAAS,EACzB,MAAO,CACLsG,UAAWA,EACXS,kBAAmBG,EAAc,GACjCQ,iBAAkBR,EAAcA,EAAclH,OAAS,GAUvD2H,iBAAkB,SAA0B1J,GAC1C,IAAI2J,IAAUxO,UAAU4G,OAAS,QAAsB+F,IAAjB3M,UAAU,KAAmBA,UAAU,GAWzEyO,EAAUJ,EAAe7D,WAAU,SAAUpJ,GAC/C,OAAOA,IAAMyD,KAGf,OAAI2J,EACKH,EAAe5J,MAAMgK,EAAU,GAAGC,MAAK,SAAUtN,GACtD,OAAOkH,EAAWlH,MAIfiN,EAAe5J,MAAM,EAAGgK,GAASE,UAAUD,MAAK,SAAUtN,GAC/D,OAAOkH,EAAWlH,WAOzBkD,QAAO,SAAUsK,GAClB,QAASA,KAIPzC,EAAME,eAAezF,QAAU,IAAMuG,EAAiB,iBAExD,MAAM,IAAI5E,MAAM,wGAIhBsG,EAAW,SAASA,EAAShK,IAClB,IAATA,GAIAA,IAAS2G,EAAIiC,gBAIZ5I,GAASA,EAAKiK,OAKnBjK,EAAKiK,MAAM,CACTC,gBAAiBrD,EAAOqD,gBAE1B5C,EAAMI,wBAA0B1H,EAjQZ,SAA2BA,GACjD,OAAOA,EAAKa,SAA0C,UAA/Bb,EAAKa,QAAQsJ,eAAoD,mBAAhBnK,EAAKoK,OAkQvEC,CAAkBrK,IACpBA,EAAKoK,UAVLJ,EAASrB,OAcT2B,EAAqB,SAA4BC,GACnD,IAAIvK,EAAOsI,EAAiB,iBAAkBiC,GAC9C,OAAOvK,IAAuB,IAATA,GAAyBuK,GAK5CC,EAAmB,SAA0B5P,GAC/C,IAAIyL,EAASF,GAAgBvL,GAEzBuN,EAAkB9B,KAKlBN,GAAec,EAAO4D,wBAAyB7P,GAEjDoK,EAAK0F,WAAW,CAYdC,YAAa9D,EAAOM,0BAA4BvD,EAAYyC,KAQ5DN,GAAec,EAAO+D,kBAAmBhQ,IAM7CA,EAAEgE,mBAIAiM,EAAe,SAAsBjQ,GACvC,IAAIyL,EAASF,GAAgBvL,GACzBkQ,EAAkB3C,EAAkB9B,GAEpCyE,GAAmBzE,aAAkB0E,SACnCD,IACFxD,EAAMI,wBAA0BrB,IAIlCzL,EAAEoQ,2BACFhB,EAAS1C,EAAMI,yBAA2BiB,OAmG1CsC,EAAW,SAAkBrQ,GAC/B,GAlagB,SAAuBA,GACzC,MAAiB,WAAVA,EAAEuB,KAA8B,QAAVvB,EAAEuB,KAA+B,KAAdvB,EAAEsQ,QAia5CC,CAAcvQ,KAAsD,IAAhDmL,GAAec,EAAOO,kBAAmBxM,GAG/D,OAFAA,EAAEgE,sBACFoG,EAAK0F,cAhaM,SAAoB9P,GACnC,MAAiB,QAAVA,EAAEuB,KAA+B,IAAdvB,EAAEsQ,SAmatBE,CAAWxQ,IAlGF,SAAkBA,GAC/B,IAAIyL,EAASF,GAAgBvL,GAC7BmO,IACA,IAAIsC,EAAkB,KAEtB,GAAI/D,EAAME,eAAezF,OAAS,EAAG,CAInC,IAAIuJ,EAAiB3F,GAAU2B,EAAME,gBAAgB,SAAU+D,GAE7D,OADgBA,EAAKlD,UACJ/E,SAAS+C,MAExBmF,EAAiBF,GAAkB,EAAIhE,EAAME,eAAe8D,QAAkBxD,EAElF,GAAIwD,EAAiB,EAKjBD,EAFEzQ,EAAE6Q,SAEcnE,EAAME,eAAeF,EAAME,eAAezF,OAAS,GAAG0H,iBAGtDnC,EAAME,eAAe,GAAGsB,uBAEvC,GAAIlO,EAAE6Q,SAAU,CAGrB,IAAIC,EAAoB/F,GAAU2B,EAAME,gBAAgB,SAAUmE,GAChE,IAAI7C,EAAoB6C,EAAM7C,kBAC9B,OAAOzC,IAAWyC,KAapB,GAVI4C,EAAoB,IAAMF,EAAenD,YAAchC,GAAUzC,EAAYyC,KAAY5C,EAAW4C,KAAYmF,EAAe9B,iBAAiBrD,GAAQ,MAO1JqF,EAAoBJ,GAGlBI,GAAqB,EAAG,CAI1B,IAAIE,EAA8C,IAAtBF,EAA0BpE,EAAME,eAAezF,OAAS,EAAI2J,EAAoB,EAE5GL,EADuB/D,EAAME,eAAeoE,GACTnC,sBAEhC,CAGL,IAAIoC,EAAmBlG,GAAU2B,EAAME,gBAAgB,SAAUsE,GAC/D,IAAIrC,EAAmBqC,EAAMrC,iBAC7B,OAAOpD,IAAWoD,KAapB,GAVIoC,EAAmB,IAAML,EAAenD,YAAchC,GAAUzC,EAAYyC,KAAY5C,EAAW4C,KAAYmF,EAAe9B,iBAAiBrD,MAOjJwF,EAAmBP,GAGjBO,GAAoB,EAAG,CAIzB,IAAIE,EAAyBF,IAAqBvE,EAAME,eAAezF,OAAS,EAAI,EAAI8J,EAAmB,EAG3GR,EADwB/D,EAAME,eAAeuE,GACTjD,yBAKxCuC,EAAkB/C,EAAiB,iBAGjC+C,IACFzQ,EAAEgE,iBACFoL,EAASqB,IAaTW,CAASpR,IAKTqR,EAAa,SAAoBrR,GACnC,IAAImL,GAAec,EAAO4D,wBAAyB7P,GAAnD,CAIA,IAAIyL,EAASF,GAAgBvL,GAEzBuN,EAAkB9B,IAIlBN,GAAec,EAAO+D,kBAAmBhQ,KAI7CA,EAAEgE,iBACFhE,EAAEoQ,8BAMAkB,EAAe,WACjB,GAAK5E,EAAMK,OA4BX,OAvBA7C,GAAiBC,aAAaC,GAG9BsC,EAAMO,uBAAyBhB,EAAOQ,kBAAoB7B,IAAM,WAC9DwE,EAASrB,QACNqB,EAASrB,KACdhC,EAAIwF,iBAAiB,UAAWtB,GAAc,GAC9ClE,EAAIwF,iBAAiB,YAAa3B,EAAkB,CAClD4B,SAAS,EACTC,SAAS,IAEX1F,EAAIwF,iBAAiB,aAAc3B,EAAkB,CACnD4B,SAAS,EACTC,SAAS,IAEX1F,EAAIwF,iBAAiB,QAASF,EAAY,CACxCG,SAAS,EACTC,SAAS,IAEX1F,EAAIwF,iBAAiB,UAAWlB,EAAU,CACxCmB,SAAS,EACTC,SAAS,IAEJrH,GAGLsH,EAAkB,WACpB,GAAKhF,EAAMK,OASX,OALAhB,EAAI4F,oBAAoB,UAAW1B,GAAc,GACjDlE,EAAI4F,oBAAoB,YAAa/B,GAAkB,GACvD7D,EAAI4F,oBAAoB,aAAc/B,GAAkB,GACxD7D,EAAI4F,oBAAoB,QAASN,GAAY,GAC7CtF,EAAI4F,oBAAoB,UAAWtB,GAAU,GACtCjG,GA4HT,OAtHAA,EAAO,CACLwH,SAAU,SAAkBC,GAC1B,GAAInF,EAAMK,OACR,OAAO1M,KAGT,IAAIyR,EAAa3E,EAAU0E,EAAiB,cACxCE,EAAiB5E,EAAU0E,EAAiB,kBAC5CG,EAAoB7E,EAAU0E,EAAiB,qBAE9CG,GACH7D,IAGFzB,EAAMK,QAAS,EACfL,EAAMM,QAAS,EACfN,EAAMG,4BAA8Bd,EAAIiC,cAEpC8D,GACFA,IAGF,IAAIG,EAAmB,WACjBD,GACF7D,IAGFmD,IAEIS,GACFA,KAIJ,OAAIC,GACFA,EAAkBtF,EAAMC,WAAWxK,UAAU+P,KAAKD,EAAkBA,GAC7D5R,OAGT4R,IACO5R,OAETyP,WAAY,SAAoBqC,GAC9B,IAAKzF,EAAMK,OACT,OAAO1M,KAGT+R,aAAa1F,EAAMO,wBAEnBP,EAAMO,4BAAyBC,EAC/BwE,IACAhF,EAAMK,QAAS,EACfL,EAAMM,QAAS,EACf9C,GAAiBQ,eAAeN,GAChC,IAAIiI,EAAelF,EAAUgF,EAAmB,gBAC5CG,EAAmBnF,EAAUgF,EAAmB,oBAChDI,EAAsBpF,EAAUgF,EAAmB,uBAEnDE,GACFA,IAGF,IAAItC,EAAc5C,EAAUgF,EAAmB,cAAe,2BAE1DK,EAAqB,WACvB5H,IAAM,WACAmF,GACFX,EAASM,EAAmBhD,EAAMG,8BAGhCyF,GACFA,QAKN,OAAIvC,GAAewC,GACjBA,EAAoB7C,EAAmBhD,EAAMG,8BAA8BqF,KAAKM,EAAoBA,GAC7FnS,OAGTmS,IACOnS,OAETiK,MAAO,WACL,OAAIoC,EAAMM,SAAWN,EAAMK,SAI3BL,EAAMM,QAAS,EACf0E,KAJSrR,MAOXsK,QAAS,WACP,OAAK+B,EAAMM,QAAWN,EAAMK,QAI5BL,EAAMM,QAAS,EACfmB,IACAmD,IACOjR,MANEA,MAQXoS,wBAAyB,SAAiCC,GACxD,IAAIC,EAAkB,GAAGxQ,OAAOuQ,GAAmB7N,OAAOjF,SAS1D,OARA8M,EAAMC,WAAagG,EAAgBvE,KAAI,SAAUZ,GAC/C,MAA0B,iBAAZA,EAAuBzB,EAAI+B,cAAcN,GAAWA,KAGhEd,EAAMK,QACRoB,IAGK9N,QAINoS,wBAAwB5G,GACtBzB,GC1rBT,SAAS,GAAa9K,GAAW,IAAIC,EAErC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQC,UAAUC,QAAQC,KAAKP,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOI,GAAK,OAAO,GAF9P,GAA6B,OAAO,WAAkC,IAAsCE,EAAlCC,GAAQ,OAAgBb,GAAkB,GAAIC,EAA2B,CAAE,IAAIa,GAAY,OAAgBC,MAAMC,YAAaJ,EAASV,QAAQC,UAAUU,EAAOI,UAAWH,QAAqBF,EAASC,EAAMK,MAAMH,KAAME,WAAc,OAAO,OAA2BF,KAAMH,IAoB5Z,IAAI,GACI,sBADJ,GAEI,4BAFJ,GAGM,8BAHN,GAIK,6BAJL,GAKM,8BALN,GAMO,+BANP,GAOW,oCAPX,GAQS,kBAGT,GAAiB,SAAU0S,IAC7B,OAAU/Q,EAAG+Q,GAEb,IAAIhS,EAAS,GAAaiB,GAE1B,SAASA,EAAEJ,EAAGzB,GACZ,IAAIc,EASJ,OAPA,OAAgBT,KAAMwB,IAEtBf,EAAQF,EAAOb,KAAKM,KAAMoB,EAAGzB,IAAUyN,UAAYzB,SAAS6G,cAAc,OAAQ/R,EAAMgS,QAAU,KAAMhS,EAAMiS,MAAO,EAAIjS,EAAMkS,OAAS,WACtIlS,EAAMiS,MAAO,GACZ/G,SAASiH,KAAKC,YAAYpS,EAAM2M,WAAY3M,EAAMqS,IAAIrS,EAAMsS,MAAM,QAAQ,WAC3E,OAAOtS,EAAMuS,uBAERvS,EA4GT,OAzGA,OAAae,EAAG,CAAC,CACfN,IAAK,UACLC,MAAO,WACLnB,KAAKiT,sBAEN,CACD/R,IAAK,SACLC,MAAO,WACL,IAAI+R,EAEA9R,EAAIpB,KAAKmT,GACTxT,EAAIK,KAAK0S,KACTrR,EAAIrB,KAAKyS,QACTjS,EAAIR,KAAKoT,MACTvM,EAAI7G,KAAKY,SACTyS,EAAI1T,KAAO0B,EACXC,GAAK4R,EAAK,IAAI,OAAgBA,EAAI,GAAQG,IAAI,OAAgBH,EAAI,IAAWG,GAAIH,GACjF9S,GAAI,OAAE,SAAU,CAClBsB,MAAO,GACP,aAAcmF,EAAEyM,MAChBF,MAAOvM,EAAEyM,MACThR,KAAMtC,KACNgD,QAAShD,KAAK2S,SACb,OAAE,OAAQ,CACX,cAAe,OACfjR,MAAO,MAEL6R,EAAK,GAAGzR,OAAOV,EAAG,UAClBf,EAAI,GAAGyB,OAAOV,EAAG,YACjBK,EAAIjB,GAAI,OAAE,KAAM,CAClB2S,GAAII,EACJ7R,MAAO,IACNlB,GAAK,KACJgC,EAAI6Q,GAAI,OAAE,MAAO,CACnB/Q,KAAMtC,KACN0B,MAAO,GACP8R,KAAM,SACN,kBAAmBD,EACnB,mBAAoBlT,EACpBkC,YAAavC,KAAKyT,kBACjBrT,EAAGqB,EAAGzB,KAAK0T,eAAerT,IAAM,KAEnC,OAAO,OAAE,MAAO,CACdkF,UAAW,EACX7D,MAAO1B,KAAK2C,QAAQ,GAAQrB,IAC3BkB,KAEJ,CACDtB,IAAK,oBACLC,MAAO,WACL,IAAIC,EACJ,OAASA,EAAIpB,KAAK2T,aAAevS,EAAEqO,WAAW,CAC5CuC,aAAc,OACZhS,KAAK2T,WAAa,OAEvB,CACDzS,IAAK,mBACLC,MAAO,WACL,IAAIC,EAAIpB,KAAK2T,WACThU,EAAIK,KAAK0S,KACbtR,IAAMzB,EAAIyB,EAAEmQ,WAAanQ,EAAEqO,gBAE5B,CACDvO,IAAK,mBACLC,MAAO,SAA0BC,GAC/B,IAAIwS,EAAS5T,KAEbA,KAAKiT,oBAEL,IAAI5R,EAAIwS,uBAAsB,WAC5BD,EAAOD,WAAa,GAAEvS,EAAG,CACvB0S,aAAc,QACd9B,aAAc4B,EAAOjB,SACnBiB,EAAOZ,sBAEbhT,KAAK8S,KAAI,SAAE,WACT,OAAOiB,qBAAqB1S,SAG/B,CACDH,IAAK,iBACLC,MAAO,SAAwBC,GAC7B,IAAIzB,EAAIK,KAAKyS,QACb,MAAO,iBAAmB9S,GAAI,OAAE,MAAO,CACrC+B,MAAO,GACPyR,GAAI/R,EACJ4S,UAAWrU,KACR,QAAEA,IAAK,OAAE,MAAO,CACnB+B,MAAO,GACPyR,GAAI/R,GACHzB,EAAEsU,UAAYtU,aAAauU,aAAc,OAAE,MAAO,CACnDxS,MAAO,GACPyR,GAAI/R,EACJkB,KAAM3C,EACN4C,YAAavC,KAAKmU,gBACf,OAEN,CACDjT,IAAK,gBACLC,MAAO,SAAuBC,GAE5BA,EAAEyR,YADM7S,UAKLwB,EA3HY,CA4HnB,MAEF,OAAE,EAAC,QAAE,CACH4S,UAAU,KACP,GAAE5U,UAAW,iBAAa,IAAS,OAAE,EAAC,WAAM,GAAEA,UAAW,eAAW,IAAS,OAAE,EAAC,WAAM,GAAEA,UAAW,YAAQ,IAAS,OAAE,EAAC,WAAK,OAAE,oBAAqB,GAAEA,UAAW,gBAAY,IAAS,OAAE,EAAC,QAAE,CAC7L6U,QAAS,0BACN,GAAE7U,UAAW,aAAS,GAC3B,IAAI,GADgC,IAAI,OAAE,EAAC,OAAE,gCAAiC,ICjK1E4B,GAAI,iBAEJ,GAAiB,WACnB,SAASZ,EAAEY,EAAGkT,IACZ,OAAgBtU,KAAMQ,GAEtBR,KAAK2B,UAAY,KAAM3B,KAAKuU,QAAU,KAAMvU,KAAKwU,MAAQ,KAAMxU,KAAKyU,QAAU,KAAMzU,KAAK0U,IAAM,KAAM1U,KAAK2U,MAAQ,KAAM3U,KAAK4U,OAAS,KAAM5U,KAAK2B,UAAYP,EAAGpB,KAAKuU,QAAUD,EAAItU,KAAK6U,QAyG1L,OAtGA,OAAarU,EAAG,CAAC,CACfU,IAAK,UACLC,MAAO,WACL,IAAIC,GAAI,EAER,GAAIpB,KAAK2B,WAAa3B,KAAK2U,OAAS3U,KAAK4U,OAAQ,CAC/C,IAAIE,EAAMC,KAAKC,MAEXhV,KAAKyU,QAAUK,IAChB9U,KAAKyU,QAAUK,GAAO,IAAM,GAAK9U,KAAK2B,UAAUsT,yBAA2B7T,GAAI,GAIpF,OAAOA,IAER,CACDF,IAAK,OACLC,MAAO,WACL,GAAKnB,KAAKuU,QAAV,CAEA,IAAIW,EAAMlV,KAAKmV,QACXxV,EAAIK,KAAK2B,UAEb,GAAIhC,GAAKA,EAAEyV,eAAiBzV,EAAE0V,UAAW,CACvC,IAAIhU,EAAI6T,EAAIvV,EAAEyV,eACd/T,IAAMA,EAAI6T,EAAIvV,EAAEyV,eAAiB,IAAK/T,EAAE1B,EAAE0V,WAAa,CACrDb,MAAOxU,KAAKwU,MAAQ7U,EAAE6U,MACtBC,QAASzU,KAAKyU,QACdC,IAAK1U,KAAK0U,IACVC,MAAO3U,KAAK2U,MACZC,OAAQ5U,KAAK4U,QAGf,IACE5U,KAAKuU,QAAQe,QAAQlU,GAAGmU,KAAKC,UAAUN,IACvC,MAAOrO,GACPJ,QAAQgP,IAAI5O,QAIjB,CACD3F,IAAK,UACLC,MAAO,WACL,IAAIuU,EAAM1V,KAAKmV,QACXxV,EAAIK,KAAK2B,UAEb,GAAIhC,GAAKA,EAAE6U,OAAS7U,EAAE0V,WAAarV,KAAK2U,OAAS3U,KAAKyU,QAAUM,KAAKC,MAAO,CAC1E,IAAIW,EAAKhW,EAAE0V,UAAUO,QAAQ,UAAW,UAAY,mCAChDC,EAAM,IAAIC,SAEd,GAAID,EAAIE,OAAO,IAAK,QAASF,EAAIE,OAAO,aAAc/V,KAAK2U,OAAQkB,EAAIE,OAAO,YAAapW,EAAE6U,OAAQqB,EAAIE,OAAO,kBAAmB,gBAAiB,mBAAqBC,UAAUC,WAAYD,UAAUC,WAAWN,EAAIE,OAAU,CAChO,IAAIK,EAAK,IAAIC,eAEbD,EAAGxD,KAAK,OAAQiD,GAAKO,EAAGE,KAAKP,IAIjC,GAAIlW,GAAKA,EAAEyV,eAAiBzV,EAAE0V,WAAarV,KAAKuU,QAAS,CACvD,IAAIlT,EAAIqU,EAAI/V,EAAEyV,eAEd,GAAI/T,EAAG,QACEA,EAAE1B,EAAE0V,WAEX,IACErV,KAAKuU,QAAQe,QAAQlU,GAAGmU,KAAKC,UAAUE,IACvC,MAAO7O,GACPJ,QAAQgP,IAAI5O,KAKlBlH,IAAMA,EAAE0W,WAAa,KAAMrW,KAAK2B,UAAY,QAE7C,CACDT,IAAK,QACLC,MAAO,WACL,IAAIC,EAAIpB,KAAKmV,QACTmB,EAAMtW,KAAK2B,UAEf,GAAI2U,GAAOA,EAAIlB,eAAiBkB,EAAIjB,UAAW,CAC7C,IAAI1V,EAAIyB,EAAEkV,EAAIlB,eACdzV,KAAMA,EAAIA,EAAE2W,EAAIjB,cAAkBrV,KAAKwU,MAAQ7U,EAAE6U,MAAOxU,KAAKyU,QAAU9U,EAAE8U,QAASzU,KAAK0U,IAAM/U,EAAE+U,IAAK1U,KAAK2U,MAAQhV,EAAEgV,MAAO3U,KAAK4U,OAASjV,EAAEiV,YAG7I,CACD1T,IAAK,QACLC,MAAO,WACL,IAAIoV,EAAM,GAEV,GAAIvW,KAAKuU,QAAS,CAChB,IAAI1N,EAAI7G,KAAKuU,QAAQiC,QAAQpV,IAC7B,GAAIyF,EAAG,IACL0P,EAAMhB,KAAKkB,MAAM5P,GACjB,MAAOlH,GACP8G,QAAQgP,IAAI9V,IAIhB,OAAO4W,MAIJ/V,EA7GY,GAgHrB,GAAEhB,UAAUkX,cAAgB,oCCnGxBpC,eAhBJ,SAAS,GAAarV,GAAW,IAAIC,EAErC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQC,UAAUC,QAAQC,KAAKP,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOI,GAAK,OAAO,GAF9P,GAA6B,OAAO,WAAkC,IAAsCE,EAAlCC,GAAQ,OAAgBb,GAAkB,GAAIC,EAA2B,CAAE,IAAIa,GAAY,OAAgBC,MAAMC,YAAaJ,EAASV,QAAQC,UAAUU,EAAOI,UAAWH,QAAqBF,EAASC,EAAMK,MAAMH,KAAME,WAAc,OAAO,OAA2BF,KAAMH,IAkB5Z,IAAI,GAAIyU,GAAkB,SAAUqB,IAClC,OAAUnV,EAAGmV,GAEb,IAAIpV,EAAS,GAAaC,GAE1B,SAASA,EAAEa,GACT,IAAIZ,EAKJ,OAHA,OAAgBT,KAAMQ,IAEtBC,EAAQF,EAAOb,KAAKM,KAAMqB,IAAUgV,WAAa,KAAM5V,EAAM+T,MAAQ,KAAM/T,EAAM2U,cAAgB,IAAK3U,EAAMkW,WAAa,MAAOlW,EAAMmW,YAAa,EAAInW,EAAMoW,aAAc,EAAIpW,EAAMqW,OAAS,KAAMrW,EAAMwU,uBAAyB,GAAIxU,EAAMsW,OAAQ,EAAItW,EAAMuW,iBAAmB,sBAAuBvW,EAAMwW,oBAAsB,mDAAoDxW,EAAM4U,UAAY,yBAA0B5U,EAAMyW,iBAAkB,EAAIzW,EAAMmU,OAAS,KACzcnU,EAUT,OAPA,OAAaD,EAAG,CAAC,CACfU,IAAK,QACLC,MAAO,WACL,OAAOmT,GAAG6C,SAASnX,KAAKoX,cAIrB5W,EArBiB,CAsBxB,QAEF,OAAE,EAAC,QAAE,CACH6W,KAAM,CACJC,OAAO,MAEN,GAAE9X,UAAW,aAAS,IAAS,OAAE,EAAC,QAAE,CACvC6X,KAAM,CACJC,OAAO,MAEN,GAAE9X,UAAW,qBAAiB,IAAS,OAAE,EAAC,QAAE,CAC/C6X,KAAM,CACJC,OAAO,MAEN,GAAE9X,UAAW,kBAAc,IAAS,OAAE,EAAC,QAAE,CAC5C6X,KAAM,CACJC,OAAO,MAEN,GAAE9X,UAAW,kBAAc,IAAS,OAAE,EAAC,QAAE,CAC5C6X,KAAM,CACJC,OAAO,MAEN,GAAE9X,UAAW,mBAAe,IAAS,OAAE,EAAC,QAAE,CAC7C6X,KAAM,CACJC,OAAO,MAEN,GAAE9X,UAAW,cAAU,IAAS,OAAE,EAAC,QAAE,CACxC6X,KAAM,CACJC,OAAO,MAEN,GAAE9X,UAAW,8BAA0B,IAAS,OAAE,EAAC,QAAE,CACxD6X,KAAM,CACJC,OAAO,MAEN,GAAE9X,UAAW,aAAS,IAAS,OAAE,EAAC,QAAE,CACvC6X,KAAM,CACJC,OAAO,MAEN,GAAE9X,UAAW,wBAAoB,IAAS,OAAE,EAAC,QAAE,CAClD6X,KAAM,CACJC,OAAO,MAEN,GAAE9X,UAAW,2BAAuB,IAAS,OAAE,EAAC,QAAE,CACrD6X,KAAM,CACJC,OAAO,MAEN,GAAE9X,UAAW,iBAAa,IAAS,OAAE,EAAC,QAAE,CAC3C6X,KAAM,CACJC,OAAO,MAEN,GAAE9X,UAAW,uBAAmB,IAAS,OAAE,EAAC,QAAE,CACjD6X,KAAM,CACJC,OAAO,MAEN,GAAE9X,UAAW,cAAU,GAC5B,IAAI,GADiC,GAAI8U,IAAK,OAAE,EAAC,OAAE,4BAA6B,IC9FhF,SAAS,GAAarV,GAAW,IAAIC,EAErC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQC,UAAUC,QAAQC,KAAKP,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOI,GAAK,OAAO,GAF9P,GAA6B,OAAO,WAAkC,IAAsCE,EAAlCC,GAAQ,OAAgBb,GAAkB,GAAIC,EAA2B,CAAE,IAAIa,GAAY,OAAgBC,MAAMC,YAAaJ,EAASV,QAAQC,UAAUU,EAAOI,UAAWH,QAAqBF,EAASC,EAAMK,MAAMH,KAAME,WAAc,OAAO,OAA2BF,KAAMH,IAgB5Z,IAAIW,GAAiB,SAAU+W,IAC7B,OAAU/W,EAAG+W,GAEb,IAAIhX,EAAS,GAAaC,GAE1B,SAASA,EAAEa,GACT,IAAIZ,EAKJ,OAHA,OAAgBT,KAAMQ,IAEtBC,EAAQF,EAAOb,KAAKM,KAAMqB,IAAUmW,qBAAuB,KAAM/W,EAAMgX,eAAiB,KAAMhX,EAAMiX,UAAY,KAAMjX,EAAMkX,UAAY,KAAMlX,EAAMmX,gBAAkB,KAAMnX,EAAMoX,aAAe,KAAMpX,EAAMK,OAAS,KAAML,EAAMqX,wBAA0B,KAAMrX,EAAMsX,gBAAkB,KAAMtX,EAAMuX,YAAc,KAC7SvX,EAGT,OAAO,OAAaD,GAdD,CAenB,QAEF,OAAE,EAAC,QAAE,CACH6W,KAAM,CACJC,OAAO,MAEN9W,GAAEhB,UAAW,4BAAwB,IAAS,OAAE,EAAC,QAAE,CACtD6X,KAAM,CACJC,OAAO,MAEN9W,GAAEhB,UAAW,sBAAkB,IAAS,OAAE,EAAC,QAAE,CAChD6X,KAAM,CACJC,OAAO,MAEN9W,GAAEhB,UAAW,iBAAa,IAAS,OAAE,EAAC,QAAE,CAC3C6X,KAAM,CACJC,OAAO,MAEN9W,GAAEhB,UAAW,iBAAa,IAAS,OAAE,EAAC,QAAE,CAC3C6X,KAAM,CACJC,OAAO,MAEN9W,GAAEhB,UAAW,uBAAmB,IAAS,OAAE,EAAC,QAAE,CACjD6X,KAAM,CACJC,OAAO,MAEN9W,GAAEhB,UAAW,oBAAgB,IAAS,OAAE,EAAC,QAAE,CAC9C6X,KAAM,CACJC,OAAO,MAEN9W,GAAEhB,UAAW,cAAU,IAAS,OAAE,EAAC,QAAE,CACxC6X,KAAM,CACJC,OAAO,MAEN9W,GAAEhB,UAAW,+BAA2B,IAAS,OAAE,EAAC,QAAE,CACzD6X,KAAM,CACJC,OAAO,MAEN9W,GAAEhB,UAAW,uBAAmB,IAAS,OAAE,EAAC,QAAE,CACjD6X,KAAM,CACJC,OAAO,MAEN9W,GAAEhB,UAAW,mBAAe,GACjC,IAAI,GADsCgB,IAAI,OAAE,EAAC,OAAE,6BAA8BA,ICxEjF,SAAS,GAAQqI,EAAQC,GAAkB,IAAIC,EAAOC,OAAOD,KAAKF,GAAS,GAAIG,OAAOC,sBAAuB,CAAE,IAAIC,EAAUF,OAAOC,sBAAsBJ,GAASC,IAAmBI,EAAUA,EAAQ1E,QAAO,SAAU2E,GAAO,OAAOH,OAAOI,yBAAyBP,EAAQM,GAAKE,eAAiBN,EAAKO,KAAKnJ,MAAM4I,EAAMG,GAAY,OAAOH,EAE9U,SAASkP,GAAc7M,GAAU,IAAK,IAAIvE,EAAI,EAAGA,EAAI3G,UAAU4G,OAAQD,IAAK,CAAE,IAAIgF,EAAS,MAAQ3L,UAAU2G,GAAK3G,UAAU2G,GAAK,GAAIA,EAAI,EAAI,GAAQmC,OAAO6C,IAAS,GAAIC,SAAQ,SAAU5K,IAAO,OAAgBkK,EAAQlK,EAAK2K,EAAO3K,OAAY8H,OAAO+C,0BAA4B/C,OAAOgD,iBAAiBZ,EAAQpC,OAAO+C,0BAA0BF,IAAW,GAAQ7C,OAAO6C,IAASC,SAAQ,SAAU5K,GAAO8H,OAAOS,eAAe2B,EAAQlK,EAAK8H,OAAOI,yBAAyByC,EAAQ3K,OAAa,OAAOkK,EAEjf,SAAS8M,GAA2B7W,EAAG8W,GAAkB,IAAIC,EAAuB,oBAAXC,QAA0BhX,EAAEgX,OAAOC,WAAajX,EAAE,cAAe,IAAK+W,EAAI,CAAE,GAAI1T,MAAM6T,QAAQlX,KAAO+W,EAE9K,SAAqC/W,EAAGmX,GAAU,IAAKnX,EAAG,OAAQ,GAAiB,iBAANA,EAAgB,OAAOoX,GAAkBpX,EAAGmX,GAAS,IAAIlX,EAAI0H,OAAOxJ,UAAUkZ,SAAShZ,KAAK2B,GAAGsD,MAAM,GAAI,GAAc,WAANrD,GAAkBD,EAAEpB,cAAaqB,EAAID,EAAEpB,YAAY8F,MAAM,GAAU,QAANzE,GAAqB,QAANA,EAAa,OAAOoD,MAAMiU,KAAKtX,GAAI,GAAU,cAANC,GAAqB,2CAA2CO,KAAKP,GAAI,OAAOmX,GAAkBpX,EAAGmX,GAFnOI,CAA4BvX,KAAO8W,GAAkB9W,GAAyB,iBAAbA,EAAEyF,OAAqB,CAAMsR,IAAI/W,EAAI+W,GAAI,IAAIvR,EAAI,EAAOgS,EAAI,aAAiB,MAAO,CAAErY,EAAGqY,EAAGvX,EAAG,WAAe,OAAIuF,GAAKxF,EAAEyF,OAAe,CAAEgS,MAAM,GAAe,CAAEA,MAAM,EAAO3X,MAAOE,EAAEwF,OAAWlH,EAAG,SAAWoZ,GAAQ,MAAMA,GAASC,EAAGH,GAAO,MAAM,IAAII,UAAU,yIAA4I,IAA6CzS,EAAzC0S,GAAmB,EAAMC,GAAS,EAAY,MAAO,CAAE3Y,EAAG,WAAe4X,EAAKA,EAAG1Y,KAAK2B,IAAOC,EAAG,WAAe,IAAI8X,EAAOhB,EAAGiB,OAAsC,OAA9BH,EAAmBE,EAAKN,KAAaM,GAASzZ,EAAG,SAAW2Z,GAAQH,GAAS,EAAM3S,EAAM8S,GAASN,EAAG,WAAe,IAAWE,GAAiC,MAAbd,EAAGmB,QAAgBnB,EAAGmB,SAAY,QAAU,GAAIJ,EAAQ,MAAM3S,KAI/9B,SAASiS,GAAkB9N,EAAK6O,IAAkB,MAAPA,GAAeA,EAAM7O,EAAI7D,UAAQ0S,EAAM7O,EAAI7D,QAAQ,IAAK,IAAID,EAAI,EAAG4S,EAAO,IAAI/U,MAAM8U,GAAM3S,EAAI2S,EAAK3S,IAAO4S,EAAK5S,GAAK8D,EAAI9D,GAAM,OAAO4S,EAIhL,SAAS,GAAaxa,GAAW,IAAIC,EAErC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQC,UAAUC,QAAQC,KAAKP,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOI,GAAK,OAAO,GAF9P,GAA6B,OAAO,WAAkC,IAAsCE,EAAlCC,GAAQ,OAAgBb,GAAkB,GAAIC,EAA2B,CAAE,IAAIa,GAAY,OAAgBC,MAAMC,YAAaJ,EAASV,QAAQC,UAAUU,EAAOI,UAAWH,QAAqBF,EAASC,EAAMK,MAAMH,KAAME,WAAc,OAAO,OAA2BF,KAAMH,IA4B5Z,IAAI6Z,GAAI,GACJC,GAAI,SAAWha,GACjB,IAAIyB,EAAI,IAAI,KAAEzB,EAAEiY,iBAAiBgC,KAC7BpZ,EAAI,IAAI,KAAEb,EAAEmB,QAAQ8Y,KACpBvG,EAAI,oBACR,OAAOA,EAAExR,KAAKT,IAAMiS,EAAExR,KAAKrB,IAEzBqZ,GAAI,SAAWla,EAAGyB,GACpB,SAAUuY,GAAEha,IAAMyB,GAAKA,EAAE4G,MAAK,SAAU5G,GACtC,OAAOA,EAAES,KAAKlC,EAAEmB,aAIhB2E,GAAI,KACJqU,GAAI,KAER,IACErU,GAAIY,OAAO0T,aAAcD,GAAIzT,OAAO2T,eACpC,MAAOC,KAET,IAAIC,GAAiB,SAAUhH,IAC7B,OAAUgH,EAAGhH,GAEb,IAAI3S,EAAS,GAAa2Z,GAE1B,SAASA,IACP,IAAIzZ,EA2BJ,OAzBA,OAAgBT,KAAMka,IAEtBzZ,EAAQF,EAAOb,KAAKM,OAAama,cAAgBC,WAAWC,eAAgB5Z,EAAM6Z,YAAc,GAAI7Z,EAAM8Z,WAAa,GAAI9Z,EAAM+Z,YAAc,GAAI/Z,EAAMga,QAAU,GAAIha,EAAMia,QAAU,GAAIja,EAAMka,SAAW,GAAIla,EAAMma,iBAAmB,KAAMna,EAAMoa,qBAAuB,GAAIpa,EAAMqa,OAAS,KAAMra,EAAMsa,gBAAkB,EAAGta,EAAMua,cAAgB,KAAMva,EAAMwa,sBAAuB,EAAIxa,EAAMya,WAAa,SAAW7U,OAAO8U,OAAS9U,OAAO8U,OAAS9U,OAAO+U,SAASD,OAAQ1a,EAAM4a,YAAa,QAAEhV,OAAO+U,SAASE,MAAO7a,EAAM8a,MAAQ,KAAM9a,EAAM+a,4BAA6B,EAAI/a,EAAMgb,WAAa,KAAMhb,EAAMib,YAAc,8BAA+Bjb,EAAMkb,SAAW,iBAAkBlb,EAAMmb,WAAa,mBAAoBnb,EAAMob,UAAY,iDAAkDpb,EAAMqb,WAAa,iCAAkCrb,EAAMsb,WAAa,CAAC,CAC31BC,MAAO,gCACPC,cAAe,kBACflE,gBAAiB,qDAChB,CACDiE,MAAO,uDACPC,cAAe,qBACflE,gBAAiB,qDAChB,CACDiE,MAAO,6DACPC,cAAe,wBACflE,gBAAiB,wDAChB,CACDiE,MAAO,wDACPC,cAAe,oBACflE,gBAAiB,uDAChB,CACDiE,MAAO,4CACPC,cAAe,kBACflE,gBAAiB,sDACftX,EAAMyb,WAAa,GAAIzb,EAAM0b,cAAgB,8BAA+B1b,EAAM2b,iBAAmB,mVAAoV3b,EAAM4b,QAAU,gCAAiC5b,EAAM6b,QAAU,gCAAiC7b,EAAM8b,SAAW,iCAAkC9b,EAAM+b,kBAAoB,qCAAsC/b,EAAMgc,yBAA0B,EAAIhc,EAAMic,2BAA4B,EAAIjc,EAAMkc,gBAAiBtW,OAAO6K,iBAAiB,YAAY,SAAUvR,GAC/xBc,EAAMmc,iBAAiBjd,MAElBc,EAoqCT,OAjqCA,OAAayZ,EAAG,CAAC,CACfhZ,IAAK,kBACLC,MAAO,SAAyBxB,GAC9B,IAAIiU,EAAS5T,KAEToB,EAAIpB,KAAKsa,YACblZ,GAAKzB,EAAIA,EAAE6E,QAAO,SAAU7E,GAC1B,OAAQiU,EAAOiJ,eAAeld,EAAEmB,WAC9Bd,KAAKsa,YAAclZ,EAAEU,OAAOnC,IAAMK,KAAKsa,YAAc3a,EAAGA,EAAEmM,SAAQ,SAAUnM,GAC9EA,EAAEiY,iBAAmBhE,EAAO+G,SAASrR,KAAK3J,EAAEiY,iBAAkBjY,EAAE+X,WAAa9D,EAAO+G,SAASrR,KAAK3J,EAAEmB,aAGvG,CACDI,IAAK,qBACLC,MAAO,SAA4BxB,GACjC,IAAIyB,EAAIpB,KAAKua,WAEb,GAAInZ,EAAG,CACL,IACI0b,EADAC,EAAY7E,GAA2BvY,GAG3C,IACE,IAAKod,EAAUvc,MAAOsc,EAAQC,EAAUzb,KAAKwX,MAAO,CAClD,IAAIxE,EAAKwI,EAAM3b,MAEX+U,EAAKlW,KAAKgd,cAAc1I,EAAGe,WAE/Ba,GAAM9U,EAAEgJ,OAAOhJ,EAAE+I,QAAQ+L,GAAK,IAEhC,MAAO1P,GACPuW,EAAUpd,EAAE6G,GACZ,QACAuW,EAAU/D,IAGZhZ,KAAKua,WAAanZ,EAAEU,OAAOnC,QACtBK,KAAKua,WAAa5a,IAE1B,CACDuB,IAAK,gBACLC,MAAO,SAAuBxB,GAC5BA,EAAIsY,GAAc,GAAItY,GAEtB,IAGI0T,EAHAjS,EAAIpB,KAAKid,aAAatd,EAAEmB,QACxBN,EAAIR,KAAKkd,cAAc9b,GAGvByF,EAAI7G,KAAK6c,eAAezb,GACxBE,GAAI,EACRuF,KAAMA,EAAI,IAAI,IAAO/F,OAASd,KAAKmd,uBAAuB/b,GAAIZ,EAAIqG,EAAE8Q,WAAY,GAAM9Q,EAAEkR,gBAAkB/X,KAAKod,gBAAgBhc,GAAIyF,EAAE6Q,WAAY,GAAK1X,KAAKqd,gBAAgB,CAACxW,MAAMwM,EAAIrT,KAAKsd,gBAAgBlc,YAAgBzB,EAAEmB,OAAQkI,OAAOuU,OAAOlK,EAAG1T,GAAI2B,GAAI,KAAO+R,EAAI,IAAImK,GAAE,CAC7Q5I,OAAQjV,EAAEiV,OACV9T,OAAQ+F,EAAE/F,OACV6T,MAAOhV,EAAEgV,MACTF,QAAS9U,EAAE8U,QACXC,IAAK/U,EAAE+U,IACP+I,MAAOjd,EAAI,SAAW,YAClBkd,UAAY,CAACtc,GAAIpB,KAAKwa,YAAYlR,KAAK+J,IAAKA,EAAEsK,iBAAgB,GAAKrc,GAAK+R,EAAEuK,wBAEjF,CACD1c,IAAK,SACLC,MAAO,WACL,OAAO,QAAE,CACPmZ,YAAata,KAAKsa,YAAYvM,KAAI,SAAUpO,GAC1C,OAAOA,EAAEyX,YAEXmD,WAAYva,KAAKua,WAAWxM,KAAI,SAAUpO,GACxC,OAAOA,EAAEyX,YAEXoD,YAAaxa,KAAKwa,YAAYzM,KAAI,SAAUpO,GAC1C,OAAOA,EAAEyX,gBAId,CACDlW,IAAK,aACLC,MAAO,SAAoBxB,GACzB,IAAIke,EAAS7d,KAEb,GAAKL,EAAL,CACA,iBAAmBA,IAAMA,EAAI4V,KAAKkB,MAAM9W,IACxC,IAAIyB,EAAIzB,EAAE2a,YACN9Z,EAAIb,EAAE4a,WACNlH,EAAI1T,EAAE6a,YAEV,GAAIpZ,EAAG,CACL,IAAI0c,EAAM,GACV1c,EAAE0K,SAAQ,SAAU1K,GAClBA,EAAEN,QAAUM,EAAE2W,iBAAmB+F,EAAIxU,KAAKlI,EAAEsV,cAAgBtV,EAAI,IAAI,GAAEA,OACpE0c,EAAIhX,QAAU9G,KAAKqd,gBAAgBS,GAGzC,GAAItd,EAAG,CACL,IAAIud,EAAM,GACVvd,EAAEsL,SAAQ,SAAU1K,GAClBA,EAAEoT,OAASuJ,EAAIzU,KAAKlI,EAAEsV,cAAgBtV,EAAI,IAAI,GAAEA,OAC9C2c,EAAIjX,QAAU9G,KAAKge,mBAAmBD,GAG5C1K,GAAKA,EAAEvH,SAAQ,SAAUnM,GACvBA,EAAEmB,QAAUnB,EAAEgV,OAAShV,EAAE8U,SAAW9U,EAAE8U,QAAUM,KAAKC,SAAWrV,EAAIA,EAAE+W,cAAgB/W,EAAI,IAAI6d,GAAE7d,IAAIge,kBAAmBE,EAAOrD,YAAYlR,KAAK3J,UAGlJ,CACDuB,IAAK,iBACLC,MAAO,SAAwBxB,GAC7B,IAAIyB,EACJzB,EAAIK,KAAKid,aAAatd,GAEtB,IACIse,EADAC,EAAahG,GAA2BlY,KAAKsa,aAGjD,IACE,IAAK4D,EAAW1d,MAAOyd,EAASC,EAAW5c,KAAKwX,MAAO,CACrD,IAAIqF,EAAMF,EAAO9c,MAEjB,GAAInB,KAAKoe,uBAAuBD,EAAIrd,OAAQnB,GAAI,CAC9CyB,EAAI+c,EACJ,QAGJ,MAAO3X,GACP0X,EAAWve,EAAE6G,GACb,QACA0X,EAAWlF,IAGb,OAAO5X,IAER,CACDF,IAAK,gBACLC,MAAO,SAAuBxB,GAC5B,IAAIyB,EACJzB,EAAIK,KAAKid,aAAatd,GAEtB,IACI0e,EADAC,EAAapG,GAA2BlY,KAAKua,YAGjD,IACE,IAAK+D,EAAW9d,MAAO6d,EAASC,EAAWhd,KAAKwX,MAAO,CACrD,IAAI5D,EAAMmJ,EAAOld,MAEjB,GAAInB,KAAKoe,uBAAuBlJ,EAAIG,UAAW1V,GAAI,CACjDyB,EAAI8T,EACJ,QAGJ,MAAO1O,GACP8X,EAAW3e,EAAE6G,GACb,QACA8X,EAAWtF,IAGb,OAAO5X,IAER,CACDF,IAAK,iBACLC,MAAO,SAAwBxB,EAAGyB,GAChC,IAAIZ,EACJb,EAAIK,KAAKid,aAAatd,GACtB,IAAI0T,EAAIrT,KAAKkd,cAAcvd,GAAK,SAAW,SAE3C,GAAIyB,EAAG,CACL,IACImd,EADAC,EAAatG,GAA2BlY,KAAKwa,aAGjD,IACE,IAAKgE,EAAWhe,MAAO+d,EAASC,EAAWld,KAAKwX,MAAO,CACrD,IAAIvG,EAAKgM,EAAOpd,MAEhB,GAAInB,KAAKoe,uBAAuB7L,EAAGzR,OAAQnB,IAAMyB,IAAMmR,EAAGqC,QAAUrC,EAAGkL,QAAUpK,EAAG,CAClF7S,EAAI+R,EACJ,QAGJ,MAAO/L,GACPgY,EAAW7e,EAAE6G,GACb,QACAgY,EAAWxF,SAER,CACL,IACIyF,EADAC,EAAaxG,GAA2BlY,KAAKwa,aAGjD,IACE,IAAKkE,EAAWle,MAAOie,EAASC,EAAWpd,KAAKwX,MAAO,CACrD,IAAI6F,EAAMF,EAAOtd,MAEjB,GAAInB,KAAKoe,uBAAuBO,EAAI7d,OAAQnB,KAAO,IAAMK,KAAK4e,oBAAoBjf,EAAGgf,IAAQA,EAAIlB,QAAUpK,EAAG,CAC5G7S,EAAIme,EACJ,QAGJ,MAAOnY,GACPkY,EAAW/e,EAAE6G,GACb,QACAkY,EAAW1F,KAIf,OAAOxY,IAER,CACDU,IAAK,gBACLC,MAAO,SAAuBxB,EAAGyB,GAC/B,IAAIZ,EACA6S,EACA/R,GAAI,EACRF,IAAMZ,IAAMY,EAAEuT,MAAOtB,EAAIjS,EAAEJ,MAAOM,GAAI,IAAOF,EAAEyd,QAASzd,EAAI6W,GAAc,GAAI7W,GAAIzB,EAAIK,KAAKid,aAAatd,GACxG,IAAI0B,EAAI,IAAIyd,gBACR1e,GAAI,UACR,GAAIgB,EAAE2d,SAAU,QAAE3d,EAAE2d,QAAQ,WAC1B1d,EAAE2d,YACA,QAAE3d,GAAG,WACPjB,EAAE6e,OAAO,IAAI,IAAE,gCAAiC,gBAC9C,QAAE5d,GAAI,OAAOjB,EAAE8e,QACnB9d,EAAE2d,OAAS1d,EAAE0d,OAEb,IAGI1e,EAHAqC,EAAI1C,KAAKmf,iBAAiBxf,GAC1B8B,EAAIjB,EAAIR,KAAKof,eAAezf,GAAK,KAGrC,GAAI8B,GAAK4R,GAAKA,EAAElQ,SAAW,MAAQkQ,EAAElQ,QAAQC,WAAY3B,EAAE4d,eAAe,GAAI5d,EAAG,OAAOpB,EAAI,IAAI,IAAE,kCAAmC,oCAAsCoB,EAAEmT,OAAS,+CAAiDjV,EAAG,CACxOqB,MAAOqS,IACLjT,EAAE6e,OAAO5e,GAAID,EAAE8e,QAEnB,IAAIhc,EAAIlD,KAAKsd,gBAAgB3d,EAAGyB,GAEhC,GAAI8B,EAAG,OAAO9C,EAAEkf,QAAQpc,GAAI9C,EAAE8e,QAC9B,IAAIlG,EAAIhZ,KAAK6c,eAAeld,GAC5B,GAAIqZ,GAAIA,EAAErB,WAAa3X,KAAKkd,cAAcvd,KAAOqZ,EAAEuG,aAAevf,KAAKod,gBAAgBzd,GAAIqZ,EAAErB,WAAY,OAAS,CAChH,IAAIhC,EAAK3V,KAAKod,gBAAgBzd,GAE9B,IAAKgW,EAAI,OAAOtV,EAAI,IAAI,IAAE,oCAAqC,6DAA8DD,EAAE6e,OAAO5e,GAAID,EAAE8e,SAC5IlG,EAAI,IAAI,IAAOlY,OAASd,KAAKmd,uBAAuBxd,GAAI,iBAAmBgW,GAAMqD,EAAEjB,gBAAkBpC,EAAIqD,EAAEtB,WAAY,IAAOsB,EAAEuG,aAAe5J,EAAIqD,EAAErB,WAAY,GAAK3X,KAAKqd,gBAAgB,CAACrE,IAE9L,OAAOA,EAAEtB,gBAAa,IAAWsB,EAAEwG,WAAale,IAAK,QAAE0X,EAAEjB,gBAAiB/X,KAAKkb,aAAelb,KAAK+b,WAAW/T,MAAK,SAAUrI,GAC3H,OAAOA,EAAEoY,kBAAoBiB,EAAEjB,sBACzBiB,EAAEwG,SAAW,CACnB3H,aAAczW,GAAKA,EAAEyW,aACrB4H,QAASzf,KAAK0f,eAAe1G,EAAEjB,gBAAgBnC,QAAQ5V,KAAKwc,kBAAmB,8BAA+B7c,KAC5GK,KAAK2f,SAAShgB,EAAGqZ,EAAG5X,EAAGhB,EAAGsC,KAE/B,CACDxB,IAAK,kBACLC,MAAO,SAAyBxB,GAC9B,OAAOK,KAAK4f,eAAejgB,GAAKA,EAAEiW,QAAQ5V,KAAKmc,cAAe,IAAIvG,QAAQ5V,KAAKoc,iBAAkB,KAAO,GAAKpc,KAAKqc,QAAQxa,KAAKlC,IAAMA,EAAEiW,QAAQ5V,KAAKqc,QAAS,OAASrc,KAAKsc,QAAQza,KAAKlC,IAAMA,EAAEiW,QAAQ5V,KAAKsc,QAAS,OAAStc,KAAKuc,SAAS1a,KAAKlC,IAAMA,EAAEiW,QAAQ5V,KAAKuc,SAAU,OAAS,KAE3R,CACDrb,IAAK,gBACLC,MAAO,SAAuBxB,EAAGyB,EAAGZ,GAClC,IAIIkC,EAAGmd,EAAG7d,EAAGR,EAAGnB,EAAG6C,EAAG8V,EAAGxW,EAJrBlB,EAAItB,KAAKwc,kBAAkB3a,KAAKlC,EAAEoY,iBAClC1W,EAAI,IAAI,KAAErB,KAAKkb,YACf9a,EAAIT,EAAEmY,wBAGV1W,KAAMoB,EAAIxC,KAAKgb,eAAiB5a,GAAKJ,KAAK6a,sBAA0Bza,GAAKA,EAAI,IAAMoC,EAAIpC,IAAKI,IAAMkC,EAAIlC,EAAEsf,QAASD,EAAIrf,EAAEuf,UAAW/d,EAAIxB,EAAEmU,MAAOzR,EAAI1C,EAAEue,OAAQ/F,EAAIxY,EAAEkU,IAAK/U,EAAEqgB,iBAAmBxf,EAAEwf,kBAAmBtd,EAAIlB,EAAI7B,EAAE6X,sBAAwBhW,EAAI7B,EAAEoY,gBAAiB1X,EAAI,IAAI,KAAEmB,EAAE0N,eAAgBvP,EAAEqY,aAAe,MAAQxX,GAAKA,EAAEuf,YAAc/G,GAAK,SAAW3X,EAAE4e,UAAW,QAAE5e,EAAE6e,IAAK1e,GAAG,IAAO,UAAYnB,EAAE4f,QAAU5e,EAAEuY,OAASvZ,EAAEuZ,MAAQ,SAAWvY,EAAE8e,MAAQ,SAAW9f,EAAE8f,QAAU3e,EAAIA,EAAEoU,QAAQ,WAAY,SAASA,QAAQ,SAAU,WAEnhB,IAAIwK,EAAInI,GAAc,CACpBoI,MAAOpI,GAAc,CACnBqI,QAAS,WACT1c,SAAU,MAAQxC,OAAI,EAASA,EAAEwC,SACjCC,SAAU,MAAQzC,OAAI,EAASA,EAAEyC,SACjCkc,UAAWF,EACXlL,MAAO3S,EACP2U,WAAYnU,EACZ+d,QAAS7d,GAAKpB,EAAItB,KAAKkb,WAAa,KACpCsF,OAAQ9d,EAAI,UAAY,KACxBsW,EAAG,QACFrZ,EAAEqgB,kBACLS,OAAQ,OACRC,SAAU,YACVC,SAAU3gB,KAAK4gB,UAAUjhB,EAAGa,GAC5Bue,OAAQ7b,GACP,MAAQ1C,OAAI,EAASA,EAAEqgB,QAG1B,OADAvf,IAAM8e,EAAEU,iBAAkB,IACnB,aAAEtf,EAAG4e,GAAGvO,MAAK,SAAUrR,GAC5B,IAAI6S,EAAI7S,EAAEugB,KACV,IAAK1N,IAAMA,EAAEsB,MAAO,OAAO,IAAI,IAAE,yCAA0C,4BAC3E,IAAIrT,EAAI3B,EAAEmB,OACV,OAAO4Y,GAAEpY,KAAOoY,GAAEpY,GAAK,IAAKF,IAAMsY,GAAEpY,GAAGF,EAAEwC,UAAYxC,EAAEyC,UAAWwP,EAAE2N,SAAWxe,EAAG6Q,OAGrF,CACDnS,IAAK,SACLC,MAAO,WACL,QAASnB,KAAKub,QAEf,CACDra,IAAK,oBACLC,MAAO,SAA2BxB,GAChC,OAAOK,KAAKihB,eAAethB,EAAG,IAAIkS,MAAK,SAAUlS,GAC/C,OAAOA,EAAEuhB,gBAGZ,CACDhgB,IAAK,iBACLC,MAAO,SAAwBxB,EAAGyB,EAAGZ,GACnC,IAAI2gB,EAASnhB,KAETsB,GAAI,EACR,OAAOtB,KAAKohB,cAAczhB,EAAG,CAC3Bkf,QAAQ,IACPhN,MAAK,SAAUxQ,GAChB,IAAIjB,EACAsC,EAAI,CACNsW,EAAG,QAEL,GAAI,WAAa3X,EAAEoc,MACjB,GAAIrc,IAAM+f,EAAOE,gBAAgB1hB,IAAMa,GAAKA,EAAE8gB,OAAQlhB,EAAIiB,EAAEP,OAAS,yCAA0C4B,EAAE6e,UAAYngB,MAAO,CAClI,IAAKC,EAAEsT,MAAO,MAAO,CACnBuM,WAAY7f,GAEdjB,EAAIiB,EAAEP,OAAS,oBAEZ,CACL,IAAKO,EAAEsT,MAAO,MAAO,CACnBuM,WAAY7f,GAEdjB,EAAIiB,EAAEP,OAAS,iBAEjB,OAAOO,EAAEsT,QAAUjS,EAAEiS,MAAQtT,EAAEsT,QAAQ,aAAEvU,EAAG,CAC1CigB,MAAO3d,EACPge,SAAU,cACT7O,MAAK,SAAUlS,GAChB,IAAI,IAAOA,EAAEohB,KAAKS,MAAO,MAAM,IAAI,IAAE,kCAAmC,oCAAoC1f,OAAOT,EAAEuT,OAAQ,MAAOjV,EAAEohB,MACtI,OAAOzf,IAAM3B,EAAEohB,KAAKU,oBAAqB,CACvCP,WAAY7f,MAEbqgB,OAAM,SAAU/hB,GACjB,GAAI,oCAAsCA,EAAEoG,KAAM,MAAMpG,EACxD,IAAIyB,EAAIzB,EAAEwD,SAAWxD,EAAEwD,QAAQC,WAC/B,GAAI,MAAQhC,EAAG,MAAMC,EAAEge,UAAW,IAAI,IAAE,qCAAsC,0BAC9E,GAAI,MAAQje,EAAG,MAAM,IAAI,IAAE,oCAC3B,MAAO,CACL8f,WAAY7f,SAGfwQ,MAAK,SAAUlS,GAChB,MAAO,CACLuhB,WAAYvhB,EAAEuhB,WACdS,SAAUrgB,QAIf,CACDJ,IAAK,uBACLC,MAAO,SAA8BxB,GACnC,IAAIyB,EACAZ,EAAIR,KAAK4hB,UACb,GAAI5hB,KAAK4hB,UAAY,KAAOphB,GAAMb,EAAlC,CACAkiB,cAAc7hB,KAAK8hB,kBAAmB,OAAS1gB,EAAIpB,KAAK+hB,qBAAuB3gB,EAAE4gB,SAAU,MAAQriB,EAAEsiB,OAAO,KAAOtiB,EAAIA,EAAEuiB,UAAU,IACnI,IAAI7O,GAAI,QAAE1T,GAEV,GAAI0T,EAAErS,MAAO,CACX,IAAImhB,EAAM,kBAAoB9O,EAAErS,MAC5BohB,EAAM,IAAI,IAAED,EAAM,gCAAkC,yCAA0CA,EAAM,UAAY,UAAY9O,EAAErS,MAAQ,MAAQqS,EAAEgP,mBAEpJ7hB,EAAEye,OAAOmD,OACJ,CACL,IAAIE,EAAM9hB,EAAE+hB,OACRC,EAAMhiB,EAAEiiB,OACRC,EAAMF,EAAInM,WACVsM,EAAM,IAAInF,GAAE,CACd5I,OAAQvB,EAAEzP,SACV9C,OAAQwhB,EAAIxhB,OACZ6T,MAAOtB,EAAEuP,aACTnO,QAASM,KAAKC,MAAQ,IAAM6N,OAAOxP,EAAEyP,YACrCpO,IAAK,SAAWrB,EAAEqB,IAClB2B,WAAYqM,IAGdF,EAAI5N,OAAS+N,EAAI/N,OAAQ8N,EAAInO,QAAUlB,EAAE0P,QAAUtd,GAAIqU,GAAG4I,EAAI/N,MAAQgO,EAAIhO,MAAO+N,EAAIjO,QAAUkO,EAAIlO,QAASiO,EAAI9N,OAAS+N,EAAI/N,OAAQ8N,EAAIhO,IAAMiO,EAAIjO,IAAKgO,EAAIM,OAAQxiB,EAAE8e,QAAQqD,OAGjL,CACDzhB,IAAK,6BACLC,MAAO,SAAoCxB,GACzCK,KAAKijB,mBAAqBtjB,IAE3B,CACDuB,IAAK,0BACLC,MAAO,SAAiCxB,GACtCK,KAAKkjB,cAAgBvjB,IAEtB,CACDuB,IAAK,SACLC,MAAO,SAAgBxB,EAAGyB,GACxB,IAAI+hB,EAASnjB,KAETQ,EAAIN,UAAU4G,OAAS,QAAsB+F,IAAjB3M,UAAU,GAAmBA,UAAU,GAAK,GAExEmT,GAAI,UACJ/R,EAAI,WACN,IAAI3B,EAAGyB,EAAGZ,EAAG6S,EAAGxM,EAChB,OAASlH,EAAI+C,IAAM/C,EAAEqiB,SAAU,OAAS5gB,EAAII,IAAMJ,EAAE4gB,SAAU,OAASxhB,EAAIiB,IAAMjB,EAAEwhB,SAAU,OAAS3O,EAAIjT,IAAMiT,EAAEgM,UAAW,OAASxY,EAAIsc,EAAOrI,SAAWjU,EAAEwY,UAAW8D,EAAOrI,OAAS1a,EAAIsC,EAAIlB,EAAIC,EAAI,MAEvMJ,EAAI,WACNC,IAAK6hB,EAAOvB,UAAY,KAAMvO,EAAE4L,OAAO,IAAI,IAAE,gCAAiC,aAGhFze,EAAEue,SAAU,QAAEve,EAAEue,QAAQ,WACtB1d,OAEF,IAAIjB,EAAI,IAAIJ,KAAK+a,gBACjB3a,EAAEW,SAAWf,KAAKojB,gBAAgBzjB,GAAIS,EAAEU,OAASM,EAAEN,OAAQd,KAAK8a,OAAS,IAAI,GAAK9a,KAAK8a,OAAOrI,QAAUrS,EAAGJ,KAAK8a,OAAOpI,MAAO,EAAI1S,KAAK0D,KAAK,iBAC5I,IAAIhB,EAAItC,EAAEijB,GAAG,SAAUhiB,GACnBG,EAAIxB,KAAK8a,OAAO/H,MAAM,OAAQ1R,GAC9BI,EAAIrB,EAAEijB,GAAG,UAAU,SAAU1jB,GAC/BwjB,EAAOG,cAAcliB,EAAGzB,EAAG,CACzBmgB,QAAStf,EAAEsf,QACXf,OAAQve,EAAEue,SACTlN,MAAK,SAAUhL,GAChBvF,IACA,IAAID,EAAI,IAAImc,GAAE,CACZ5I,OAAQjV,EAAEiE,SACV9C,OAAQM,EAAEN,OACV6T,MAAO9N,EAAE8N,MACTF,QAAS,MAAQ5N,EAAE4N,QAAUoO,OAAOhc,EAAE4N,SAAW,KACjDC,MAAO7N,EAAE6N,IACToL,QAAStf,EAAEsf,QACXkB,SAAUna,EAAEma,WAEd3N,EAAEiM,QAAQje,MACTqgB,OAAM,SAAU/hB,GACjBS,EAAEY,MAAQrB,EAAGS,EAAES,WAAY,QAG/B,OAAOwS,EAAE6L,UAEV,CACDhe,IAAK,cACLC,MAAO,SAAqBxB,EAAGyB,EAAGZ,EAAG6S,GACnC,IAAIkQ,EAASvjB,KAEbA,KAAK4hB,WAAY,UACjB,IAAItgB,EAAItB,KAAK4hB,UACb,MAAQvO,GAAKA,EAAE0L,SAAU,QAAE1L,EAAE0L,QAAQ,WACnC,IAAIpf,EAAI4jB,EAAO3B,WAAa2B,EAAO3B,UAAU4B,UAC7C7jB,IAAMA,EAAE8jB,OAAS9jB,EAAE2T,QAAUiQ,EAAOzI,QAAUpY,OAC5CpB,EAAEoiB,QAAU/jB,EAAG2B,EAAEihB,OAASnhB,EAAGE,EAAEmhB,OAASjiB,EAC5C,IAAIa,GAAKgS,IAAK,IAAOA,EAAEsQ,uBACvB,IAAKnjB,EAAEuW,QAAU1V,EAAG,OAAOrB,KAAK4jB,eAAejkB,EAAGyB,EAAGZ,GAAIc,EAAE4d,QAC3D,IAAI9e,EAAI,IAAIJ,KAAK+a,gBACjB3a,EAAEa,aAAc,EAAIb,EAAEU,OAASM,EAAEN,OAAQd,KAAK8a,OAAS,IAAI,GAAK9a,KAAK8a,OAAOrI,QAAUrS,EAAGJ,KAAK8a,OAAOpI,MAAO,EAAI1S,KAAK0D,KAAK,iBAE1H,IAAIhB,EAAI,WACNmhB,IAAKN,EAAO3B,UAAY,KAAMtgB,EAAE2d,OAAO,IAAI,IAAE,gCAAiC,aAE5Ezd,EAAIpB,EAAEijB,GAAG,SAAU3gB,GACnBjB,EAAIzB,KAAK8a,OAAO/H,MAAM,OAAQrQ,GAC9BrC,EAAID,EAAEijB,GAAG,UAAU,WACrBQ,IAAKN,EAAOK,eAAejkB,EAAGyB,EAAGZ,MAE/BqjB,EAAI,WACNriB,EAAEwgB,SAAUvgB,EAAEugB,SAAU3hB,EAAE2hB,SAAU5hB,EAAEif,UAAWkE,EAAOzI,OAAOuE,UAAWkE,EAAOzI,OAAS,MAG5F,OAAOxZ,EAAE4d,UAEV,CACDhe,IAAK,qBACLC,MAAO,WACDnB,KAAKwa,aACPxa,KAAKwa,YAAY7V,QAAQmH,SAAQ,SAAUnM,GACzCA,EAAE0f,aAINrf,KAAK0D,KAAK,yBAEX,CACDxC,IAAK,wBACLC,MAAO,WACL,IAAI2iB,EAAS9jB,KAETL,EAAIO,UAAU4G,OAAS,QAAsB+F,IAAjB3M,UAAU,GAAmBA,UAAU,GAAK,sCAC5EF,KAAK+jB,wBAA0B/jB,KAAK+jB,uBAAuB/B,SAAUhiB,KAAK+jB,wBAAyB,QAAE1d,OAAQ,WAAW,SAAUjF,GAChI,IAAIZ,EAEJ,IAAKY,EAAE+Z,SAAW2I,EAAO5I,YAAc9Z,EAAE+Z,OAAO6I,SAAS,iBAAmB,mCAAqC,OAASxjB,EAAIY,EAAE2f,WAAQ,EAASvgB,EAAE6B,MAAO,CACxJ,IAAIqT,EAAMtU,EAAEyK,OAEZiY,EAAO1C,cAAczhB,GAAGkS,MAAK,SAAUlS,GACrC+V,EAAIuO,YAAY,CACd5hB,KAAM,yBACN6e,WAAY,CACVzM,QAAS9U,EAAE8U,QACX3T,OAAQnB,EAAEmB,OACV4T,IAAK/U,EAAE+U,IACPC,MAAOhV,EAAEgV,MACTC,OAAQjV,EAAEiV,SAEXxT,EAAE+Z,WACJuG,OAAM,SAAU/hB,GACjB+V,EAAIuO,YAAY,CACd5hB,KAAM,oBACNrB,MAAO,CACL+E,KAAMpG,EAAEoG,KACRW,QAAS/G,EAAE+G,UAEZtF,EAAE+Z,iBAKZ,CACDja,IAAK,yBACLC,MAAO,WACLnB,KAAK+jB,yBAA2B/jB,KAAK+jB,uBAAuB/B,SAAUhiB,KAAK+jB,uBAAyB,QAErG,CACD7iB,IAAK,gBACLC,MAAO,WACL,IAAIxB,EAAI0G,OAAO+U,SAAS8I,KAExB,GAAIvkB,EAAG,CACL,MAAQA,EAAEsiB,OAAO,KAAOtiB,EAAIA,EAAEuiB,UAAU,IAExC,IAAIiC,GAAM,QAAExkB,GAERykB,GAAM,EAEV,GAAID,EAAIvB,cAAgBuB,EAAIrB,YAAcqB,EAAI9X,OAAS8X,EAAIE,eAAe,YAAa,IACrFF,EAAI9X,MAAQkJ,KAAKkB,MAAM0N,EAAI9X,OAAQ,iBAAmB8X,EAAI9X,OAAS8X,EAAI9X,MAAMgJ,YAAcrV,KAAKyb,WAAa0I,EAAKC,GAAM,GACxH,MAAOE,SAAkBH,EAAInjB,OAASmjB,EAAI9B,oBAAsB5b,QAAQgP,IAAI,gCAAiC0O,EAAInjB,MAAO,MAAOmjB,EAAI9B,mBAAoB,kBAAoB8B,EAAInjB,QAAUojB,GAAM,IACjMA,IAAQ/d,OAAO+U,SAAS8I,KAAO,iBAAmBC,EAAI9X,OAAS8X,EAAI9X,MAAM6X,MAAQ,OAGpF,CACDhjB,IAAK,mBACLC,MAAO,SAA0BxB,GAC/B,GAAIA,EAAE4kB,WAAavkB,KAAKwkB,UAAYxkB,KAAKwb,2BAA4B,CACnE,IAAIiJ,EAAM,IAAI,IAAE,gCAAiC,WAEjDzkB,KAAK0kB,aAAaD,MAGrB,CACDvjB,IAAK,kBACLC,MAAO,SAAyBxB,EAAGyB,GACjC,IAEIZ,EACA6S,EACAxM,EACAvF,EALAqjB,EAAS3kB,KAMTqB,GAAK,EACLjB,EAAIgB,GAAKA,EAAEuT,MACXjS,EAAItB,GAAKA,EAAEL,SACX8e,EAAI7f,KAAKkd,cAAcvd,GAAK,SAAW,SACvCqC,EAAIhC,KAAKwa,YAAYhW,QAAO,SAAUpD,GACxC,OAAOujB,EAAOvG,uBAAuBhd,EAAEN,OAAQnB,IAAMyB,EAAEqc,QAAUoC,KAEnE,GAAIlgB,EAAI+C,GAAK/C,EAAGqC,EAAE8E,OAAQ,GAAI,IAAM9E,EAAE8E,OAAQ,CAC5C,GAAItG,EAAIwB,EAAE,GAAIV,EAAItB,KAAK6c,eAAerc,EAAEM,QAASuS,EAAI/R,GAAKA,EAAEsW,gBAAiB/Q,EAAIwM,GAAKrT,KAAKof,eAAe/L,EAAG7S,EAAEoU,QAASvT,EAAIrB,KAAK4e,oBAAoBjf,EAAGa,IAAKJ,EAAG,OAAQ,IAAMiB,GAAKb,EAAEkd,UAAUpU,KAAK3J,GAAIK,KAAK4kB,aAAajlB,EAAGkH,GAAIrG,GAChO,IAAMa,IAAMb,EAAEkd,UAAUtT,OAAO/I,EAAG,GAAIrB,KAAK6kB,gBAAgBllB,EAAGkH,QAC1D,CACL,IAAIie,EAAKxO,EAET,GAAItU,EAAEgG,MAAK,SAAU5H,GACnB,OAAgD,KAAzCkW,EAAMqO,EAAO/F,oBAAoBjf,EAAGS,MAAmB0kB,EAAM1kB,EAAGkB,EAAIqjB,EAAO9H,eAAeiI,EAAIhkB,QAASuS,EAAI/R,GAAKA,EAAEsW,gBAAiB/Q,EAAIwM,GAAKsR,EAAOvF,eAAe/L,EAAGyR,EAAIlQ,QAASvT,EAAIiV,GAAK,MAChMlW,EAAG0kB,IAAQA,EAAIpH,UAAUtT,OAAO/I,EAAG,GAAIrB,KAAK6kB,gBAAgBllB,EAAGkH,SAAS,GAAIie,EAAK,OAAO9kB,KAAK4kB,aAAajlB,EAAGkH,GAAIie,KAGxH,CACD5jB,IAAK,iBACLC,MAAO,SAAwBxB,GAC7B,IAAIyB,EAAIpB,KAAKgd,cAAcrd,GAE3B,IAAKyB,EAAG,CACN,IACI2jB,EADAC,EAAa9M,GAA2BlY,KAAKua,YAGjD,IACE,IAAKyK,EAAWxkB,MAAOukB,EAASC,EAAW1jB,KAAKwX,MAAO,CACrD,IAAIvC,EAAMwO,EAAO5jB,MAEjB,GAAInB,KAAKilB,cAAc1O,EAAIlB,UAAW1V,GAAI,CACxCyB,EAAImV,EACJ,QAGJ,MAAO/P,GACPwe,EAAWrlB,EAAE6G,GACb,QACAwe,EAAWhM,KAIf,OAAO5X,IAER,CACDF,IAAK,eACLC,MAAO,SAAsBxB,EAAGyB,GAC9BA,IAAM,IAAMpB,KAAK4e,oBAAoBjf,EAAGyB,IAAMA,EAAEsc,UAAUpU,KAAK3J,KAEhE,CACDuB,IAAK,kBACLC,MAAO,SAAyBxB,EAAGyB,GACjC,IAAIZ,GAAK,EACTY,KAAMZ,EAAIR,KAAK4e,oBAAoBjf,EAAGyB,KAAS,GAAKA,EAAEsc,UAAUtT,OAAO5J,EAAG,MAE3E,CACDU,IAAK,YACLC,MAAO,SAAmBxB,EAAGyB,GAC3B,OAAOA,GAAKA,EAAE0e,WAAY,QAAEngB,EAAE6X,qBAAsBxX,KAAKkb,cAAgBlb,KAAKklB,gBAAgBvlB,EAAEoY,kBAAoB,SAAWoN,OAAOxlB,EAAE8X,mBAAoB,QAAE9X,EAAEoY,gBAAiB/X,KAAKkb,cAEvL,CACDha,IAAK,aACLC,MAAO,SAAoBxB,GACzB,IAAIyB,EAAI,IAAI,KAAEzB,GACd,OAAOyB,EAAE6e,OAAS,MAAQ7e,EAAEwY,MAAQ,MAAQxY,EAAE+e,KAAO,IAAM/e,EAAE+e,KAAO,MAErE,CACDjf,IAAK,yBACLC,MAAO,SAAgCxB,GACrC,IAAIyB,EAAIzB,EAAEuP,cACN1O,EAAIY,EAAE+I,QAAQnK,KAAK2b,UACvB,OAAQ,IAAMnb,GAAKR,KAAKmf,iBAAiBxf,KAAOa,EAAIR,KAAK6b,UAAUha,KAAKlC,GAAKA,EAAEiW,QAAQ5V,KAAK6b,UAAW,MAAM/U,OAASnH,EAAEylB,OAAOplB,KAAK8b,cAAe,IAAMtb,IAAMA,EAAIY,EAAE+I,QAAQ,cAAe,IAAM3J,GAAK,MAAQY,EAAEikB,QAAQ,KAAO7kB,EAAIY,EAAE0F,OAAS,GAAItG,GAAK,EAAIb,EAAEuiB,UAAU,EAAG1hB,GAAKb,IAEjR,CACDuB,IAAK,yBACLC,MAAO,SAAgCxB,EAAGyB,GACxC,MAAO,MAAQzB,EAAE0lB,QAAQ,KAAO1lB,EAAIA,EAAEgF,MAAM,GAAI,IAAKhF,EAAIA,EAAEuP,cAAe9N,EAAIpB,KAAKmd,uBAAuB/b,GAAG8N,cAAevP,EAAIK,KAAKslB,wBAAwB3lB,GAAIyB,EAAIpB,KAAKslB,wBAAwBlkB,IAAKzB,EAAIA,EAAE0lB,OAAO1lB,EAAEwK,QAAQ,SAAgB/I,EAAEikB,OAAOjkB,EAAE+I,QAAQ,QAElQ,CACDjJ,IAAK,0BACLC,MAAO,SAAiCxB,GACtC,IAAIyB,EAAI,oDACJZ,EAAI,6DACJ6S,EAAI,wDACR,OAAOjS,EAAES,KAAKlC,GAAKA,EAAIA,EAAEiW,QAAQxU,EAAG,0BAA4BZ,EAAEqB,KAAKlC,GAAKA,EAAIA,EAAEiW,QAAQpV,EAAG,6BAA+B6S,EAAExR,KAAKlC,KAAOA,EAAIA,EAAEiW,QAAQvC,EAAG,6BAA8B1T,IAE1L,CACDuB,IAAK,eACLC,MAAO,SAAsBxB,GAC3B,IAAIa,GAAK,sBAAsB,IAAI0O,cAC/BmE,EAAI7S,EAAIb,EAAEuP,cAAc/E,QAAQ3J,EAAI,MAAQ,EAChD,OAAQ,IAAM6S,IAAM1T,EAAIA,EAAEuiB,UAAU7O,EAAI7S,EAAEsG,OAAS,IAAKnH,GAAI,QAAEA,IAAI,QAAEA,GAAG4lB,OAExE,CACDrkB,IAAK,iBACLC,MAAO,SAAwBxB,GAC7B,OAAOA,EAAEwK,QAAQnK,KAAK2b,WAAa,IAEpC,CACDza,IAAK,mBACLC,MAAO,SAA0BxB,GAC/B,OAAOK,KAAK6b,UAAUha,KAAKlC,IAAMK,KAAK8b,WAAWja,KAAKlC,KAEvD,CACDuB,IAAK,gBACLC,MAAO,SAAuBxB,GAC5B,OAAOK,KAAK4f,eAAejgB,IAAMK,KAAKmf,iBAAiBxf,KAExD,CACDuB,IAAK,sBACLC,MAAO,SAA6BxB,EAAGyB,GACrC,IAAIZ,EAEJ,GAAIR,KAAK4f,eAAejgB,IAAMK,KAAK4f,eAAexe,GAAI,CACpD,IAAImW,EAAKvX,KAAKwlB,WAAW7lB,GAAGuP,cACxBuW,EAAMzlB,KAAKwlB,WAAWpkB,GAAG8N,cAE7B,KAAI1O,EAAI+W,IAAOkO,GAAS,CACtB,IAAIC,EAAM,2DACVllB,EAAI+W,EAAG3B,QAAQ8P,EAAK,QAAUD,EAAI7P,QAAQ8P,EAAK,YAE5C1lB,KAAKmf,iBAAiBxf,IAAMK,KAAKmf,iBAAiB/d,GAAKZ,GAAI,EAAKR,KAAKkd,cAAcvd,IAAMK,KAAKkd,cAAc9b,KAAOpB,KAAKklB,gBAAgBvlB,KAAOa,GAAI,GAE1J,OAAOA,IAER,CACDU,IAAK,kBACLC,MAAO,SAAyBxB,GAC9B,IAAIgmB,EAAS3lB,KAETQ,EAAI,IAAI,KAAEb,EAAEuP,eACZmE,EAAIrT,KAAKma,cAETtT,EAAI7G,KAAK+b,WAAW/T,MAAK,SAAUrI,GACrC,OAAOA,EAAEqc,MAAMna,KAAKrB,EAAE0f,QAGxB,OAAQrZ,GAAKwM,IAAMxM,EAAI7G,KAAKoe,uBAAuBpe,KAAKmd,uBAAuB9J,EAAEuS,aAAcplB,EAAE0f,MAAOrZ,GAAK,gBAAgBA,GAAI,QAAErG,EAAG,eAAa,IAAMqG,IAAMA,EAAI7G,KAAK2a,SAAS3S,MAAK,SAAUrI,GAC9L,OAAOgmB,EAAOvH,uBAAuBze,EAAGa,EAAE0f,SACvCrZ,EAAIA,GAAK7G,KAAK4b,WAAW/Z,KAAKrB,EAAE+kB,QAEtC,CACDrkB,IAAK,gBACLC,MAAO,SAAuBxB,EAAGyB,GAC/B,IAAIZ,GAAK,EACL6S,GAAK,EAETrT,KAAK+b,WAAWjQ,SAAQ,SAAUjF,EAAGvF,IAClC,IAAMd,GAAKqG,EAAEmV,MAAMna,KAAKlC,KAAOa,EAAIc,IAAK,IAAM+R,GAAKxM,EAAEmV,MAAMna,KAAKT,KAAOiS,EAAI/R,MAG9E,IAAIuF,GAAI,EAER,GAAIrG,GAAK,GAAK6S,GAAK,IAAM,IAAM7S,GAAK,IAAMA,EAAI,IAAM6S,GAAK,IAAMA,IAAMxM,GAAI,GAAM,IAAMrG,EAAI,IAAM6S,GAAK,IAAMA,IAAMxM,GAAI,GAAM,IAAMrG,EAAI,IAAM6S,IAAMxM,GAAI,GAAM,IAAMrG,GAAK,IAAM6S,IAAMxM,GAAI,KAAOA,EAAG,CAC7L,IAAIiO,EAAM9U,KAAK6c,eAAezb,GAC1BykB,EAAM/Q,GAAOA,EAAI8C,gBAErBiO,GAAOlM,GAAE7E,IAAQ9U,KAAKklB,gBAAgBW,IAAQ7lB,KAAKilB,cAActlB,EAAGkmB,KAAShf,GAAI,GAGnF,OAAOA,IAER,CACD3F,IAAK,sBACLC,MAAO,SAA6BxB,EAAGyB,GAGrC,IAFA,IAAIZ,GAAK,EAEAslB,EAAM,EAAGA,EAAM1kB,EAAEsc,UAAU5W,OAAQgf,IAAO,CACjD,IAAIC,EAAM3kB,EAAEsc,UAAUoI,GAEtB,GAAI9lB,KAAKgmB,oBAAoBrmB,EAAGomB,GAAM,CACpCvlB,EAAIslB,EACJ,OAIJ,OAAOtlB,IAER,CACDU,IAAK,aACLC,MAAO,SAAoBxB,GACzB,OAAOA,EAAEiW,QAAQ5V,KAAKmc,cAAe,IAAIvG,QAAQ5V,KAAKoc,iBAAkB,QAEzE,CACDlb,IAAK,kBACLC,MAAO,SAAyBxB,GAC9B,IAEUkH,EAFNof,EAAUjmB,KAId,GAAIA,KAAK4f,eAAejgB,IAAMK,KAAKmf,iBAAiBxf,GAAI,CACtD,IAAIumB,EAAMlmB,KAAKmd,uBAAuBxd,GAEtC,MAMI,CACFwmB,SAPSD,EAAM,uBAQfhH,SAR2C,aAAEvf,EAAIumB,EAAM,aAAc,CACrE7F,MAAO,CACLrH,EAAG,UAEJnH,MAAK,SAAUlS,GAChB,OAAOA,EAAEohB,SAOb,GAAI/gB,KAAKklB,gBAAgBvlB,GAAI,CAC3B,IAAIymB,EAAM,GAEV,GAAIpmB,KAAK+b,WAAW/T,MAAK,SAAUxH,GACjC,OAAOA,EAAEwb,MAAMna,KAAKlC,KAAOymB,EAAM5lB,EAAEuX,mBAAoBqO,KACrDA,GAAOpmB,KAAK2a,SAAS3S,MAAK,SAAUxH,GACtC,OAAOylB,EAAQ7H,uBAAuB5d,EAAGb,KAAOymB,EAAM5lB,EAAIylB,EAAQvK,eAAgB0K,KAChFA,IAAkD,KAA1Cvf,EAAIlH,EAAEuP,cAAc/E,QAAQ,eAA0Bic,EAAMzmB,EAAEuiB,UAAU,EAAGrb,GAAK7G,KAAK0b,aAAe0K,IAAQA,EAAMpmB,KAAKqmB,WAAW1mB,GAAKK,KAAK0b,aAAc0K,EAAK,CACzK,IAAIvQ,EAAM,IAAI,KAAElW,GAAGwgB,KACnB,cAActe,KAAKlC,IAAM,SAAWkW,IAAQuQ,EAAMA,EAAIxQ,QAAQ,SAAU,UAAWwQ,EAAMA,EAAIxQ,QAAQ,SAAU,UAGjH,OAAOwQ,EAGT,IAAK,IAAMzmB,EAAEuP,cAAc/E,QAAQ,4BAA6B,MAAO,mDAExE,CACDjJ,IAAK,iBACLC,MAAO,SAAwBxB,EAAGyB,EAAGZ,GACnC,OAAO,aAAE,GAAGsB,OAAOnC,EAAG,sCAAuC,CAC3D+gB,SAAU,YACVD,OAAQ,OACRJ,MAAO,CACLrH,EAAG,OACHuI,UAAWngB,EACXuT,MAAOnU,KAERqR,MAAK,SAAUlS,GAChB,OAAOA,EAAEohB,KAAKpM,WAGjB,CACDzT,IAAK,mBACLC,MAAO,SAA0BxB,EAAGyB,GAClC,OAAOzB,EAAIA,EAAEiW,QAAQ,UAAW,WAAW,aAAE,GAAG9T,OAAOnC,EAAG,qCAAsC,CAC9F+gB,SAAU,YACV4F,QAAS,CACP,wBAAyBllB,EACzB,2BAA4BiF,OAAO+U,SAASE,KAAK1F,QAAQ,OAAQ,KAEnE6K,OAAQ,OACRJ,MAAO,CACLrH,EAAG,QAEL8H,iBAAiB,IAChBjP,MAAK,SAAUlS,GAChB,OAAOA,EAAEohB,UAGZ,CACD7f,IAAK,iBACLC,MAAO,SAAwBxB,EAAGyB,GAChC,IAAIZ,EACJ,OAAIR,KAAK+b,WAAW/T,MAAK,SAAU5G,GACjC,OAAOA,EAAE4a,MAAMna,KAAKlC,KAAOa,EAAIY,EAAE6a,iBAAkBzb,KACjDA,EAAU+lB,QAAQjH,QAAQ,CAC5BkH,QAAQ,EACR/O,eAAgB,MAChBwE,cAAezb,EACfimB,WAAY,cACZC,eAAe,KAEjB1mB,KAAKkb,WAAWyL,WAAW,UAAYhnB,EAAIA,EAAEiW,QAAQ,UAAW,UAAUA,QAAQ,SAAU,SAAW,UAAU/T,KAAKT,KAAOzB,EAAIA,EAAEiW,QAAQ,WAAY,SAASA,QAAQ,SAAU,WAC3K,aAAEjW,EAAG,CACV0gB,MAAO,CACLrH,EAAG,QAEL0H,SAAU,YACVI,iBAAiB,IAChBjP,MAAK,SAAUlS,GAChB,OAAOA,EAAEohB,WAGZ,CACD7f,IAAK,kBACLC,MAAO,SAAyBxB,GAC9B,IAAIyB,EAAIpB,KAAKma,cACT3Z,EAAI6F,OAAO+U,SAASE,KACpBjI,EAAIrT,KAAK6c,eAAeld,GAC5B,SAAUyB,IAAMpB,KAAKklB,gBAAgB1kB,MAAQ6S,EAAIA,EAAEqE,WAAarE,EAAEuE,iBAAmB5X,KAAKklB,gBAAgB7R,EAAEuE,iBAAmB5X,KAAKklB,gBAAgBvlB,OAASK,KAAKilB,cAAczkB,EAAGb,IAAMyB,IAAMpB,KAAKoe,uBAAuBpe,KAAKmd,uBAAuB/b,EAAEwkB,aAAcjmB,IAAMK,KAAKilB,cAAc7jB,EAAEwkB,YAAajmB,MAAO,QAAEa,EAAGb,GAAG,OAE/T,CACDuB,IAAK,iBACLC,MAAO,SAAwBxB,EAAGyB,EAAGZ,EAAG6S,GACtC,IAAI/R,GAAI,EACJD,EAAIgS,EAAIjS,EAAEoW,qBAAuBpW,EAAE2W,gBASvC,OAPI1W,EAAEulB,OAAO1X,cAAcyX,WAAW,YAAc3mB,KAAKkb,WAAWyL,WAAW,YAAa,QAAEtlB,MAAOC,IAAMtB,KAAKkjB,iBAAmBljB,KAAKkjB,cAAc,CACpJ2D,YAAalnB,EACbmnB,WAAY1lB,MAEZZ,EAAE,IAAI,IAAE,2BAA4B,oFAG/Bc,IAER,CACDJ,IAAK,WACLC,MAAO,SAAkBxB,EAAGyB,EAAGZ,EAAG6S,EAAGxM,EAAGvF,GACtC,OAAO+R,IAAMA,GAAI,WAAMA,EAAEqQ,QAAU/jB,EAAG0T,EAAEkP,OAASnhB,EAAGiS,EAAE0T,SAAWvmB,EAAG6S,EAAE2T,OAASngB,EAAGwM,EAAE4T,SAAW3lB,EAAGtB,KAAKub,MAAQvb,KAAKoe,uBAAuBpe,KAAKmd,uBAAuBxd,GAAIK,KAAKub,MAAMmI,UAAY1jB,KAAK4hB,WAAa5hB,KAAK4hB,UAAU4B,WAAaxjB,KAAK4hB,UAAU4B,UAAUxU,QAAShP,KAAKya,QAAQnR,KAAK+J,IAAMrT,KAAK0a,QAAQpR,KAAK+J,GAAKrT,KAAKknB,UAAU7T,GAAIA,EAAE6L,UAEvV,CACDhe,IAAK,YACLC,MAAO,SAAmBxB,GACxB,IAAIwnB,EAAUnnB,KAEdA,KAAKub,MAAQ5b,EAAGK,KAAKwb,4BAA6B,EAElD,IAAIpa,EAAI,SAAWgmB,GACjB,IAAI5mB,EAAIb,EAAEonB,UAAYpnB,EAAEonB,SAAShmB,SAC7BsS,EAAI1T,EAAE+jB,QACN7c,EAAIlH,EAAEsnB,SACN3lB,GAAI,GACP,IAAM6lB,EAAQ3M,YAAYrQ,QAAQid,KAASvgB,IAAM,IAAMsgB,EAAQ3M,YAAYrQ,QAAQtD,IAAMA,EAAE+N,OAASwS,EAAIxS,OAAQ/N,EAAE8N,MAAQyS,EAAIzS,MAAO9N,EAAE4N,QAAU2S,EAAI3S,QAAS5N,EAAEma,SAAWoG,EAAIpG,SAAUna,EAAE6N,IAAM0S,EAAI1S,IAAK7N,EAAEwgB,aAAeD,EAAIC,aAAc/lB,GAAI,EAAI8lB,EAAMvgB,GAAKsgB,EAAQ3M,YAAYlR,KAAK8d,IAAOA,EAAI1J,YAAc0J,EAAI1J,UAAY,IAAK0J,EAAI1J,UAAUpU,KAAK9I,GAAK6S,GAAI+T,EAAI3J,MAAQ0J,EAAQjK,cAAc7J,GAAK,SAAW,SAAU+T,EAAIzJ,kBACpa,IAAItc,EAAI8lB,EAAQ1M,QACZra,EAAI,GACR+mB,EAAQ1M,QAAU,GAAIpZ,EAAEyK,SAAQ,SAAUnM,GACxC,IAAKwnB,EAAQnB,oBAAoB3S,EAAG1T,EAAE+jB,SAAU,CAC9C,IAAI4D,EAAOH,EAAQ3B,WAAW7lB,EAAE+jB,SAEhCtjB,EAAEknB,KAAUlnB,EAAEknB,IAAQ,EAAIF,EAAI1J,UAAUpU,KAAK3J,EAAE+jB,cAE/C/jB,EAAE2f,QAAQ8H,GAAM/lB,EAAEyK,SAAQ,SAAUnM,GACtCwnB,EAAQ/I,uBAAuB+I,EAAQhK,uBAAuB9J,GAAI1T,EAAE+jB,SAAW/jB,EAAE2f,QAAQ8H,GAAOD,EAAQ1M,QAAQnR,KAAK3J,MACnHwnB,EAAQ5L,MAAQ5b,EAAE+jB,QAAU/jB,EAAE4iB,OAAS5iB,EAAEsnB,SAAW,KAAM3lB,GAAK6lB,EAAQzjB,KAAK,oBAAqB,CACnGwd,WAAYkG,IACVD,EAAQ1M,QAAQ3T,OAASqgB,EAAQD,UAAUC,EAAQ1M,QAAQ8M,SAAWJ,EAAQzM,QAAQ5T,QAAUqgB,EAAQD,UAAUC,EAAQzM,QAAQ6M,UAEpI/mB,EAAI,SAAWY,GACjBzB,EAAEsf,OAAO7d,GAAI+lB,EAAQ5L,MAAQ5b,EAAE+jB,QAAU/jB,EAAE4iB,OAAS5iB,EAAEsnB,SAAW,KAAME,EAAQ1M,QAAQ3T,OAASqgB,EAAQD,UAAUC,EAAQ1M,QAAQ8M,SAAWJ,EAAQzM,QAAQ5T,QAAUqgB,EAAQD,UAAUC,EAAQzM,QAAQ6M,UAEvMlU,EAAI,SAAWmU,EAAKlmB,EAAGlB,EAAGsC,GAC5B,IAAImd,EAAGre,EAMHwX,EAAGxW,EAJHf,EAAI9B,EAAE4iB,OACNliB,GAAKV,EAAEonB,WAAY,IAAOpnB,EAAEonB,SAASlI,OACrC3b,EAAIzB,EAAEiW,WAAayP,EAAQM,eAAe9nB,EAAE+jB,SAGhD,GAAI8D,EAAKpmB,EAAE,IAAIoc,GAAE,CACf5I,OAAQ4S,EACR1mB,OAAQW,EAAEX,OACV6T,MAAOvU,GAAK,KACZqU,QAAS,MAAQ/R,EAAImgB,OAAOngB,GAAK,KACjCgS,MAAOpT,UACA,GAAI+E,SAAWA,OAAOqhB,QAAU,OAAS7H,EAAIsH,EAAQ9L,WAAWgF,QAAUR,EAAE,uBAAyB,OAASre,EAAI2lB,EAAQ9L,WAAWgF,QAAU7e,EAAE,uBAAyB2lB,EAAQ/I,uBAAuB+I,EAAQhK,uBAAuBgK,EAAQ9L,WAAWgF,MAAM,uBAAwB1gB,EAAE+jB,SAAU,CAC5S,IAAItD,EACJ/Z,OAAOqhB,OAAOzD,YAAY,CACxB5hB,KAAM,iCACL8kB,EAAQ9L,WAAWgF,MAAM,uBAE5B,IAAIsH,GAAM,QAAEthB,OAAQ,WAAW,SAAU1G,GACvCA,EAAEkM,SAAWxF,OAAOqhB,QAAU/nB,EAAEohB,OAAS,2BAA6BphB,EAAEohB,KAAK1e,MAAQslB,EAAI3F,SAAUriB,EAAEohB,KAAKG,WAAWzM,QAAUM,KAAKC,MAAQxU,EAAE,IAAI,IAAE,6CAA8C,4CAA8CY,EAAE,IAAIoc,GAAE7d,EAAEohB,KAAKG,cAAgB,sBAAwBvhB,EAAEohB,KAAK1e,OAASslB,EAAI3F,SAAU,sBAAwBriB,EAAEohB,KAAK/f,MAAM+E,KAAOvF,EAAE,IAAI,IAAE,6CAA8C,4CAA8CA,EAAE,aAAWb,EAAEohB,KAAK/f,cAG3e,QAAE,OAASof,EAAIzgB,EAAEonB,eAAY,EAAS3G,EAAErB,QAAQ,WAC9C4I,EAAI3F,iBAED,GAAI9e,EAAG,CACZ,IAAI0kB,EAAM1kB,EAAEmT,WAEZ,IAAKuR,EAAK,CACR,IAAIC,EAAM,IAAI,GAAE3kB,EAAGuC,IACfqiB,EAAM,IAAI,GAAE5kB,EAAG4W,IAEnB+N,EAAIE,WAAaD,EAAIC,UAAYF,EAAIpT,QAAUqT,EAAIrT,SAAWmT,EAAMC,EAAKC,EAAIzI,YAAcuI,EAAME,EAAKD,EAAIxI,WAAauI,EAAMC,EAAIE,UAAYF,EAAMC,EAAK5kB,EAAEmT,WAAauR,EAGzK,GAAIA,EAAIG,UAAW/O,EAAI,IAAIwE,GAAE,CAC3B5I,OAAQgT,EAAIhT,OACZ9T,OAAQW,EAAEX,OACV6T,MAAOiT,EAAIjT,MACXF,QAASmT,EAAInT,QACbC,IAAKkT,EAAIlT,IACT2B,WAAYuR,IACV1kB,EAAEsR,QAAUoT,EAAIpT,OAAS2S,EAAQ9F,gBAAgB1hB,EAAE+jB,SAAW/jB,EAAEqoB,YAAcb,EAAQc,eAAejP,EAAElY,OAAQoC,EAAEsR,MAAOwE,EAAErE,OAAO9C,MAAK,SAAUlS,GAClJqZ,EAAErE,MAAQhV,EAAGioB,EAAIjT,MAAQhV,EAAGioB,EAAI5E,OAAQ5hB,EAAE4X,MACzC0I,OAAM,WACPtgB,EAAE4X,MACC5X,EAAE4X,QAAQ,GAAImO,EAAQ1L,YAAc0L,EAAQ/I,uBAAuBlb,EAAEmS,UAAW8R,EAAQ1L,WAAWpP,MAAMgJ,WAAY,CACxH,IAAI6S,EAAMf,EAAQ1L,WAClBzC,EAAI,IAAIwE,GAAE,CACR5I,OAAQsT,EAAItkB,SACZ9C,OAAQW,EAAEX,OACV6T,MAAOuT,EAAItF,aACXnO,QAASM,KAAKC,MAAQ,IAAM6N,OAAOqF,EAAIpF,YACvCpO,IAAK,SAAWwT,EAAIxT,IACpByT,WAAYD,EAAI7b,MAChBgK,WAAYuR,IACV1kB,EAAE0R,OAASoE,EAAEpE,OAAQgT,EAAIrT,QAAU2T,EAAInF,QAAUtd,GAAIqU,GAAG8N,EAAIjT,MAAQqE,EAAErE,MAAOiT,EAAInT,QAAUuE,EAAEvE,QAASmT,EAAIhT,OAASoE,EAAEpE,OAAQgT,EAAIlT,IAAMsE,EAAEtE,IAAKkT,EAAI5E,OAAQmE,EAAQ1L,WAAa,KAAMra,EAAE4X,OACtL,CACL,IAAIoP,EAAM,WACR/nB,EAAIV,EAAEqoB,YAAcb,EAAQkB,YAAY1oB,EAAE+jB,QAASjiB,EAAGyB,EAAGvD,EAAEonB,UAAUlV,KAAKzQ,EAAGZ,IAAMgC,EAAI,IAAI,IAAE,qCAAsC,0BAA2BhC,EAAEgC,KAGlK2kB,EAAQ9F,gBAAgB1hB,EAAE+jB,SAAW/jB,EAAEqoB,YAAcb,EAAQmB,iBAAiB7mB,EAAEX,OAAQoC,EAAEsR,OAAO3C,MAAK,SAAUvB,GAC9G,IAAI3Q,EAAI2Q,EAAK+E,UACT7U,EAAI8P,EAAKqE,MACT9N,EAAIyJ,EAAK1M,UACZjE,IAAK,QAAEA,EAAGwnB,EAAQjM,YAAY,IAAOlC,EAAI,IAAIwE,GAAE,CAC9C1c,OAAQW,EAAEX,OACV8T,OAAQ/N,EACR8N,MAAOnU,IACLY,EAAE4X,IAAMoP,OACX1G,MAAM0G,GAAOA,UAEb,GAAI/nB,GACT,GAAI8mB,EAAQoB,eAAe5oB,EAAE+jB,QAASjiB,EAAGjB,EAAGb,EAAEqnB,QAAS,CACrD,IAAIwB,EAAM7oB,EAAEonB,SACZpnB,EAAEqnB,UAAWwB,EAAMA,GAAO,IAAQ1I,SAAU,GAAKngB,EAAEqoB,YAAcb,EAAQsB,OAAO9oB,EAAE+jB,QAASjiB,EAAG+mB,GAAK3W,KAAKzQ,EAAGZ,SAExGgC,EAAI,IAAI,IAAE,qCAAsC,0BAA2BhC,EAAEgC,IAElFlB,EAAI,WACN,IAGID,EAAGjB,EAAGsC,EAAGmd,EAHTxM,EAAI1T,EAAE4iB,OACN1b,EAAIwM,EAAEuE,gBACNtW,EAAI3B,EAAEonB,SAGV,GAAIzlB,IAAMD,EAAIC,EAAEqT,MAAOvU,EAAIkB,EAAEN,MAAO0B,EAAIpB,EAAEud,UAASgB,EAAIsH,EAAQ7J,gBAAgBzW,EAAG,CAChF8N,MAAOtT,EACPN,SAAUpB,EAAE+jB,WACN,CACN,IACIgF,EADAC,EAAazQ,GAA2BiP,EAAQ3M,aAGpD,IACE,IAAKmO,EAAWnoB,MAAOkoB,EAASC,EAAWrnB,KAAKwX,MAAO,CACrD,IAAI8P,EAAOF,EAAOvnB,MAElB,GAAIgmB,EAAQlC,cAAcpe,EAAG+hB,EAAK9nB,QAAS,CACzC+e,EAAI+I,EACJ,QAGJ,MAAOpiB,GACPmiB,EAAWhpB,EAAE6G,GACb,QACAmiB,EAAW3P,KAIf,GAAI6G,EAAG,CACL,IAAIgJ,EAAM1B,EAAQ/H,eAAezf,EAAE+jB,QAAS7D,EAAEjL,QAE9C,GAAIiU,EAAKznB,EAAEynB,QAAU,GAAIhP,GAAExG,EAAG8T,EAAQjL,YAAa,CACjD,IAAI4M,EAAOjJ,EAAEzI,SAEb0R,EAAKhoB,OAASuS,EAAEvS,OAAQgoB,EAAKpL,UAAY,KAAMtc,EAAE,IAAIoc,GAAEsL,SAEtDnpB,EAAEqoB,YAAcb,EAAQ7D,cAAc6D,EAAQtK,eAAegD,EAAE/e,QAAS,KAAM,CAC7Eif,UAAWpgB,EAAE+jB,QACb/O,MAAOkL,EAAElL,MACToK,OAAQpf,EAAEonB,SAAShI,OACnBrK,IAAKmL,EAAEnL,OACL7C,MAAK,SAAUrR,GACjBY,EAAE,IAAIoc,GAAE,CACN5I,OAAQiL,EAAEjL,OACV9T,OAAQuS,EAAEvS,OACV6T,MAAOnU,EAAEmU,MACTF,QAAS,MAAQjU,EAAEiU,QAAUoO,OAAOriB,EAAEiU,SAAW,KACjDC,MAAOlU,EAAEkU,IACToL,QAASngB,EAAEqnB,OACXhG,SAAUxgB,EAAEwgB,cAEbxgB,QAGL2mB,EAAQ5L,MAAQ,KAAMla,IAAM1B,EAAEonB,SAASpS,MAAQ,OAE9ChV,EAAEqoB,YAAcb,EAAQ/F,cAAcva,EAAE+O,QAAQ,OAAQ,YAAa,CACpE7U,SAAUpB,EAAE+jB,QACZ7L,aAAcxE,EAAEwE,aAChBkH,OAAQpf,EAAEonB,SAAShI,OACnBpK,MAAOtT,EACPL,MAAOZ,EACPye,OAAQnc,KACNmP,MAAK,WACPsV,EAAQxH,SAAShgB,EAAE+jB,QAAS/jB,EAAE4iB,OAAQ5iB,EAAEonB,SAAUpnB,EAAGA,EAAEqnB,WACtD,SAAU5lB,GACXzB,EAAE+jB,QAAU/jB,EAAE4iB,OAAS5iB,EAAEsnB,SAAW,KAAMtnB,EAAEsf,OAAO7d,OAKzDpB,KAAK0kB,aAAelkB,EAEpB,IAAIJ,EAAIT,EAAE4iB,OAAO3K,gBACbiI,EAAI7f,KAAKkd,cAAcvd,EAAE+jB,SACzBliB,EAAI7B,EAAE4iB,OAAOhD,aAEjB/d,EAAIA,EAAE0d,QAAQrN,MAAK,SAAUzQ,GAC3B,IAAIZ,EAAIb,EAAE4iB,OAEV,GAAI/hB,EAAE+e,aAAc,CAClB/e,EAAEgX,qBAAuBhX,EAAE+e,aAAa4G,SAAU3lB,EAAE+e,aAAe,KAAM/e,EAAEuX,iBAAkB,QAAE,4BAA6B3W,KAAM,QAAE,2BAA4BA,KAAM,QAAE,kBAAmBA,GAAIZ,EAAEsX,yBAA0B,QAAE,mCAAoC1W,GAAIZ,EAAEiX,eAAiBrW,EAAEqW,eAAgBjX,EAAEqX,aAAezW,EAAEyW,aAE7T,IAAIkR,EAAOvoB,EAAEoX,gBAAkBxW,EAAEwW,gBAEjCmR,GAAQ5B,EAAQxM,SAASrR,KAAKyf,GAGhClJ,GAAKrf,EAAEoX,gBAAkBtW,IAAM+R,OAC9B,WACD1T,EAAE4iB,OAAOhD,aAAe,KACxB,IAAIne,EAAI,IAAI,IAAE,gDAAiD,6DAC/DZ,EAAEY,MACCye,GAAKzf,EAAIkB,IAAM3B,EAAE4iB,OAAO/C,SAAW7f,EAAE4iB,OAAO/C,SAASC,QAAQ5N,MAAK,SAAUzQ,GAC/E,IACIiS,EAAGxM,EAAGvF,EAAGD,EADTb,EAAI,GAER,OAAOY,IAAMiS,EAAIjS,EAAE4nB,MAAQ5nB,EAAE4nB,KAAKplB,SAAUpD,EAAEoD,SAAWyP,EAAG7S,EAAEgmB,OAASplB,EAAEolB,OAAQ3f,EAAIzF,EAAEslB,cAAeplB,EAAIF,EAAEqW,eAAgB,gBAAkBrW,EAAEqlB,aAAeplB,EAAID,EAAE6a,gBAAiBtc,EAAE4iB,OAAOvK,cAAgB3E,EAAGA,GAAK8T,EAAQlM,qBAAuBkM,EAAQ7D,cAAc3jB,EAAE4iB,OAAQ,KAAM,CAC1R7N,IAAKlU,EAAEgmB,SACN9E,OAAM,WACP,OAAO,QACN7P,MAAK,SAAUlS,GAChB,OAAOa,EAAEyoB,YAActpB,GAAKA,EAAEgV,MAAOnU,EAAE0oB,gBAAkBvpB,GAAKA,EAAE8U,QAASjU,MACrE6S,GAAKxM,GAAKsiB,WAAW7nB,IAAM,MAAQ6lB,EAAQM,eAAe9nB,EAAE+jB,SAAWyD,EAAQiC,mBAAmB,CACtG/T,UAAW1V,EAAE4iB,OAAOzhB,OACpBmb,cAAe5a,EACfwW,aAAclY,EAAE4iB,OAAO/C,SAAS3H,eAC/B6J,OAAM,WACP,OAAO,QACN7P,MAAK,WACN,OAAOrR,KACJA,KACJkhB,OAAM,WACP,OAAO,QACN7P,MAAK,SAAUzQ,GAChBzB,EAAE4iB,OAAO/C,SAAW,KAAMpe,EAAIiS,EAAEjS,EAAEwC,SAAUxC,EAAEolB,OAAQplB,EAAE6nB,YAAa7nB,EAAE8nB,iBAAmB7V,OACvFA,MAEN,CACDnS,IAAK,qBACLC,MAAO,SAA4BxB,GACjC,IAEIyB,EACAZ,EAHA6oB,EAAUrpB,KAIV6G,EAAIlH,EAAE0V,UACN/T,EAAI3B,EAAEsc,cACN5a,EAAI1B,EAAEkY,aACNzX,GAAKJ,KAAK4a,kBAAoB5a,KAAKyc,0BAA4Bzc,KAAK0c,0BAExE,GAAItc,EAAG,CAGL,IAAIkpB,GAFJ9oB,EAAI6F,OAAO+U,SAASE,MAEPnR,QAAQ,KAErBmf,GAAQ,IAAM9oB,EAAIA,EAAEmE,MAAM,EAAG2kB,IAAQA,EAAO9oB,EAAE4kB,OAAO,mBAAoB5kB,EAAI8oB,GAAQ,EAAI9oB,EAAEmE,MAAM,EAAG2kB,GAAQ,KAG9G,OAAOlpB,GAAKI,GAAKR,KAAK0c,2BAA4B,EAAItb,GAAI,aAAEZ,EAAI,gBAAiB,CAC/E6f,MAAO,CACLrH,EAAG,UAEJnH,MAAK,WACNwX,EAAQzO,iBAAmB,IAAI,GAAE,CAC/BpG,MAAO,eACPwC,iBAAkBxW,EAAI,kCAEpBY,EAAImlB,QAAQjH,UAAWle,EAAEyQ,MAAK,WAClC,GAAIwX,EAAQzO,iBAAkB,OAAO/T,EAAIA,EAAE+O,QAAQ,UAAW,WAAW,aAAE/O,EAAI,2CAA4C,CACzHwZ,MAAO,CACLkJ,UAAWloB,EACXkgB,UAAW8H,EAAQzO,iBAAiBpG,MACpCgV,cAAc,QAAEH,EAAQzO,iBAAiB5D,kBACzCgC,EAAG,UAEJnH,MAAK,SAAUlS,GAChB,GAAIA,EAAEohB,KAAKS,MAAO,CAChB,IAAIiI,EAAMJ,EAAQzO,iBAAiB8O,QAEnC/pB,EAAEohB,KAAK4I,QAAUroB,EAAImoB,EAAIpU,UAAY,WAAa1V,EAAEohB,KAAK4I,OAAOza,cAAgB,IAAM5N,EAAImoB,EAAIpU,UAAYxO,EAAG4iB,EAAI1S,MAAQ1Q,SAAWA,OAAOujB,QAAS,QAAE/iB,EAAGwiB,EAAQnO,aAAemO,EAAQtN,WAAW/T,MAAK,SAAUrI,GAChN,OAAOA,EAAEqc,MAAMna,KAAKgF,IAAMlH,EAAEqc,MAAMna,KAAKwnB,EAAQnO,gBAC5CmO,EAAQ9O,WAAWjR,KAAKmgB,YAKpC,CACDvoB,IAAK,iBACLC,MAAO,SAAwBxB,EAAGyB,EAAGZ,GACnC,IAAIqpB,EAAU7pB,KAEVqT,EAAI,CACNgC,UAAW7U,EAAE6U,YAEd7U,EAAEuW,OAASvW,EAAE0W,iBAAmB7Q,OAAO+U,SAAS8I,OAAS7Q,EAAE6Q,KAAO7d,OAAO+U,SAAS8I,MACnF,IAAI5iB,EAAI,CACNigB,UAAW/gB,EAAEgU,MACbsV,cAAe,QACfzd,MAAOkJ,KAAKC,UAAUnC,GACtBsD,WAAYnW,EAAEmW,WACdG,OAAQtW,EAAEsW,OACV0S,aAAchpB,EAAEuW,OAAQ,QAAEvW,EAAEwW,kBAAoB3Q,OAAO+U,SAASE,KAAK1F,QAAQ,OAAQ,KAEvFpV,EAAEoW,aAAetV,EAAEyoB,aAAc,GAAKvpB,EAAEqW,aAAerW,EAAEoU,SAAWtT,EAAE0oB,qBAAuBxpB,EAAEoU,SAAUpU,EAAEuW,OAAS/W,KAAKqhB,gBAAgB1hB,KAAO2B,EAAE2oB,sBAAuB,GACzK,IAAI7pB,EAAII,EAAE6U,UAAUO,QAAQ,UAAW,UAAY,4BAC/ClT,EAAItC,EAAI,KAAM,QAAEkB,GAEpB,GAAId,EAAEuW,MAAO,CACX,IAAImT,EAAO7jB,OAAOqM,KAAKhQ,EAAG,iBAAkBlC,EAAEyW,qBAE9C,GAAIiT,EAAMA,EAAKlb,QAAShP,KAAK4hB,UAAU4B,UAAY0G,EAAMlqB,KAAK8hB,iBAAmBqI,aAAY,WAC3F,GAAID,EAAKzG,OAAQ,CACf5B,cAAcgI,EAAQ/H,kBAAmB+H,EAAQ9H,mBAAmBC,SACpE,IAAIoI,EAAOP,EAAQjI,UAEnB,GAAIwI,EAAM,CACR,IAAIC,EAAO,IAAI,IAAE,gCAAiC,WAElDD,EAAKnL,OAAOoL,OAGf,KAAMrqB,KAAK+hB,oBAAqB,QAAE1b,OAAQ,oBAAoB,SAAU1G,GACzEkqB,EAAQS,qBAAqB3qB,EAAE4qB,eACzB,CACN,IAAIC,EAAO,IAAI,IAAE,iCAAkC,WAEnDxqB,KAAK4hB,UAAU3C,OAAOuL,SAEnBxqB,KAAKwb,4BAA6B,EAAIxb,KAAKijB,mBAAqBjjB,KAAKijB,mBAAmB,CAC7FwH,gBAAiBnpB,EACjBopB,aAActqB,EACdymB,YAAalnB,EACbmnB,WAAY1lB,EACZO,UAAWnB,IACR6F,OAAO+U,SAASE,KAAO5Y,MAIzBwX,EArsCY,CAssCnB,KAEFA,GAAE1a,UAAUkX,cAAgB,oCAE5B,IAAI8G,GAAiB,SAAUmN,IAC7B,OAAUnN,EAAGmN,GAEb,IAAIC,EAAU,GAAapN,GAE3B,SAASA,EAAE7d,GACT,IAAIkrB,EAKJ,OAHA,OAAgB7qB,KAAMwd,IAEtBqN,EAAUD,EAAQlrB,KAAKM,KAAML,IAAY0W,WAAa,KAAMwU,EAAQC,mBAAqB,EAAGnrB,GAAKA,EAAE0W,aAAewU,EAAQxU,WAAa1W,EAAE0W,YAClIwU,EAwHT,OArHA,OAAarN,EAAG,CAAC,CACftc,IAAK,aACLC,MAAO,WACLnB,KAAK0d,UAAY1d,KAAK0d,WAAa,GAAI,MAAQ1d,KAAKqnB,eAAiBrnB,KAAKqnB,aAAetS,KAAKC,SAE/F,CACD9T,IAAK,eACLC,MAAO,WACL,IAUI0e,EAVAkL,EAAU/qB,KAEVL,EAAI,oBAAiBK,KAAKc,QAC1BM,EAAIzB,GAAKA,EAAEiY,gBACXvE,IAAMjS,GAAK,WAAapB,KAAKyd,MAC7B5W,EAAIwM,GAAKwG,GAAEla,EAAG,iBACd2B,EAAI3B,EAAEqY,YACN3W,EAAIC,GAAK,0BACTlB,EAAIsZ,GAAE1Z,KAAKc,QACX4B,EAAItC,GAAKA,EAAEJ,KAAK4U,QAEhB5S,EAAIhC,KAAK0d,WAAa1d,KAAK0d,UAAU,GACrClc,EAAI6R,GAAK,oBAAiBjS,GAC1BK,EAAI,CACNmC,SAAU5D,KAAK4U,OACf/Q,SAAUnB,GAEZ,IAAIpB,GAAMD,EAAV,CACAgS,IAAM7R,GAAK,uBAAmB,SAAU7B,GACtC,OAAO,mBAAgByB,EAAGzB,EAAEmB,UAAYU,EAAI7B,KAAM6B,KAEpD,IAAInB,EAAImB,GAAK,oBAAiBA,EAAEV,OAAQd,KAAK4U,QAE7C,IAAKvB,GAAKhT,EAAG,CACX,IAAKwG,EAAG,CACN,GAAIwM,EAAGwM,EAAI,CACTE,UAAW/d,EACX2S,MAAOtU,GAAKA,EAAEsU,MACdD,IAAKrU,GAAKA,EAAEqU,UACP,GAAIrT,EAAGI,EAAI,KAAMoe,EAAI,CAC1BnL,IAAK1U,KAAK0U,SACL,CAEH,IAAIsW,EADN,IAAKtoB,EAGH,OAAOV,IAAMA,EAAI,kBAAeA,GAAIhC,KAAKirB,UAAY,GAAGD,EAAO,cAAWhpB,EAAGrC,EAAG,KAAM,KAAMK,KAAK8f,QAAS9f,OAAY6R,MAAK,WACzHkZ,EAAQE,UAAY,EAAGF,EAAQnN,yBAC9B8D,OAAM,WACPqJ,EAAQE,UAAY,MACjBD,EAGPhrB,KAAK8f,UAAYD,EAAI,CACnBC,SAAS,IAGb,OAAO,mBAAgBzM,EAAI7R,EAAI7B,EAAG0T,EAAI,KAAO5R,EAAGoe,GAAGhO,MAAK,SAAUlS,GAChEorB,EAAQpW,MAAQhV,EAAEgV,MAAOoW,EAAQtW,QAAU,MAAQ9U,EAAE8U,QAAUoO,OAAOljB,EAAE8U,SAAW,KAAMsW,EAAQ1D,aAAetS,KAAKC,MAAO+V,EAAQ/J,SAAWrhB,EAAEqhB,SAAU+J,EAAQpN,kBAAmBoN,EAAQnN,yBAC7L8D,OAAM,eAGXrhB,EAAE6qB,mBAGL,CACDhqB,IAAK,sBACLC,MAAO,WACL,IAAIgqB,EAAUnrB,KAEd,WAAaA,KAAKyd,OAAS,0BAAsB,SAAU9d,GACzD,IAAIyB,EAAI,oBAAiBzB,EAAEmB,QACvBuS,EAAIjS,GAAKA,EAAEwW,gBACfjY,IAAMwrB,GAAWxrB,EAAEiV,SAAWuW,EAAQvW,QAAUvB,GAAK,WAAa1T,EAAE8d,QAAU,4BAAyB0N,EAAQrqB,OAAQuS,IAAM,mBAAgBA,EAAG8X,EAAQrqB,WAAa+Y,GAAEzY,EAAG,kBAAiBzB,EAAEgV,MAAQwW,EAAQxW,MAAOhV,EAAE8U,QAAU0W,EAAQ1W,QAAS9U,EAAE0nB,aAAe8D,EAAQ9D,aAAc1nB,EAAEqhB,SAAWmK,EAAQnK,SAAUrhB,EAAEge,mBAAqBhe,EAAEurB,qBAGnV,CACDhqB,IAAK,kBACLC,MAAO,SAAyBxB,GAC9BoS,aAAa/R,KAAKorB,eAClB,IAAIhqB,EAAIpB,KAAKc,QAAU,oBAAiBd,KAAKc,QACzCuS,EAAIjS,GAAKA,EAAEwW,gBACX/Q,EAAIwM,GAAK,oBAAiBA,IAC9B,IAAO1T,GAAK0T,GAAK,WAAarT,KAAKyd,SAAW5W,IAAMA,EAAEmR,aAAe,4BAA2B,MAAQhY,KAAKyU,SAAW,MAAQzU,KAAKghB,UAAYhhB,KAAKqrB,qBAAsBrrB,KAAK0D,KAAK,kBAEvL,CACDxC,IAAK,UACLC,MAAO,WACLnB,KAAK4U,OAAS5U,KAAKc,OAASd,KAAK2U,MAAQ3U,KAAKyU,QAAUzU,KAAKghB,SAAWhhB,KAAK0d,UAAY1d,KAAKqnB,aAAe,KAAMrnB,KAAKqW,aAAerW,KAAKqW,WAAWgJ,UAAWrf,KAAKqW,WAAa,MACpL,IAAI1W,EAAI,yBAAsBK,MAC9BL,GAAK,GAAK,wBAAqBA,EAAG,GAAIK,KAAK2d,kBAAmB3d,KAAK0D,KAAK,aAEzE,CACDxC,IAAK,SACLC,MAAO,WACL,IAAIxB,GAAI,QAAE,CACRiV,OAAQ5U,KAAK4U,OACb9T,OAAQd,KAAKc,OACb6T,MAAO3U,KAAK2U,MACZF,QAASzU,KAAKyU,QACduM,SAAUhhB,KAAKghB,SACftM,IAAK1U,KAAK0U,IACVoL,QAAS9f,KAAK8f,QACduH,aAAcrnB,KAAKqnB,aACnB5J,MAAOzd,KAAKyd,QAEVrc,EAAIpB,KAAK0d,UACb,OAAOtc,GAAKA,EAAE0F,OAAS,IAAMnH,EAAE+d,UAAYtc,EAAEuD,SAAUhF,IAExD,CACDuB,IAAK,qBACLC,MAAO,WACL4Q,aAAa/R,KAAKorB,eAClB,IAAIzrB,EAAI,IAAMK,KAAK8qB,mBACf1pB,EAAIkqB,KAAKC,IAAI,EAAG,IAAM,EACtB/qB,GAAKR,KAAKghB,SAAWhhB,KAAKqnB,aAAe,IAAMrnB,KAAKghB,SAAWhhB,KAAKyU,SAAWM,KAAKC,MACxFxU,EAAI,EAAIA,EAAI,EAAIA,EAAIY,IAAMZ,EAAIY,GAAIpB,KAAKorB,cAAgB3gB,WAAWzK,KAAKkrB,aAAa5oB,KAAKtC,MAAOQ,EAAIb,EAAIa,EAAIb,EAAIa,OAI7Ggd,EAnIY,CAoInB,qBC34CF,SAAS,GAAave,GAAW,IAAIC,EAErC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQC,UAAUC,QAAQC,KAAKP,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOI,GAAK,OAAO,GAF9P,GAA6B,OAAO,WAAkC,IAAsCE,EAAlCC,GAAQ,OAAgBb,GAAkB,GAAIC,EAA2B,CAAE,IAAIa,GAAY,OAAgBC,MAAMC,YAAaJ,EAASV,QAAQC,UAAUU,EAAOI,UAAWH,QAAqBF,EAASC,EAAMK,MAAMH,KAAME,WAAc,OAAO,OAA2BF,KAAMH,KD64C5Z,OAAE,EAAC,WAAM2d,GAAEhe,UAAW,oBAAgB,IAAS,OAAE,EAAC,WAAMge,GAAEhe,UAAW,eAAW,IAAS,OAAE,EAAC,WAAMge,GAAEhe,UAAW,eAAW,IAAS,OAAE,EAAC,WAAMge,GAAEhe,UAAW,kBAAc,IAAS,OAAE,EAAC,WAAMge,GAAEhe,UAAW,iBAAa,IAAS,OAAE,EAAC,WAAMge,GAAEhe,UAAW,aAAS,IAAS,OAAE,EAAC,WAAMge,GAAEhe,UAAW,cAAU,IAAS,OAAE,EAAC,WAAMge,GAAEhe,UAAW,WAAO,IAAS,OAAE,EAAC,WAAMge,GAAEhe,UAAW,aAAS,IAAS,OAAE,EAAC,WAAMge,GAAEhe,UAAW,0BAAsB,IAAS,OAAE,EAAC,WAAMge,GAAEhe,UAAW,cAAU,IAAS,OAAE,EAAC,WAAMge,GAAEhe,UAAW,gBAAY,GAASge,IAAI,OAAE,EAAC,OAAE,6BAA8BA,ICl4C3iB,IAAInK,GAAiB,SAAUsC,IAC7B,OAAUtC,EAAGsC,GAEb,IAAIpV,EAAS,GAAa8S,GAE1B,SAASA,IAGP,OAFA,OAAgBrT,KAAMqT,GAEf9S,EAAOJ,MAAMH,KAAME,WAG5B,OAAO,OAAamT,GAXD,CAYnB,IAEFA,GAAE7T,UAAUkX,cAAgB,gCAC5B,IAAI,GAAI,IAAIrD,IACZ,QAAE","sources":["webpack://energy-and-water-dashboard/./node_modules/@arcgis/core/identity/IdentityForm.js","webpack://energy-and-water-dashboard/./node_modules/tabbable/dist/index.esm.js","webpack://energy-and-water-dashboard/./node_modules/focus-trap/dist/focus-trap.esm.js","webpack://energy-and-water-dashboard/./node_modules/@arcgis/core/identity/IdentityModal.js","webpack://energy-and-water-dashboard/./node_modules/@arcgis/core/identity/OAuthCredential.js","webpack://energy-and-water-dashboard/./node_modules/@arcgis/core/identity/OAuthInfo.js","webpack://energy-and-water-dashboard/./node_modules/@arcgis/core/identity/ServerInfo.js","webpack://energy-and-water-dashboard/./node_modules/@arcgis/core/identity/IdentityManagerBase.js","webpack://energy-and-water-dashboard/./node_modules/@arcgis/core/identity/IdentityManager.js"],"sourcesContent":["import _classCallCheck from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport { _ as s } from \"../chunks/tslib.es6.js\";\nimport { property as e } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/arrayUtils.js\";\nimport \"../core/has.js\";\nimport \"../core/accessorSupport/ensureType.js\";\nimport { subclass as t } from \"../core/accessorSupport/decorators/subclass.js\";\nimport { substitute as r } from \"../intl/substitute.js\";\nimport o from \"../widgets/Widget.js\";\nimport { storeNode as i } from \"../widgets/support/widgetUtils.js\";\nimport { messageBundle as n } from \"../widgets/support/decorators/messageBundle.js\";\nimport \"../core/Logger.js\";\nimport { tsx as u } from \"../widgets/support/jsxFactory.js\";\nvar a = {\n  base: \"esri-identity-form\",\n  group: \"esri-identity-form__group\",\n  label: \"esri-identity-form__label\",\n  footer: \"esri-identity-form__footer\",\n  esriInput: \"esri-input\",\n  esriButton: \"esri-button\",\n  esriButtonSecondary: \"esri-button--secondary\"\n},\n    l = \"ArcGIS Online\";\n\nvar p = /*#__PURE__*/function (_o) {\n  _inherits(p, _o);\n\n  var _super = _createSuper(p);\n\n  function p(s, e) {\n    var _this;\n\n    _classCallCheck(this, p);\n\n    _this = _super.call(this, s, e), _this._usernameInputNode = null, _this._passwordInputNode = null, _this.messages = null, _this.signingIn = !1, _this.server = null, _this.resource = null, _this.error = null, _this.oAuthPrompt = !1;\n    return _this;\n  }\n\n  _createClass(p, [{\n    key: \"render\",\n    value: function render() {\n      var s = this.error,\n          e = this.server,\n          t = this.resource,\n          o = this.signingIn,\n          n = this.oAuthPrompt,\n          _p = this.messages,\n          d = u(\"div\", {\n        class: a.group\n      }, r(n ? _p.oAuthInfo : _p.info, {\n        server: /\\.arcgis\\.com/i.test(e) ? l : e,\n        resource: \"(\".concat(t || _p.lblItem, \")\")\n      })),\n          c = n ? null : u(\"div\", {\n        class: a.group,\n        key: \"username\"\n      }, u(\"label\", {\n        class: a.label\n      }, _p.lblUser, u(\"input\", {\n        value: \"\",\n        required: !0,\n        autocomplete: \"off\",\n        spellcheck: !1,\n        type: \"text\",\n        bind: this,\n        afterCreate: i,\n        \"data-node-ref\": \"_usernameInputNode\",\n        class: a.esriInput\n      }))),\n          m = n ? null : u(\"div\", {\n        class: a.group,\n        key: \"password\"\n      }, u(\"label\", {\n        class: a.label\n      }, _p.lblPwd, u(\"input\", {\n        value: \"\",\n        required: !0,\n        type: \"password\",\n        bind: this,\n        afterCreate: i,\n        \"data-node-ref\": \"_passwordInputNode\",\n        class: a.esriInput\n      }))),\n          h = u(\"div\", {\n        class: this.classes(a.group, a.footer)\n      }, u(\"input\", {\n        type: \"submit\",\n        disabled: !!o,\n        value: o ? _p.lblSigning : _p.lblOk,\n        class: a.esriButton\n      }), u(\"input\", {\n        type: \"button\",\n        value: _p.lblCancel,\n        bind: this,\n        onclick: this._cancel,\n        class: this.classes(a.esriButton, a.esriButtonSecondary)\n      })),\n          g = s ? u(\"div\", null, s.details && s.details.httpStatus ? _p.invalidUser : _p.noAuthService) : null;\n      return u(\"form\", {\n        class: a.base,\n        bind: this,\n        onsubmit: this._submit\n      }, d, g, c, m, h);\n    }\n  }, {\n    key: \"_cancel\",\n    value: function _cancel() {\n      this._set(\"signingIn\", !1), this._usernameInputNode && (this._usernameInputNode.value = \"\"), this._passwordInputNode && (this._passwordInputNode.value = \"\"), this.emit(\"cancel\");\n    }\n  }, {\n    key: \"_submit\",\n    value: function _submit(s) {\n      s.preventDefault(), this._set(\"signingIn\", !0);\n      var e = this.oAuthPrompt ? {} : {\n        username: this._usernameInputNode && this._usernameInputNode.value,\n        password: this._passwordInputNode && this._passwordInputNode.value\n      };\n      this.emit(\"submit\", e);\n    }\n  }]);\n\n  return p;\n}(o);\n\ns([e(), n(\"esri/identity/t9n/identity\")], p.prototype, \"messages\", void 0), s([e()], p.prototype, \"signingIn\", void 0), s([e()], p.prototype, \"server\", void 0), s([e()], p.prototype, \"resource\", void 0), s([e()], p.prototype, \"error\", void 0), s([e()], p.prototype, \"oAuthPrompt\", void 0), p = s([t(\"esri.identity.IdentityForm\")], p);\nvar d = p;\nexport { d as default };","/*!\n* tabbable 5.2.1\n* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE\n*/\nvar candidateSelectors = ['input', 'select', 'textarea', 'a[href]', 'button', '[tabindex]', 'audio[controls]', 'video[controls]', '[contenteditable]:not([contenteditable=\"false\"])', 'details>summary:first-of-type', 'details'];\nvar candidateSelector = /* #__PURE__ */candidateSelectors.join(',');\nvar matches = typeof Element === 'undefined' ? function () {} : Element.prototype.matches || Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n\nvar getCandidates = function getCandidates(el, includeContainer, filter) {\n  var candidates = Array.prototype.slice.apply(el.querySelectorAll(candidateSelector));\n\n  if (includeContainer && matches.call(el, candidateSelector)) {\n    candidates.unshift(el);\n  }\n\n  candidates = candidates.filter(filter);\n  return candidates;\n};\n\nvar isContentEditable = function isContentEditable(node) {\n  return node.contentEditable === 'true';\n};\n\nvar getTabindex = function getTabindex(node) {\n  var tabindexAttr = parseInt(node.getAttribute('tabindex'), 10);\n\n  if (!isNaN(tabindexAttr)) {\n    return tabindexAttr;\n  } // Browsers do not return `tabIndex` correctly for contentEditable nodes;\n  // so if they don't have a tabindex attribute specifically set, assume it's 0.\n\n\n  if (isContentEditable(node)) {\n    return 0;\n  } // in Chrome, <details/>, <audio controls/> and <video controls/> elements get a default\n  //  `tabIndex` of -1 when the 'tabindex' attribute isn't specified in the DOM,\n  //  yet they are still part of the regular tab order; in FF, they get a default\n  //  `tabIndex` of 0; since Chrome still puts those elements in the regular tab\n  //  order, consider their tab index to be 0.\n\n\n  if ((node.nodeName === 'AUDIO' || node.nodeName === 'VIDEO' || node.nodeName === 'DETAILS') && node.getAttribute('tabindex') === null) {\n    return 0;\n  }\n\n  return node.tabIndex;\n};\n\nvar sortOrderedTabbables = function sortOrderedTabbables(a, b) {\n  return a.tabIndex === b.tabIndex ? a.documentOrder - b.documentOrder : a.tabIndex - b.tabIndex;\n};\n\nvar isInput = function isInput(node) {\n  return node.tagName === 'INPUT';\n};\n\nvar isHiddenInput = function isHiddenInput(node) {\n  return isInput(node) && node.type === 'hidden';\n};\n\nvar isDetailsWithSummary = function isDetailsWithSummary(node) {\n  var r = node.tagName === 'DETAILS' && Array.prototype.slice.apply(node.children).some(function (child) {\n    return child.tagName === 'SUMMARY';\n  });\n  return r;\n};\n\nvar getCheckedRadio = function getCheckedRadio(nodes, form) {\n  for (var i = 0; i < nodes.length; i++) {\n    if (nodes[i].checked && nodes[i].form === form) {\n      return nodes[i];\n    }\n  }\n};\n\nvar isTabbableRadio = function isTabbableRadio(node) {\n  if (!node.name) {\n    return true;\n  }\n\n  var radioScope = node.form || node.ownerDocument;\n\n  var queryRadios = function queryRadios(name) {\n    return radioScope.querySelectorAll('input[type=\"radio\"][name=\"' + name + '\"]');\n  };\n\n  var radioSet;\n\n  if (typeof window !== 'undefined' && typeof window.CSS !== 'undefined' && typeof window.CSS.escape === 'function') {\n    radioSet = queryRadios(window.CSS.escape(node.name));\n  } else {\n    try {\n      radioSet = queryRadios(node.name);\n    } catch (err) {\n      // eslint-disable-next-line no-console\n      console.error('Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s', err.message);\n      return false;\n    }\n  }\n\n  var checked = getCheckedRadio(radioSet, node.form);\n  return !checked || checked === node;\n};\n\nvar isRadio = function isRadio(node) {\n  return isInput(node) && node.type === 'radio';\n};\n\nvar isNonTabbableRadio = function isNonTabbableRadio(node) {\n  return isRadio(node) && !isTabbableRadio(node);\n};\n\nvar isHidden = function isHidden(node, displayCheck) {\n  if (getComputedStyle(node).visibility === 'hidden') {\n    return true;\n  }\n\n  var isDirectSummary = matches.call(node, 'details>summary:first-of-type');\n  var nodeUnderDetails = isDirectSummary ? node.parentElement : node;\n\n  if (matches.call(nodeUnderDetails, 'details:not([open]) *')) {\n    return true;\n  }\n\n  if (!displayCheck || displayCheck === 'full') {\n    while (node) {\n      if (getComputedStyle(node).display === 'none') {\n        return true;\n      }\n\n      node = node.parentElement;\n    }\n  } else if (displayCheck === 'non-zero-area') {\n    var _node$getBoundingClie = node.getBoundingClientRect(),\n        width = _node$getBoundingClie.width,\n        height = _node$getBoundingClie.height;\n\n    return width === 0 && height === 0;\n  }\n\n  return false;\n}; // form fields (nested) inside a disabled fieldset are not focusable/tabbable\n//  unless they are in the _first_ <legend> element of the top-most disabled\n//  fieldset\n\n\nvar isDisabledFromFieldset = function isDisabledFromFieldset(node) {\n  if (isInput(node) || node.tagName === 'SELECT' || node.tagName === 'TEXTAREA' || node.tagName === 'BUTTON') {\n    var parentNode = node.parentElement;\n\n    while (parentNode) {\n      if (parentNode.tagName === 'FIELDSET' && parentNode.disabled) {\n        // look for the first <legend> as an immediate child of the disabled\n        //  <fieldset>: if the node is in that legend, it'll be enabled even\n        //  though the fieldset is disabled; otherwise, the node is in a\n        //  secondary/subsequent legend, or somewhere else within the fieldset\n        //  (however deep nested) and it'll be disabled\n        for (var i = 0; i < parentNode.children.length; i++) {\n          var child = parentNode.children.item(i);\n\n          if (child.tagName === 'LEGEND') {\n            if (child.contains(node)) {\n              return false;\n            } // the node isn't in the first legend (in doc order), so no matter\n            //  where it is now, it'll be disabled\n\n\n            return true;\n          }\n        } // the node isn't in a legend, so no matter where it is now, it'll be disabled\n\n\n        return true;\n      }\n\n      parentNode = parentNode.parentElement;\n    }\n  } // else, node's tabbable/focusable state should not be affected by a fieldset's\n  //  enabled/disabled state\n\n\n  return false;\n};\n\nvar isNodeMatchingSelectorFocusable = function isNodeMatchingSelectorFocusable(options, node) {\n  if (node.disabled || isHiddenInput(node) || isHidden(node, options.displayCheck) || // For a details element with a summary, the summary element gets the focus\n  isDetailsWithSummary(node) || isDisabledFromFieldset(node)) {\n    return false;\n  }\n\n  return true;\n};\n\nvar isNodeMatchingSelectorTabbable = function isNodeMatchingSelectorTabbable(options, node) {\n  if (!isNodeMatchingSelectorFocusable(options, node) || isNonTabbableRadio(node) || getTabindex(node) < 0) {\n    return false;\n  }\n\n  return true;\n};\n\nvar tabbable = function tabbable(el, options) {\n  options = options || {};\n  var regularTabbables = [];\n  var orderedTabbables = [];\n  var candidates = getCandidates(el, options.includeContainer, isNodeMatchingSelectorTabbable.bind(null, options));\n  candidates.forEach(function (candidate, i) {\n    var candidateTabindex = getTabindex(candidate);\n\n    if (candidateTabindex === 0) {\n      regularTabbables.push(candidate);\n    } else {\n      orderedTabbables.push({\n        documentOrder: i,\n        tabIndex: candidateTabindex,\n        node: candidate\n      });\n    }\n  });\n  var tabbableNodes = orderedTabbables.sort(sortOrderedTabbables).map(function (a) {\n    return a.node;\n  }).concat(regularTabbables);\n  return tabbableNodes;\n};\n\nvar focusable = function focusable(el, options) {\n  options = options || {};\n  var candidates = getCandidates(el, options.includeContainer, isNodeMatchingSelectorFocusable.bind(null, options));\n  return candidates;\n};\n\nvar isTabbable = function isTabbable(node, options) {\n  options = options || {};\n\n  if (!node) {\n    throw new Error('No node provided');\n  }\n\n  if (matches.call(node, candidateSelector) === false) {\n    return false;\n  }\n\n  return isNodeMatchingSelectorTabbable(options, node);\n};\n\nvar focusableCandidateSelector = /* #__PURE__ */candidateSelectors.concat('iframe').join(',');\n\nvar isFocusable = function isFocusable(node, options) {\n  options = options || {};\n\n  if (!node) {\n    throw new Error('No node provided');\n  }\n\n  if (matches.call(node, focusableCandidateSelector) === false) {\n    return false;\n  }\n\n  return isNodeMatchingSelectorFocusable(options, node);\n};\n\nexport { focusable, isFocusable, isTabbable, tabbable };","/*!\n* focus-trap 6.7.3\n* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE\n*/\nimport { tabbable, focusable, isTabbable, isFocusable } from 'tabbable';\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar activeFocusTraps = function () {\n  var trapQueue = [];\n  return {\n    activateTrap: function activateTrap(trap) {\n      if (trapQueue.length > 0) {\n        var activeTrap = trapQueue[trapQueue.length - 1];\n\n        if (activeTrap !== trap) {\n          activeTrap.pause();\n        }\n      }\n\n      var trapIndex = trapQueue.indexOf(trap);\n\n      if (trapIndex === -1) {\n        trapQueue.push(trap);\n      } else {\n        // move this existing trap to the front of the queue\n        trapQueue.splice(trapIndex, 1);\n        trapQueue.push(trap);\n      }\n    },\n    deactivateTrap: function deactivateTrap(trap) {\n      var trapIndex = trapQueue.indexOf(trap);\n\n      if (trapIndex !== -1) {\n        trapQueue.splice(trapIndex, 1);\n      }\n\n      if (trapQueue.length > 0) {\n        trapQueue[trapQueue.length - 1].unpause();\n      }\n    }\n  };\n}();\n\nvar isSelectableInput = function isSelectableInput(node) {\n  return node.tagName && node.tagName.toLowerCase() === 'input' && typeof node.select === 'function';\n};\n\nvar isEscapeEvent = function isEscapeEvent(e) {\n  return e.key === 'Escape' || e.key === 'Esc' || e.keyCode === 27;\n};\n\nvar isTabEvent = function isTabEvent(e) {\n  return e.key === 'Tab' || e.keyCode === 9;\n};\n\nvar delay = function delay(fn) {\n  return setTimeout(fn, 0);\n}; // Array.find/findIndex() are not supported on IE; this replicates enough\n//  of Array.findIndex() for our needs\n\n\nvar findIndex = function findIndex(arr, fn) {\n  var idx = -1;\n  arr.every(function (value, i) {\n    if (fn(value)) {\n      idx = i;\n      return false; // break\n    }\n\n    return true; // next\n  });\n  return idx;\n};\n/**\n * Get an option's value when it could be a plain value, or a handler that provides\n *  the value.\n * @param {*} value Option's value to check.\n * @param {...*} [params] Any parameters to pass to the handler, if `value` is a function.\n * @returns {*} The `value`, or the handler's returned value.\n */\n\n\nvar valueOrHandler = function valueOrHandler(value) {\n  for (var _len = arguments.length, params = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    params[_key - 1] = arguments[_key];\n  }\n\n  return typeof value === 'function' ? value.apply(void 0, params) : value;\n};\n\nvar getActualTarget = function getActualTarget(event) {\n  // NOTE: If the trap is _inside_ a shadow DOM, event.target will always be the\n  //  shadow host. However, event.target.composedPath() will be an array of\n  //  nodes \"clicked\" from inner-most (the actual element inside the shadow) to\n  //  outer-most (the host HTML document). If we have access to composedPath(),\n  //  then use its first element; otherwise, fall back to event.target (and\n  //  this only works for an _open_ shadow DOM; otherwise,\n  //  composedPath()[0] === event.target always).\n  return event.target.shadowRoot && typeof event.composedPath === 'function' ? event.composedPath()[0] : event.target;\n};\n\nvar createFocusTrap = function createFocusTrap(elements, userOptions) {\n  // SSR: a live trap shouldn't be created in this type of environment so this\n  //  should be safe code to execute if the `document` option isn't specified\n  var doc = (userOptions === null || userOptions === void 0 ? void 0 : userOptions.document) || document;\n\n  var config = _objectSpread2({\n    returnFocusOnDeactivate: true,\n    escapeDeactivates: true,\n    delayInitialFocus: true\n  }, userOptions);\n\n  var state = {\n    // @type {Array<HTMLElement>}\n    containers: [],\n    // list of objects identifying the first and last tabbable nodes in all containers/groups in\n    //  the trap\n    // NOTE: it's possible that a group has no tabbable nodes if nodes get removed while the trap\n    //  is active, but the trap should never get to a state where there isn't at least one group\n    //  with at least one tabbable node in it (that would lead to an error condition that would\n    //  result in an error being thrown)\n    // @type {Array<{\n    //   container: HTMLElement,\n    //   firstTabbableNode: HTMLElement|null,\n    //   lastTabbableNode: HTMLElement|null,\n    //   nextTabbableNode: (node: HTMLElement, forward: boolean) => HTMLElement|undefined\n    // }>}\n    tabbableGroups: [],\n    nodeFocusedBeforeActivation: null,\n    mostRecentlyFocusedNode: null,\n    active: false,\n    paused: false,\n    // timer ID for when delayInitialFocus is true and initial focus in this trap\n    //  has been delayed during activation\n    delayInitialFocusTimer: undefined\n  };\n  var trap; // eslint-disable-line prefer-const -- some private functions reference it, and its methods reference private functions, so we must declare here and define later\n\n  var getOption = function getOption(configOverrideOptions, optionName, configOptionName) {\n    return configOverrideOptions && configOverrideOptions[optionName] !== undefined ? configOverrideOptions[optionName] : config[configOptionName || optionName];\n  };\n\n  var containersContain = function containersContain(element) {\n    return !!(element && state.containers.some(function (container) {\n      return container.contains(element);\n    }));\n  };\n  /**\n   * Gets the node for the given option, which is expected to be an option that\n   *  can be either a DOM node, a string that is a selector to get a node, `false`\n   *  (if a node is explicitly NOT given), or a function that returns any of these\n   *  values.\n   * @param {string} optionName\n   * @returns {undefined | false | HTMLElement | SVGElement} Returns\n   *  `undefined` if the option is not specified; `false` if the option\n   *  resolved to `false` (node explicitly not given); otherwise, the resolved\n   *  DOM node.\n   * @throws {Error} If the option is set, not `false`, and is not, or does not\n   *  resolve to a node.\n   */\n\n\n  var getNodeForOption = function getNodeForOption(optionName) {\n    var optionValue = config[optionName];\n\n    if (typeof optionValue === 'function') {\n      for (var _len2 = arguments.length, params = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        params[_key2 - 1] = arguments[_key2];\n      }\n\n      optionValue = optionValue.apply(void 0, params);\n    }\n\n    if (!optionValue) {\n      if (optionValue === undefined || optionValue === false) {\n        return optionValue;\n      } // else, empty string (invalid), null (invalid), 0 (invalid)\n\n\n      throw new Error(\"`\".concat(optionName, \"` was specified but was not a node, or did not return a node\"));\n    }\n\n    var node = optionValue; // could be HTMLElement, SVGElement, or non-empty string at this point\n\n    if (typeof optionValue === 'string') {\n      node = doc.querySelector(optionValue); // resolve to node, or null if fails\n\n      if (!node) {\n        throw new Error(\"`\".concat(optionName, \"` as selector refers to no known node\"));\n      }\n    }\n\n    return node;\n  };\n\n  var getInitialFocusNode = function getInitialFocusNode() {\n    var node = getNodeForOption('initialFocus'); // false explicitly indicates we want no initialFocus at all\n\n    if (node === false) {\n      return false;\n    }\n\n    if (node === undefined) {\n      // option not specified: use fallback options\n      if (containersContain(doc.activeElement)) {\n        node = doc.activeElement;\n      } else {\n        var firstTabbableGroup = state.tabbableGroups[0];\n        var firstTabbableNode = firstTabbableGroup && firstTabbableGroup.firstTabbableNode; // NOTE: `fallbackFocus` option function cannot return `false` (not supported)\n\n        node = firstTabbableNode || getNodeForOption('fallbackFocus');\n      }\n    }\n\n    if (!node) {\n      throw new Error('Your focus-trap needs to have at least one focusable element');\n    }\n\n    return node;\n  };\n\n  var updateTabbableNodes = function updateTabbableNodes() {\n    state.tabbableGroups = state.containers.map(function (container) {\n      var tabbableNodes = tabbable(container); // NOTE: if we have tabbable nodes, we must have focusable nodes; focusable nodes\n      //  are a superset of tabbable nodes\n\n      var focusableNodes = focusable(container);\n\n      if (tabbableNodes.length > 0) {\n        return {\n          container: container,\n          firstTabbableNode: tabbableNodes[0],\n          lastTabbableNode: tabbableNodes[tabbableNodes.length - 1],\n\n          /**\n           * Finds the __tabbable__ node that follows the given node in the specified direction,\n           *  in this container, if any.\n           * @param {HTMLElement} node\n           * @param {boolean} [forward] True if going in forward tab order; false if going\n           *  in reverse.\n           * @returns {HTMLElement|undefined} The next tabbable node, if any.\n           */\n          nextTabbableNode: function nextTabbableNode(node) {\n            var forward = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true; // NOTE: If tabindex is positive (in order to manipulate the tab order separate\n            //  from the DOM order), this __will not work__ because the list of focusableNodes,\n            //  while it contains tabbable nodes, does not sort its nodes in any order other\n            //  than DOM order, because it can't: Where would you place focusable (but not\n            //  tabbable) nodes in that order? They have no order, because they aren't tabbale...\n            // Support for positive tabindex is already broken and hard to manage (possibly\n            //  not supportable, TBD), so this isn't going to make things worse than they\n            //  already are, and at least makes things better for the majority of cases where\n            //  tabindex is either 0/unset or negative.\n            // FYI, positive tabindex issue: https://github.com/focus-trap/focus-trap/issues/375\n\n            var nodeIdx = focusableNodes.findIndex(function (n) {\n              return n === node;\n            });\n\n            if (forward) {\n              return focusableNodes.slice(nodeIdx + 1).find(function (n) {\n                return isTabbable(n);\n              });\n            }\n\n            return focusableNodes.slice(0, nodeIdx).reverse().find(function (n) {\n              return isTabbable(n);\n            });\n          }\n        };\n      }\n\n      return undefined;\n    }).filter(function (group) {\n      return !!group;\n    }); // remove groups with no tabbable nodes\n    // throw if no groups have tabbable nodes and we don't have a fallback focus node either\n\n    if (state.tabbableGroups.length <= 0 && !getNodeForOption('fallbackFocus') // returning false not supported for this option\n    ) {\n      throw new Error('Your focus-trap must have at least one container with at least one tabbable node in it at all times');\n    }\n  };\n\n  var tryFocus = function tryFocus(node) {\n    if (node === false) {\n      return;\n    }\n\n    if (node === doc.activeElement) {\n      return;\n    }\n\n    if (!node || !node.focus) {\n      tryFocus(getInitialFocusNode());\n      return;\n    }\n\n    node.focus({\n      preventScroll: !!config.preventScroll\n    });\n    state.mostRecentlyFocusedNode = node;\n\n    if (isSelectableInput(node)) {\n      node.select();\n    }\n  };\n\n  var getReturnFocusNode = function getReturnFocusNode(previousActiveElement) {\n    var node = getNodeForOption('setReturnFocus', previousActiveElement);\n    return node ? node : node === false ? false : previousActiveElement;\n  }; // This needs to be done on mousedown and touchstart instead of click\n  // so that it precedes the focus event.\n\n\n  var checkPointerDown = function checkPointerDown(e) {\n    var target = getActualTarget(e);\n\n    if (containersContain(target)) {\n      // allow the click since it ocurred inside the trap\n      return;\n    }\n\n    if (valueOrHandler(config.clickOutsideDeactivates, e)) {\n      // immediately deactivate the trap\n      trap.deactivate({\n        // if, on deactivation, we should return focus to the node originally-focused\n        //  when the trap was activated (or the configured `setReturnFocus` node),\n        //  then assume it's also OK to return focus to the outside node that was\n        //  just clicked, causing deactivation, as long as that node is focusable;\n        //  if it isn't focusable, then return focus to the original node focused\n        //  on activation (or the configured `setReturnFocus` node)\n        // NOTE: by setting `returnFocus: false`, deactivate() will do nothing,\n        //  which will result in the outside click setting focus to the node\n        //  that was clicked, whether it's focusable or not; by setting\n        //  `returnFocus: true`, we'll attempt to re-focus the node originally-focused\n        //  on activation (or the configured `setReturnFocus` node)\n        returnFocus: config.returnFocusOnDeactivate && !isFocusable(target)\n      });\n      return;\n    } // This is needed for mobile devices.\n    // (If we'll only let `click` events through,\n    // then on mobile they will be blocked anyways if `touchstart` is blocked.)\n\n\n    if (valueOrHandler(config.allowOutsideClick, e)) {\n      // allow the click outside the trap to take place\n      return;\n    } // otherwise, prevent the click\n\n\n    e.preventDefault();\n  }; // In case focus escapes the trap for some strange reason, pull it back in.\n\n\n  var checkFocusIn = function checkFocusIn(e) {\n    var target = getActualTarget(e);\n    var targetContained = containersContain(target); // In Firefox when you Tab out of an iframe the Document is briefly focused.\n\n    if (targetContained || target instanceof Document) {\n      if (targetContained) {\n        state.mostRecentlyFocusedNode = target;\n      }\n    } else {\n      // escaped! pull it back in to where it just left\n      e.stopImmediatePropagation();\n      tryFocus(state.mostRecentlyFocusedNode || getInitialFocusNode());\n    }\n  }; // Hijack Tab events on the first and last focusable nodes of the trap,\n  // in order to prevent focus from escaping. If it escapes for even a\n  // moment it can end up scrolling the page and causing confusion so we\n  // kind of need to capture the action at the keydown phase.\n\n\n  var checkTab = function checkTab(e) {\n    var target = getActualTarget(e);\n    updateTabbableNodes();\n    var destinationNode = null;\n\n    if (state.tabbableGroups.length > 0) {\n      // make sure the target is actually contained in a group\n      // NOTE: the target may also be the container itself if it's focusable\n      //  with tabIndex='-1' and was given initial focus\n      var containerIndex = findIndex(state.tabbableGroups, function (_ref) {\n        var container = _ref.container;\n        return container.contains(target);\n      });\n      var containerGroup = containerIndex >= 0 ? state.tabbableGroups[containerIndex] : undefined;\n\n      if (containerIndex < 0) {\n        // target not found in any group: quite possible focus has escaped the trap,\n        //  so bring it back in to...\n        if (e.shiftKey) {\n          // ...the last node in the last group\n          destinationNode = state.tabbableGroups[state.tabbableGroups.length - 1].lastTabbableNode;\n        } else {\n          // ...the first node in the first group\n          destinationNode = state.tabbableGroups[0].firstTabbableNode;\n        }\n      } else if (e.shiftKey) {\n        // REVERSE\n        // is the target the first tabbable node in a group?\n        var startOfGroupIndex = findIndex(state.tabbableGroups, function (_ref2) {\n          var firstTabbableNode = _ref2.firstTabbableNode;\n          return target === firstTabbableNode;\n        });\n\n        if (startOfGroupIndex < 0 && (containerGroup.container === target || isFocusable(target) && !isTabbable(target) && !containerGroup.nextTabbableNode(target, false))) {\n          // an exception case where the target is either the container itself, or\n          //  a non-tabbable node that was given focus (i.e. tabindex is negative\n          //  and user clicked on it or node was programmatically given focus)\n          //  and is not followed by any other tabbable node, in which\n          //  case, we should handle shift+tab as if focus were on the container's\n          //  first tabbable node, and go to the last tabbable node of the LAST group\n          startOfGroupIndex = containerIndex;\n        }\n\n        if (startOfGroupIndex >= 0) {\n          // YES: then shift+tab should go to the last tabbable node in the\n          //  previous group (and wrap around to the last tabbable node of\n          //  the LAST group if it's the first tabbable node of the FIRST group)\n          var destinationGroupIndex = startOfGroupIndex === 0 ? state.tabbableGroups.length - 1 : startOfGroupIndex - 1;\n          var destinationGroup = state.tabbableGroups[destinationGroupIndex];\n          destinationNode = destinationGroup.lastTabbableNode;\n        }\n      } else {\n        // FORWARD\n        // is the target the last tabbable node in a group?\n        var lastOfGroupIndex = findIndex(state.tabbableGroups, function (_ref3) {\n          var lastTabbableNode = _ref3.lastTabbableNode;\n          return target === lastTabbableNode;\n        });\n\n        if (lastOfGroupIndex < 0 && (containerGroup.container === target || isFocusable(target) && !isTabbable(target) && !containerGroup.nextTabbableNode(target))) {\n          // an exception case where the target is the container itself, or\n          //  a non-tabbable node that was given focus (i.e. tabindex is negative\n          //  and user clicked on it or node was programmatically given focus)\n          //  and is not followed by any other tabbable node, in which\n          //  case, we should handle tab as if focus were on the container's\n          //  last tabbable node, and go to the first tabbable node of the FIRST group\n          lastOfGroupIndex = containerIndex;\n        }\n\n        if (lastOfGroupIndex >= 0) {\n          // YES: then tab should go to the first tabbable node in the next\n          //  group (and wrap around to the first tabbable node of the FIRST\n          //  group if it's the last tabbable node of the LAST group)\n          var _destinationGroupIndex = lastOfGroupIndex === state.tabbableGroups.length - 1 ? 0 : lastOfGroupIndex + 1;\n\n          var _destinationGroup = state.tabbableGroups[_destinationGroupIndex];\n          destinationNode = _destinationGroup.firstTabbableNode;\n        }\n      }\n    } else {\n      // NOTE: the fallbackFocus option does not support returning false to opt-out\n      destinationNode = getNodeForOption('fallbackFocus');\n    }\n\n    if (destinationNode) {\n      e.preventDefault();\n      tryFocus(destinationNode);\n    } // else, let the browser take care of [shift+]tab and move the focus\n\n  };\n\n  var checkKey = function checkKey(e) {\n    if (isEscapeEvent(e) && valueOrHandler(config.escapeDeactivates, e) !== false) {\n      e.preventDefault();\n      trap.deactivate();\n      return;\n    }\n\n    if (isTabEvent(e)) {\n      checkTab(e);\n      return;\n    }\n  };\n\n  var checkClick = function checkClick(e) {\n    if (valueOrHandler(config.clickOutsideDeactivates, e)) {\n      return;\n    }\n\n    var target = getActualTarget(e);\n\n    if (containersContain(target)) {\n      return;\n    }\n\n    if (valueOrHandler(config.allowOutsideClick, e)) {\n      return;\n    }\n\n    e.preventDefault();\n    e.stopImmediatePropagation();\n  }; //\n  // EVENT LISTENERS\n  //\n\n\n  var addListeners = function addListeners() {\n    if (!state.active) {\n      return;\n    } // There can be only one listening focus trap at a time\n\n\n    activeFocusTraps.activateTrap(trap); // Delay ensures that the focused element doesn't capture the event\n    // that caused the focus trap activation.\n\n    state.delayInitialFocusTimer = config.delayInitialFocus ? delay(function () {\n      tryFocus(getInitialFocusNode());\n    }) : tryFocus(getInitialFocusNode());\n    doc.addEventListener('focusin', checkFocusIn, true);\n    doc.addEventListener('mousedown', checkPointerDown, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener('touchstart', checkPointerDown, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener('click', checkClick, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener('keydown', checkKey, {\n      capture: true,\n      passive: false\n    });\n    return trap;\n  };\n\n  var removeListeners = function removeListeners() {\n    if (!state.active) {\n      return;\n    }\n\n    doc.removeEventListener('focusin', checkFocusIn, true);\n    doc.removeEventListener('mousedown', checkPointerDown, true);\n    doc.removeEventListener('touchstart', checkPointerDown, true);\n    doc.removeEventListener('click', checkClick, true);\n    doc.removeEventListener('keydown', checkKey, true);\n    return trap;\n  }; //\n  // TRAP DEFINITION\n  //\n\n\n  trap = {\n    activate: function activate(activateOptions) {\n      if (state.active) {\n        return this;\n      }\n\n      var onActivate = getOption(activateOptions, 'onActivate');\n      var onPostActivate = getOption(activateOptions, 'onPostActivate');\n      var checkCanFocusTrap = getOption(activateOptions, 'checkCanFocusTrap');\n\n      if (!checkCanFocusTrap) {\n        updateTabbableNodes();\n      }\n\n      state.active = true;\n      state.paused = false;\n      state.nodeFocusedBeforeActivation = doc.activeElement;\n\n      if (onActivate) {\n        onActivate();\n      }\n\n      var finishActivation = function finishActivation() {\n        if (checkCanFocusTrap) {\n          updateTabbableNodes();\n        }\n\n        addListeners();\n\n        if (onPostActivate) {\n          onPostActivate();\n        }\n      };\n\n      if (checkCanFocusTrap) {\n        checkCanFocusTrap(state.containers.concat()).then(finishActivation, finishActivation);\n        return this;\n      }\n\n      finishActivation();\n      return this;\n    },\n    deactivate: function deactivate(deactivateOptions) {\n      if (!state.active) {\n        return this;\n      }\n\n      clearTimeout(state.delayInitialFocusTimer); // noop if undefined\n\n      state.delayInitialFocusTimer = undefined;\n      removeListeners();\n      state.active = false;\n      state.paused = false;\n      activeFocusTraps.deactivateTrap(trap);\n      var onDeactivate = getOption(deactivateOptions, 'onDeactivate');\n      var onPostDeactivate = getOption(deactivateOptions, 'onPostDeactivate');\n      var checkCanReturnFocus = getOption(deactivateOptions, 'checkCanReturnFocus');\n\n      if (onDeactivate) {\n        onDeactivate();\n      }\n\n      var returnFocus = getOption(deactivateOptions, 'returnFocus', 'returnFocusOnDeactivate');\n\n      var finishDeactivation = function finishDeactivation() {\n        delay(function () {\n          if (returnFocus) {\n            tryFocus(getReturnFocusNode(state.nodeFocusedBeforeActivation));\n          }\n\n          if (onPostDeactivate) {\n            onPostDeactivate();\n          }\n        });\n      };\n\n      if (returnFocus && checkCanReturnFocus) {\n        checkCanReturnFocus(getReturnFocusNode(state.nodeFocusedBeforeActivation)).then(finishDeactivation, finishDeactivation);\n        return this;\n      }\n\n      finishDeactivation();\n      return this;\n    },\n    pause: function pause() {\n      if (state.paused || !state.active) {\n        return this;\n      }\n\n      state.paused = true;\n      removeListeners();\n      return this;\n    },\n    unpause: function unpause() {\n      if (!state.paused || !state.active) {\n        return this;\n      }\n\n      state.paused = false;\n      updateTabbableNodes();\n      addListeners();\n      return this;\n    },\n    updateContainerElements: function updateContainerElements(containerElements) {\n      var elementsAsArray = [].concat(containerElements).filter(Boolean);\n      state.containers = elementsAsArray.map(function (element) {\n        return typeof element === 'string' ? doc.querySelector(element) : element;\n      });\n\n      if (state.active) {\n        updateTabbableNodes();\n      }\n\n      return this;\n    }\n  }; // initialize container elements\n\n  trap.updateContainerElements(elements);\n  return trap;\n};\n\nexport { createFocusTrap };","import _defineProperty from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _classCallCheck from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../chunks/tslib.es6.js\";\nimport { makeHandle as e } from \"../core/handleUtils.js\";\nimport { property as o } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/arrayUtils.js\";\nimport \"../core/has.js\";\nimport \"../core/accessorSupport/ensureType.js\";\nimport { subclass as s } from \"../core/accessorSupport/decorators/subclass.js\";\nimport i from \"../widgets/Widget.js\";\nimport { isWidget as r } from \"../widgets/support/widget.js\";\nimport { createFocusTrap as n } from \"focus-trap\";\nimport { messageBundle as a } from \"../widgets/support/decorators/messageBundle.js\";\nimport { tsx as c } from \"../widgets/support/jsxFactory.js\";\nvar l = {\n  base: \"esri-identity-modal\",\n  open: \"esri-identity-modal--open\",\n  closed: \"esri-identity-modal--closed\",\n  title: \"esri-identity-modal__title\",\n  dialog: \"esri-identity-modal__dialog\",\n  content: \"esri-identity-modal__content\",\n  closeButton: \"esri-identity-modal__close-button\",\n  iconClose: \"esri-icon-close\"\n};\n\nvar d = /*#__PURE__*/function (_i) {\n  _inherits(d, _i);\n\n  var _super = _createSuper(d);\n\n  function d(t, e) {\n    var _this;\n\n    _classCallCheck(this, d);\n\n    _this = _super.call(this, t, e), _this.container = document.createElement(\"div\"), _this.content = null, _this.open = !1, _this._close = function () {\n      _this.open = !1;\n    }, document.body.appendChild(_this.container), _this.own(_this.watch(\"open\", function () {\n      return _this._toggleFocusTrap();\n    }));\n    return _this;\n  }\n\n  _createClass(d, [{\n    key: \"destroy\",\n    value: function destroy() {\n      this._destroyFocusTrap();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _n;\n\n      var t = this.id,\n          e = this.open,\n          o = this.content,\n          s = this.title,\n          i = this.messages,\n          r = e && !!o,\n          n = (_n = {}, _defineProperty(_n, l.open, r), _defineProperty(_n, l.closed, !r), _n),\n          a = c(\"button\", {\n        class: l.closeButton,\n        \"aria-label\": i.close,\n        title: i.close,\n        bind: this,\n        onclick: this._close\n      }, c(\"span\", {\n        \"aria-hidden\": \"true\",\n        class: l.iconClose\n      })),\n          _d = \"\".concat(t, \"_title\"),\n          p = \"\".concat(t, \"_content\"),\n          u = s ? c(\"h1\", {\n        id: _d,\n        class: l.title\n      }, s) : null,\n          m = r ? c(\"div\", {\n        bind: this,\n        class: l.dialog,\n        role: \"dialog\",\n        \"aria-labelledby\": _d,\n        \"aria-describedby\": p,\n        afterCreate: this._createFocusTrap\n      }, a, u, this._renderContent(p)) : null;\n\n      return c(\"div\", {\n        tabIndex: -1,\n        class: this.classes(l.base, n)\n      }, m);\n    }\n  }, {\n    key: \"_destroyFocusTrap\",\n    value: function _destroyFocusTrap() {\n      var t;\n      null == (t = this._focusTrap) || t.deactivate({\n        onDeactivate: null\n      }), this._focusTrap = null;\n    }\n  }, {\n    key: \"_toggleFocusTrap\",\n    value: function _toggleFocusTrap() {\n      var t = this._focusTrap,\n          e = this.open;\n      t && (e ? t.activate() : t.deactivate());\n    }\n  }, {\n    key: \"_createFocusTrap\",\n    value: function _createFocusTrap(t) {\n      var _this2 = this;\n\n      this._destroyFocusTrap();\n\n      var o = requestAnimationFrame(function () {\n        _this2._focusTrap = n(t, {\n          initialFocus: \"input\",\n          onDeactivate: _this2._close\n        }), _this2._toggleFocusTrap();\n      });\n      this.own(e(function () {\n        return cancelAnimationFrame(o);\n      }));\n    }\n  }, {\n    key: \"_renderContent\",\n    value: function _renderContent(t) {\n      var e = this.content;\n      return \"string\" == typeof e ? c(\"div\", {\n        class: l.content,\n        id: t,\n        innerHTML: e\n      }) : r(e) ? c(\"div\", {\n        class: l.content,\n        id: t\n      }, e.render()) : e instanceof HTMLElement ? c(\"div\", {\n        class: l.content,\n        id: t,\n        bind: e,\n        afterCreate: this._attachToNode\n      }) : null;\n    }\n  }, {\n    key: \"_attachToNode\",\n    value: function _attachToNode(t) {\n      var e = this;\n      t.appendChild(e);\n    }\n  }]);\n\n  return d;\n}(i);\n\nt([o({\n  readOnly: !0\n})], d.prototype, \"container\", void 0), t([o()], d.prototype, \"content\", void 0), t([o()], d.prototype, \"open\", void 0), t([o(), a(\"esri/t9n/common\")], d.prototype, \"messages\", void 0), t([o({\n  aliasOf: \"messages.auth.signIn\"\n})], d.prototype, \"title\", void 0), d = t([s(\"esri.identity.IdentityModal\")], d);\nvar p = d;\nexport { p as default };","import _classCallCheck from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/createClass.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nvar t = \"esriJSAPIOAuth\";\n\nvar s = /*#__PURE__*/function () {\n  function s(t, _s) {\n    _classCallCheck(this, s);\n\n    this.oAuthInfo = null, this.storage = null, this.appId = null, this.expires = null, this.ssl = null, this.token = null, this.userId = null, this.oAuthInfo = t, this.storage = _s, this._init();\n  }\n\n  _createClass(s, [{\n    key: \"isValid\",\n    value: function isValid() {\n      var t = !1;\n\n      if (this.oAuthInfo && this.token && this.userId) {\n        var _s8 = Date.now();\n\n        if (this.expires > _s8) {\n          (this.expires - _s8) / 1e3 > 60 * this.oAuthInfo.minTimeUntilExpiration && (t = !0);\n        }\n      }\n\n      return t;\n    }\n  }, {\n    key: \"save\",\n    value: function save() {\n      if (!this.storage) return;\n\n      var _s3 = this._load(),\n          e = this.oAuthInfo;\n\n      if (e && e.authNamespace && e.portalUrl) {\n        var o = _s3[e.authNamespace];\n        o || (o = _s3[e.authNamespace] = {}), o[e.portalUrl] = {\n          appId: this.appId = e.appId,\n          expires: this.expires,\n          ssl: this.ssl,\n          token: this.token,\n          userId: this.userId\n        };\n\n        try {\n          this.storage.setItem(t, JSON.stringify(_s3));\n        } catch (i) {\n          console.log(i);\n        }\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _s4 = this._load(),\n          e = this.oAuthInfo;\n\n      if (e && e.appId && e.portalUrl && this.token && this.expires > Date.now()) {\n        var _t = e.portalUrl.replace(/^http:/i, \"https:\") + \"/sharing/rest/oauth2/revokeToken\",\n            _s9 = new FormData();\n\n        if (_s9.append(\"f\", \"json\"), _s9.append(\"auth_token\", this.token), _s9.append(\"client_id\", e.appId), _s9.append(\"token_type_hint\", \"access_token\"), \"function\" == typeof navigator.sendBeacon) navigator.sendBeacon(_t, _s9);else {\n          var _e = new XMLHttpRequest();\n\n          _e.open(\"POST\", _t), _e.send(_s9);\n        }\n      }\n\n      if (e && e.authNamespace && e.portalUrl && this.storage) {\n        var o = _s4[e.authNamespace];\n\n        if (o) {\n          delete o[e.portalUrl];\n\n          try {\n            this.storage.setItem(t, JSON.stringify(_s4));\n          } catch (i) {\n            console.log(i);\n          }\n        }\n      }\n\n      e && (e._oAuthCred = null, this.oAuthInfo = null);\n    }\n  }, {\n    key: \"_init\",\n    value: function _init() {\n      var t = this._load(),\n          _s6 = this.oAuthInfo;\n\n      if (_s6 && _s6.authNamespace && _s6.portalUrl) {\n        var e = t[_s6.authNamespace];\n        e && (e = e[_s6.portalUrl], e && (this.appId = e.appId, this.expires = e.expires, this.ssl = e.ssl, this.token = e.token, this.userId = e.userId));\n      }\n    }\n  }, {\n    key: \"_load\",\n    value: function _load() {\n      var _s7 = {};\n\n      if (this.storage) {\n        var i = this.storage.getItem(t);\n        if (i) try {\n          _s7 = JSON.parse(i);\n        } catch (e) {\n          console.log(e);\n        }\n      }\n\n      return _s7;\n    }\n  }]);\n\n  return s;\n}();\n\ns.prototype.declaredClass = \"esri.identity.OAuthCredential\";\nexport { s as default };","import _classCallCheck from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport { _ as o } from \"../chunks/tslib.es6.js\";\nimport { JSONSupport as t } from \"../core/JSONSupport.js\";\nimport { property as r } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/arrayUtils.js\";\nimport \"../core/has.js\";\nimport \"../core/accessorSupport/ensureType.js\";\nimport { subclass as e } from \"../core/accessorSupport/decorators/subclass.js\";\n\nvar _s;\n\nvar p = _s = /*#__PURE__*/function (_t) {\n  _inherits(s, _t);\n\n  var _super = _createSuper(s);\n\n  function s(o) {\n    var _this;\n\n    _classCallCheck(this, s);\n\n    _this = _super.call(this, o), _this._oAuthCred = null, _this.appId = null, _this.authNamespace = \"/\", _this.expiration = 20160, _this.forceLogin = !1, _this.forceUserId = !1, _this.locale = null, _this.minTimeUntilExpiration = 30, _this.popup = !1, _this.popupCallbackUrl = \"oauth-callback.html\", _this.popupWindowFeatures = \"height=490,width=800,resizable,scrollbars,status\", _this.portalUrl = \"https://www.arcgis.com\", _this.preserveUrlHash = !1, _this.userId = null;\n    return _this;\n  }\n\n  _createClass(s, [{\n    key: \"clone\",\n    value: function clone() {\n      return _s.fromJSON(this.toJSON());\n    }\n  }]);\n\n  return s;\n}(t);\n\no([r({\n  json: {\n    write: !0\n  }\n})], p.prototype, \"appId\", void 0), o([r({\n  json: {\n    write: !0\n  }\n})], p.prototype, \"authNamespace\", void 0), o([r({\n  json: {\n    write: !0\n  }\n})], p.prototype, \"expiration\", void 0), o([r({\n  json: {\n    write: !0\n  }\n})], p.prototype, \"forceLogin\", void 0), o([r({\n  json: {\n    write: !0\n  }\n})], p.prototype, \"forceUserId\", void 0), o([r({\n  json: {\n    write: !0\n  }\n})], p.prototype, \"locale\", void 0), o([r({\n  json: {\n    write: !0\n  }\n})], p.prototype, \"minTimeUntilExpiration\", void 0), o([r({\n  json: {\n    write: !0\n  }\n})], p.prototype, \"popup\", void 0), o([r({\n  json: {\n    write: !0\n  }\n})], p.prototype, \"popupCallbackUrl\", void 0), o([r({\n  json: {\n    write: !0\n  }\n})], p.prototype, \"popupWindowFeatures\", void 0), o([r({\n  json: {\n    write: !0\n  }\n})], p.prototype, \"portalUrl\", void 0), o([r({\n  json: {\n    write: !0\n  }\n})], p.prototype, \"preserveUrlHash\", void 0), o([r({\n  json: {\n    write: !0\n  }\n})], p.prototype, \"userId\", void 0), p = _s = o([e(\"esri.identity.OAuthInfo\")], p);\nvar i = p;\nexport { i as default };","import _createClass from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _classCallCheck from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _inherits from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport { _ as o } from \"../chunks/tslib.es6.js\";\nimport { JSONSupport as r } from \"../core/JSONSupport.js\";\nimport { property as e } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/arrayUtils.js\";\nimport \"../core/has.js\";\nimport \"../core/accessorSupport/ensureType.js\";\nimport { subclass as t } from \"../core/accessorSupport/decorators/subclass.js\";\n\nvar s = /*#__PURE__*/function (_r) {\n  _inherits(s, _r);\n\n  var _super = _createSuper(s);\n\n  function s(o) {\n    var _this;\n\n    _classCallCheck(this, s);\n\n    _this = _super.call(this, o), _this.adminTokenServiceUrl = null, _this.currentVersion = null, _this.hasPortal = null, _this.hasServer = null, _this.owningSystemUrl = null, _this.owningTenant = null, _this.server = null, _this.shortLivedTokenValidity = null, _this.tokenServiceUrl = null, _this.webTierAuth = null;\n    return _this;\n  }\n\n  return _createClass(s);\n}(r);\n\no([e({\n  json: {\n    write: !0\n  }\n})], s.prototype, \"adminTokenServiceUrl\", void 0), o([e({\n  json: {\n    write: !0\n  }\n})], s.prototype, \"currentVersion\", void 0), o([e({\n  json: {\n    write: !0\n  }\n})], s.prototype, \"hasPortal\", void 0), o([e({\n  json: {\n    write: !0\n  }\n})], s.prototype, \"hasServer\", void 0), o([e({\n  json: {\n    write: !0\n  }\n})], s.prototype, \"owningSystemUrl\", void 0), o([e({\n  json: {\n    write: !0\n  }\n})], s.prototype, \"owningTenant\", void 0), o([e({\n  json: {\n    write: !0\n  }\n})], s.prototype, \"server\", void 0), o([e({\n  json: {\n    write: !0\n  }\n})], s.prototype, \"shortLivedTokenValidity\", void 0), o([e({\n  json: {\n    write: !0\n  }\n})], s.prototype, \"tokenServiceUrl\", void 0), o([e({\n  json: {\n    write: !0\n  }\n})], s.prototype, \"webTierAuth\", void 0), s = o([t(\"esri.identity.ServerInfo\")], s);\nvar i = s;\nexport { i as default };","import _defineProperty from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _classCallCheck from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e17) { throw _e17; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e18) { didErr = true; err = _e18; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport \"core-js/modules/esnext.global-this.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport t from \"../config.js\";\nimport { id as s } from \"../kernel.js\";\nimport r from \"../request.js\";\nimport i from \"../core/Error.js\";\nimport n from \"../core/Evented.js\";\nimport { on as o } from \"../core/events.js\";\nimport { fixJson as a } from \"../core/lang.js\";\nimport { getDeepValue as h } from \"../core/object.js\";\nimport { createResolver as l, onAbort as c, isAborted as d } from \"../core/promiseUtils.js\";\nimport { Url as u, urlToObject as p, hasSameOrigin as _, queryToObject as g, normalize as f, getProxyRule as m, makeAbsolute as v, objectToQuery as S } from \"../core/urlUtils.js\";\nimport { property as w } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/accessorSupport/ensureType.js\";\nimport { subclass as I } from \"../core/accessorSupport/decorators/subclass.js\";\nimport k from \"./IdentityForm.js\";\nimport A from \"./IdentityModal.js\";\nimport y from \"./OAuthCredential.js\";\nimport U from \"./OAuthInfo.js\";\nimport x from \"./ServerInfo.js\";\n\nvar T = {},\n    O = function O(e) {\n  var t = new u(e.owningSystemUrl).host,\n      s = new u(e.server).host,\n      r = /.+\\.arcgis\\.com$/i;\n  return r.test(t) && r.test(s);\n},\n    R = function R(e, t) {\n  return !!(O(e) && t && t.some(function (t) {\n    return t.test(e.server);\n  }));\n};\n\nvar b = null,\n    P = null;\n\ntry {\n  b = window.localStorage, P = window.sessionStorage;\n} catch (_unused) {}\n\nvar C = /*#__PURE__*/function (_n) {\n  _inherits(C, _n);\n\n  var _super = _createSuper(C);\n\n  function C() {\n    var _this;\n\n    _classCallCheck(this, C);\n\n    _this = _super.call(this), _this._portalConfig = globalThis.esriGeowConfig, _this.serverInfos = [], _this.oAuthInfos = [], _this.credentials = [], _this._soReqs = [], _this._xoReqs = [], _this._portals = [], _this.defaultOAuthInfo = null, _this.defaultTokenValidity = 60, _this.dialog = null, _this.formConstructor = k, _this.tokenValidity = null, _this.normalizeWebTierAuth = !1, _this._appOrigin = \"null\" !== window.origin ? window.origin : window.location.origin, _this._appUrlObj = p(window.location.href), _this._busy = null, _this._rejectOnPersistedPageShow = !1, _this._oAuthHash = null, _this._gwTokenUrl = \"/sharing/rest/generateToken\", _this._agsRest = \"/rest/services\", _this._agsPortal = /\\/sharing(\\/|$)/i, _this._agsAdmin = /(https?:\\/\\/[^\\/]+\\/[^\\/]+)\\/admin\\/?(\\/.*)?$/i, _this._adminSvcs = /\\/rest\\/admin\\/services(\\/|$)/i, _this._gwDomains = [{\n      regex: /^https?:\\/\\/www\\.arcgis\\.com/i,\n      customBaseUrl: \"maps.arcgis.com\",\n      tokenServiceUrl: \"https://www.arcgis.com/sharing/rest/generateToken\"\n    }, {\n      regex: /^https?:\\/\\/(?:dev|[a-z\\d-]+\\.mapsdev)\\.arcgis\\.com/i,\n      customBaseUrl: \"mapsdev.arcgis.com\",\n      tokenServiceUrl: \"https://dev.arcgis.com/sharing/rest/generateToken\"\n    }, {\n      regex: /^https?:\\/\\/(?:devext|[a-z\\d-]+\\.mapsdevext)\\.arcgis\\.com/i,\n      customBaseUrl: \"mapsdevext.arcgis.com\",\n      tokenServiceUrl: \"https://devext.arcgis.com/sharing/rest/generateToken\"\n    }, {\n      regex: /^https?:\\/\\/(?:qaext|[a-z\\d-]+\\.mapsqa)\\.arcgis\\.com/i,\n      customBaseUrl: \"mapsqa.arcgis.com\",\n      tokenServiceUrl: \"https://qaext.arcgis.com/sharing/rest/generateToken\"\n    }, {\n      regex: /^https?:\\/\\/[a-z\\d-]+\\.maps\\.arcgis\\.com/i,\n      customBaseUrl: \"maps.arcgis.com\",\n      tokenServiceUrl: \"https://www.arcgis.com/sharing/rest/generateToken\"\n    }], _this._legacyFed = [], _this._regexSDirUrl = /http.+\\/rest\\/services\\/?/gi, _this._regexServerType = /(\\/(FeatureServer|GPServer|GeoDataServer|GeocodeServer|GeoenrichmentServer|GeometryServer|GlobeServer|ImageServer|MapServer|MobileServer|NAServer|NetworkDiagramServer|OGCFeatureServer|ParcelFabricServer|RelationalCatalogServer|SceneServer|StreamServer|UtilityNetworkServer|ValidationServer|VectorTileServer|VersionManagementServer)).*/gi, _this._gwUser = /http.+\\/users\\/([^\\/]+)\\/?.*/i, _this._gwItem = /http.+\\/items\\/([^\\/]+)\\/?.*/i, _this._gwGroup = /http.+\\/groups\\/([^\\/]+)\\/?.*/i, _this._rePortalTokenSvc = /\\/sharing(\\/rest)?\\/generatetoken/i, _this._createDefaultOAuthInfo = !0, _this._hasTestedIfAppIsOnPortal = !1, _this._getOAuthHash(), window.addEventListener(\"pageshow\", function (e) {\n      _this._pageShowHandler(e);\n    });\n    return _this;\n  }\n\n  _createClass(C, [{\n    key: \"registerServers\",\n    value: function registerServers(e) {\n      var _this2 = this;\n\n      var t = this.serverInfos;\n      t ? (e = e.filter(function (e) {\n        return !_this2.findServerInfo(e.server);\n      }), this.serverInfos = t.concat(e)) : this.serverInfos = e, e.forEach(function (e) {\n        e.owningSystemUrl && _this2._portals.push(e.owningSystemUrl), e.hasPortal && _this2._portals.push(e.server);\n      });\n    }\n  }, {\n    key: \"registerOAuthInfos\",\n    value: function registerOAuthInfos(e) {\n      var t = this.oAuthInfos;\n\n      if (t) {\n        var _iterator = _createForOfIteratorHelper(e),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var _s = _step.value;\n\n            var _e = this.findOAuthInfo(_s.portalUrl);\n\n            _e && t.splice(t.indexOf(_e), 1);\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n\n        this.oAuthInfos = t.concat(e);\n      } else this.oAuthInfos = e;\n    }\n  }, {\n    key: \"registerToken\",\n    value: function registerToken(e) {\n      e = _objectSpread({}, e);\n\n      var t = this._sanitizeUrl(e.server),\n          s = this._isServerRsrc(t);\n\n      var r,\n          i = this.findServerInfo(t),\n          n = !0;\n      i || (i = new x(), i.server = this._getServerInstanceRoot(t), s ? i.hasServer = !0 : (i.tokenServiceUrl = this._getTokenSvcUrl(t), i.hasPortal = !0), this.registerServers([i])), r = this._findCredential(t), r ? (delete e.server, Object.assign(r, e), n = !1) : (r = new D({\n        userId: e.userId,\n        server: i.server,\n        token: e.token,\n        expires: e.expires,\n        ssl: e.ssl,\n        scope: s ? \"server\" : \"portal\"\n      }), r.resources = [t], this.credentials.push(r)), r.emitTokenChange(!1), n || r.refreshServerTokens();\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return a({\n        serverInfos: this.serverInfos.map(function (e) {\n          return e.toJSON();\n        }),\n        oAuthInfos: this.oAuthInfos.map(function (e) {\n          return e.toJSON();\n        }),\n        credentials: this.credentials.map(function (e) {\n          return e.toJSON();\n        })\n      });\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize(e) {\n      var _this3 = this;\n\n      if (!e) return;\n      \"string\" == typeof e && (e = JSON.parse(e));\n      var t = e.serverInfos,\n          s = e.oAuthInfos,\n          r = e.credentials;\n\n      if (t) {\n        var _e2 = [];\n        t.forEach(function (t) {\n          t.server && t.tokenServiceUrl && _e2.push(t.declaredClass ? t : new x(t));\n        }), _e2.length && this.registerServers(_e2);\n      }\n\n      if (s) {\n        var _e3 = [];\n        s.forEach(function (t) {\n          t.appId && _e3.push(t.declaredClass ? t : new U(t));\n        }), _e3.length && this.registerOAuthInfos(_e3);\n      }\n\n      r && r.forEach(function (e) {\n        e.server && e.token && e.expires && e.expires > Date.now() && ((e = e.declaredClass ? e : new D(e)).emitTokenChange(), _this3.credentials.push(e));\n      });\n    }\n  }, {\n    key: \"findServerInfo\",\n    value: function findServerInfo(e) {\n      var t;\n      e = this._sanitizeUrl(e);\n\n      var _iterator2 = _createForOfIteratorHelper(this.serverInfos),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var _s2 = _step2.value;\n\n          if (this._hasSameServerInstance(_s2.server, e)) {\n            t = _s2;\n            break;\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      return t;\n    }\n  }, {\n    key: \"findOAuthInfo\",\n    value: function findOAuthInfo(e) {\n      var t;\n      e = this._sanitizeUrl(e);\n\n      var _iterator3 = _createForOfIteratorHelper(this.oAuthInfos),\n          _step3;\n\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var _s3 = _step3.value;\n\n          if (this._hasSameServerInstance(_s3.portalUrl, e)) {\n            t = _s3;\n            break;\n          }\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n\n      return t;\n    }\n  }, {\n    key: \"findCredential\",\n    value: function findCredential(e, t) {\n      var s;\n      e = this._sanitizeUrl(e);\n      var r = this._isServerRsrc(e) ? \"server\" : \"portal\";\n\n      if (t) {\n        var _iterator4 = _createForOfIteratorHelper(this.credentials),\n            _step4;\n\n        try {\n          for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n            var _i = _step4.value;\n\n            if (this._hasSameServerInstance(_i.server, e) && t === _i.userId && _i.scope === r) {\n              s = _i;\n              break;\n            }\n          }\n        } catch (err) {\n          _iterator4.e(err);\n        } finally {\n          _iterator4.f();\n        }\n      } else {\n        var _iterator5 = _createForOfIteratorHelper(this.credentials),\n            _step5;\n\n        try {\n          for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n            var _i2 = _step5.value;\n\n            if (this._hasSameServerInstance(_i2.server, e) && -1 !== this._getIdenticalSvcIdx(e, _i2) && _i2.scope === r) {\n              s = _i2;\n              break;\n            }\n          }\n        } catch (err) {\n          _iterator5.e(err);\n        } finally {\n          _iterator5.f();\n        }\n      }\n\n      return s;\n    }\n  }, {\n    key: \"getCredential\",\n    value: function getCredential(e, t) {\n      var s,\n          r,\n          n = !0;\n      t && (s = !!t.token, r = t.error, n = !1 !== t.prompt), t = _objectSpread({}, t), e = this._sanitizeUrl(e);\n      var o = new AbortController(),\n          a = l();\n      if (t.signal && c(t.signal, function () {\n        o.abort();\n      }), c(o, function () {\n        a.reject(new i(\"identity-manager:user-aborted\", \"ABORTED\"));\n      }), d(o)) return a.promise;\n      t.signal = o.signal;\n\n      var h = this._isAdminResource(e),\n          u = s ? this.findCredential(e) : null;\n\n      var p;\n      if (u && r && r.details && 498 === r.details.httpStatus) u.destroy();else if (u) return p = new i(\"identity-manager:not-authorized\", \"You are currently signed in as: '\" + u.userId + \"'. You do not have access to this resource: \" + e, {\n        error: r\n      }), a.reject(p), a.promise;\n\n      var g = this._findCredential(e, t);\n\n      if (g) return a.resolve(g), a.promise;\n      var f = this.findServerInfo(e);\n      if (f) !f.hasServer && this._isServerRsrc(e) && (f._restInfoPms = this._getTokenSvcUrl(e), f.hasServer = !0);else {\n        var _t = this._getTokenSvcUrl(e);\n\n        if (!_t) return p = new i(\"identity-manager:unknown-resource\", \"Unknown resource - could not find token service endpoint.\"), a.reject(p), a.promise;\n        f = new x(), f.server = this._getServerInstanceRoot(e), \"string\" == typeof _t ? (f.tokenServiceUrl = _t, f.hasPortal = !0) : (f._restInfoPms = _t, f.hasServer = !0), this.registerServers([f]);\n      }\n      return f.hasPortal && void 0 === f._selfReq && (n || _(f.tokenServiceUrl, this._appOrigin) || this._gwDomains.some(function (e) {\n        return e.tokenServiceUrl === f.tokenServiceUrl;\n      })) && (f._selfReq = {\n        owningTenant: t && t.owningTenant,\n        selfDfd: this._getPortalSelf(f.tokenServiceUrl.replace(this._rePortalTokenSvc, \"/sharing/rest/portals/self\"), e)\n      }), this._enqueue(e, f, t, a, h);\n    }\n  }, {\n    key: \"getResourceName\",\n    value: function getResourceName(e) {\n      return this._isRESTService(e) ? e.replace(this._regexSDirUrl, \"\").replace(this._regexServerType, \"\") || \"\" : this._gwUser.test(e) && e.replace(this._gwUser, \"$1\") || this._gwItem.test(e) && e.replace(this._gwItem, \"$1\") || this._gwGroup.test(e) && e.replace(this._gwGroup, \"$1\") || \"\";\n    }\n  }, {\n    key: \"generateToken\",\n    value: function generateToken(e, t, s) {\n      var n = this._rePortalTokenSvc.test(e.tokenServiceUrl),\n          o = new u(this._appOrigin),\n          a = e.shortLivedTokenValidity;\n\n      var h, l, c, d, p, g, f, m;\n      t && (m = this.tokenValidity || a || this.defaultTokenValidity, m > a && a > 0 && (m = a)), s && (h = s.isAdmin, l = s.serverUrl, c = s.token, g = s.signal, f = s.ssl, e.customParameters = s.customParameters), h ? d = e.adminTokenServiceUrl : (d = e.tokenServiceUrl, p = new u(d.toLowerCase()), e.webTierAuth && null != s && s.serverUrl && !f && \"http\" === o.scheme && (_(o.uri, d, !0) || \"https\" === p.scheme && o.host === p.host && \"7080\" === o.port && \"7443\" === p.port) && (d = d.replace(/^https:/i, \"http:\").replace(/:7443/i, \":7080\")));\n\n      var v = _objectSpread({\n        query: _objectSpread({\n          request: \"getToken\",\n          username: null == t ? void 0 : t.username,\n          password: null == t ? void 0 : t.password,\n          serverUrl: l,\n          token: c,\n          expiration: m,\n          referer: h || n ? this._appOrigin : null,\n          client: h ? \"referer\" : null,\n          f: \"json\"\n        }, e.customParameters),\n        method: \"post\",\n        authMode: \"anonymous\",\n        useProxy: this._useProxy(e, s),\n        signal: g\n      }, null == s ? void 0 : s.ioArgs);\n\n      n || (v.withCredentials = !1);\n      return r(d, v).then(function (s) {\n        var r = s.data;\n        if (!r || !r.token) return new i(\"identity-manager:authentication-failed\", \"Unable to generate token\");\n        var n = e.server;\n        return T[n] || (T[n] = {}), t && (T[n][t.username] = t.password), r.validity = m, r;\n      });\n    }\n  }, {\n    key: \"isBusy\",\n    value: function isBusy() {\n      return !!this._busy;\n    }\n  }, {\n    key: \"checkSignInStatus\",\n    value: function checkSignInStatus(e) {\n      return this.checkAppAccess(e, \"\").then(function (e) {\n        return e.credential;\n      });\n    }\n  }, {\n    key: \"checkAppAccess\",\n    value: function checkAppAccess(e, t, s) {\n      var _this4 = this;\n\n      var n = !1;\n      return this.getCredential(e, {\n        prompt: !1\n      }).then(function (o) {\n        var a;\n        var h = {\n          f: \"json\"\n        };\n        if (\"portal\" === o.scope) {\n          if (t && (_this4._doPortalSignIn(e) || s && s.force)) a = o.server + \"/sharing/rest/oauth2/validateAppAccess\", h.client_id = t;else {\n            if (!o.token) return {\n              credential: o\n            };\n            a = o.server + \"/sharing/rest\";\n          }\n        } else {\n          if (!o.token) return {\n            credential: o\n          };\n          a = o.server + \"/rest/services\";\n        }\n        return o.token && (h.token = o.token), r(a, {\n          query: h,\n          authMode: \"anonymous\"\n        }).then(function (e) {\n          if (!1 === e.data.valid) throw new i(\"identity-manager:not-authorized\", \"You are currently signed in as: '\".concat(o.userId, \"'.\"), e.data);\n          return n = !!e.data.viewOnlyUserTypeApp, {\n            credential: o\n          };\n        }).catch(function (e) {\n          if (\"identity-manager:not-authorized\" === e.name) throw e;\n          var t = e.details && e.details.httpStatus;\n          if (498 === t) throw o.destroy(), new i(\"identity-manager:not-authenticated\", \"User is not signed in.\");\n          if (400 === t) throw new i(\"identity-manager:invalid-request\");\n          return {\n            credential: o\n          };\n        });\n      }).then(function (e) {\n        return {\n          credential: e.credential,\n          viewOnly: n\n        };\n      });\n    }\n  }, {\n    key: \"setOAuthResponseHash\",\n    value: function setOAuthResponseHash(e) {\n      var t;\n      var s = this._oAuthDfd;\n      if (this._oAuthDfd = null, !s || !e) return;\n      clearInterval(this._oAuthIntervalId), null == (t = this._oAuthOnHashHandle) || t.remove(), \"#\" === e.charAt(0) && (e = e.substring(1));\n      var r = g(e);\n\n      if (r.error) {\n        var _e4 = \"access_denied\" === r.error,\n            _t2 = new i(_e4 ? \"identity-manager:user-aborted\" : \"identity-manager:authentication-failed\", _e4 ? \"ABORTED\" : \"OAuth: \" + r.error + \" - \" + r.error_description);\n\n        s.reject(_t2);\n      } else {\n        var _e5 = s.sinfo_,\n            _t3 = s.oinfo_,\n            _i3 = _t3._oAuthCred,\n            _n2 = new D({\n          userId: r.username,\n          server: _e5.server,\n          token: r.access_token,\n          expires: Date.now() + 1e3 * Number(r.expires_in),\n          ssl: \"true\" === r.ssl,\n          _oAuthCred: _i3\n        });\n\n        _t3.userId = _n2.userId, _i3.storage = r.persist ? b : P, _i3.token = _n2.token, _i3.expires = _n2.expires, _i3.userId = _n2.userId, _i3.ssl = _n2.ssl, _i3.save(), s.resolve(_n2);\n      }\n    }\n  }, {\n    key: \"setOAuthRedirectionHandler\",\n    value: function setOAuthRedirectionHandler(e) {\n      this._oAuthRedirectFunc = e;\n    }\n  }, {\n    key: \"setProtocolErrorHandler\",\n    value: function setProtocolErrorHandler(e) {\n      this._protocolFunc = e;\n    }\n  }, {\n    key: \"signIn\",\n    value: function signIn(e, t) {\n      var _this5 = this;\n\n      var s = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      var r = l(),\n          n = function n() {\n        var e, t, s, r, i;\n        null == (e = h) || e.remove(), null == (t = d) || t.remove(), null == (s = u) || s.remove(), null == (r = a) || r.destroy(), null == (i = _this5.dialog) || i.destroy(), _this5.dialog = a = h = d = u = null;\n      },\n          o = function o() {\n        n(), _this5._oAuthDfd = null, r.reject(new i(\"identity-manager:user-aborted\", \"ABORTED\"));\n      };\n\n      s.signal && c(s.signal, function () {\n        o();\n      });\n      var a = new this.formConstructor();\n      a.resource = this.getResourceName(e), a.server = t.server, this.dialog = new A(), this.dialog.content = a, this.dialog.open = !0, this.emit(\"dialog-create\");\n      var h = a.on(\"cancel\", o),\n          d = this.dialog.watch(\"open\", o),\n          u = a.on(\"submit\", function (e) {\n        _this5.generateToken(t, e, {\n          isAdmin: s.isAdmin,\n          signal: s.signal\n        }).then(function (i) {\n          n();\n          var o = new D({\n            userId: e.username,\n            server: t.server,\n            token: i.token,\n            expires: null != i.expires ? Number(i.expires) : null,\n            ssl: !!i.ssl,\n            isAdmin: s.isAdmin,\n            validity: i.validity\n          });\n          r.resolve(o);\n        }).catch(function (e) {\n          a.error = e, a.signingIn = !1;\n        });\n      });\n      return r.promise;\n    }\n  }, {\n    key: \"oAuthSignIn\",\n    value: function oAuthSignIn(e, t, s, r) {\n      var _this6 = this;\n\n      this._oAuthDfd = l();\n      var n = this._oAuthDfd;\n      null != r && r.signal && c(r.signal, function () {\n        var e = _this6._oAuthDfd && _this6._oAuthDfd.oAuthWin_;\n        e && !e.closed ? e.close() : _this6.dialog && h();\n      }), n.resUrl_ = e, n.sinfo_ = t, n.oinfo_ = s;\n      var o = !r || !1 !== r.oAuthPopupConfirmation;\n      if (!s.popup || !o) return this._doOAuthSignIn(e, t, s), n.promise;\n      var a = new this.formConstructor();\n      a.oAuthPrompt = !0, a.server = t.server, this.dialog = new A(), this.dialog.content = a, this.dialog.open = !0, this.emit(\"dialog-create\");\n\n      var h = function h() {\n        _(), _this6._oAuthDfd = null, n.reject(new i(\"identity-manager:user-aborted\", \"ABORTED\"));\n      },\n          d = a.on(\"cancel\", h),\n          u = this.dialog.watch(\"open\", h),\n          p = a.on(\"submit\", function () {\n        _(), _this6._doOAuthSignIn(e, t, s);\n      }),\n          _ = function _() {\n        d.remove(), u.remove(), p.remove(), a.destroy(), _this6.dialog.destroy(), _this6.dialog = null;\n      };\n\n      return n.promise;\n    }\n  }, {\n    key: \"destroyCredentials\",\n    value: function destroyCredentials() {\n      if (this.credentials) {\n        this.credentials.slice().forEach(function (e) {\n          e.destroy();\n        });\n      }\n\n      this.emit(\"credentials-destroy\");\n    }\n  }, {\n    key: \"enablePostMessageAuth\",\n    value: function enablePostMessageAuth() {\n      var _this7 = this;\n\n      var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"https://www.arcgis.com/sharing/rest\";\n      this._postMessageAuthHandle && this._postMessageAuthHandle.remove(), this._postMessageAuthHandle = o(window, \"message\", function (t) {\n        var s;\n\n        if ((t.origin === _this7._appOrigin || t.origin.endsWith(\".arcgis.com\")) && \"arcgis:auth:requestCredential\" === (null == (s = t.data) ? void 0 : s.type)) {\n          var _s4 = t.source;\n\n          _this7.getCredential(e).then(function (e) {\n            _s4.postMessage({\n              type: \"arcgis:auth:credential\",\n              credential: {\n                expires: e.expires,\n                server: e.server,\n                ssl: e.ssl,\n                token: e.token,\n                userId: e.userId\n              }\n            }, t.origin);\n          }).catch(function (e) {\n            _s4.postMessage({\n              type: \"arcgis:auth:error\",\n              error: {\n                name: e.name,\n                message: e.message\n              }\n            }, t.origin);\n          });\n        }\n      });\n    }\n  }, {\n    key: \"disablePostMessageAuth\",\n    value: function disablePostMessageAuth() {\n      this._postMessageAuthHandle && (this._postMessageAuthHandle.remove(), this._postMessageAuthHandle = null);\n    }\n  }, {\n    key: \"_getOAuthHash\",\n    value: function _getOAuthHash() {\n      var e = window.location.hash;\n\n      if (e) {\n        \"#\" === e.charAt(0) && (e = e.substring(1));\n\n        var _t4 = g(e);\n\n        var _s5 = !1;\n\n        if (_t4.access_token && _t4.expires_in && _t4.state && _t4.hasOwnProperty(\"username\")) try {\n          _t4.state = JSON.parse(_t4.state), \"object\" == typeof _t4.state && _t4.state.portalUrl && (this._oAuthHash = _t4, _s5 = !0);\n        } catch (_unused2) {} else _t4.error && _t4.error_description && (console.log(\"IdentityManager OAuth Error: \", _t4.error, \" - \", _t4.error_description), \"access_denied\" === _t4.error && (_s5 = !0));\n        _s5 && (window.location.hash = \"object\" == typeof _t4.state && _t4.state.hash || \"\");\n      }\n    }\n  }, {\n    key: \"_pageShowHandler\",\n    value: function _pageShowHandler(e) {\n      if (e.persisted && this.isBusy() && this._rejectOnPersistedPageShow) {\n        var _e6 = new i(\"identity-manager:user-aborted\", \"ABORTED\");\n\n        this._errbackFunc(_e6);\n      }\n    }\n  }, {\n    key: \"_findCredential\",\n    value: function _findCredential(e, t) {\n      var _this8 = this;\n\n      var s,\n          r,\n          i,\n          n,\n          o = -1;\n      var a = t && t.token,\n          h = t && t.resource,\n          l = this._isServerRsrc(e) ? \"server\" : \"portal\",\n          c = this.credentials.filter(function (t) {\n        return _this8._hasSameServerInstance(t.server, e) && t.scope === l;\n      });\n      if (e = h || e, c.length) if (1 === c.length) {\n        if (s = c[0], n = this.findServerInfo(s.server), r = n && n.owningSystemUrl, i = r && this.findCredential(r, s.userId), o = this._getIdenticalSvcIdx(e, s), !a) return -1 === o && s.resources.push(e), this._addResource(e, i), s;\n        -1 !== o && (s.resources.splice(o, 1), this._removeResource(e, i));\n      } else {\n        var _t5, _s6;\n\n        if (c.some(function (a) {\n          return _s6 = _this8._getIdenticalSvcIdx(e, a), -1 !== _s6 && (_t5 = a, n = _this8.findServerInfo(_t5.server), r = n && n.owningSystemUrl, i = r && _this8.findCredential(r, _t5.userId), o = _s6, !0);\n        }), a) _t5 && (_t5.resources.splice(o, 1), this._removeResource(e, i));else if (_t5) return this._addResource(e, i), _t5;\n      }\n    }\n  }, {\n    key: \"_findOAuthInfo\",\n    value: function _findOAuthInfo(e) {\n      var t = this.findOAuthInfo(e);\n\n      if (!t) {\n        var _iterator6 = _createForOfIteratorHelper(this.oAuthInfos),\n            _step6;\n\n        try {\n          for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n            var _s7 = _step6.value;\n\n            if (this._isIdProvider(_s7.portalUrl, e)) {\n              t = _s7;\n              break;\n            }\n          }\n        } catch (err) {\n          _iterator6.e(err);\n        } finally {\n          _iterator6.f();\n        }\n      }\n\n      return t;\n    }\n  }, {\n    key: \"_addResource\",\n    value: function _addResource(e, t) {\n      t && -1 === this._getIdenticalSvcIdx(e, t) && t.resources.push(e);\n    }\n  }, {\n    key: \"_removeResource\",\n    value: function _removeResource(e, t) {\n      var s = -1;\n      t && (s = this._getIdenticalSvcIdx(e, t), s > -1 && t.resources.splice(s, 1));\n    }\n  }, {\n    key: \"_useProxy\",\n    value: function _useProxy(e, t) {\n      return t && t.isAdmin && !_(e.adminTokenServiceUrl, this._appOrigin) || !this._isPortalDomain(e.tokenServiceUrl) && \"10.1\" === String(e.currentVersion) && !_(e.tokenServiceUrl, this._appOrigin);\n    }\n  }, {\n    key: \"_getOrigin\",\n    value: function _getOrigin(e) {\n      var t = new u(e);\n      return t.scheme + \"://\" + t.host + (null != t.port ? \":\" + t.port : \"\");\n    }\n  }, {\n    key: \"_getServerInstanceRoot\",\n    value: function _getServerInstanceRoot(e) {\n      var t = e.toLowerCase();\n      var s = t.indexOf(this._agsRest);\n      return -1 === s && this._isAdminResource(e) && (s = this._agsAdmin.test(e) ? e.replace(this._agsAdmin, \"$1\").length : e.search(this._adminSvcs)), -1 === s && (s = t.indexOf(\"/sharing\")), -1 === s && \"/\" === t.substr(-1) && (s = t.length - 1), s > -1 ? e.substring(0, s) : e;\n    }\n  }, {\n    key: \"_hasSameServerInstance\",\n    value: function _hasSameServerInstance(e, t) {\n      return \"/\" === e.substr(-1) && (e = e.slice(0, -1)), e = e.toLowerCase(), t = this._getServerInstanceRoot(t).toLowerCase(), e = this._normalizeAGOLorgDomain(e), t = this._normalizeAGOLorgDomain(t), (e = e.substr(e.indexOf(\":\"))) === (t = t.substr(t.indexOf(\":\")));\n    }\n  }, {\n    key: \"_normalizeAGOLorgDomain\",\n    value: function _normalizeAGOLorgDomain(e) {\n      var t = /^https?:\\/\\/(?:cdn|[a-z\\d-]+\\.maps)\\.arcgis\\.com/i,\n          s = /^https?:\\/\\/(?:cdndev|[a-z\\d-]+\\.mapsdevext)\\.arcgis\\.com/i,\n          r = /^https?:\\/\\/(?:cdnqa|[a-z\\d-]+\\.mapsqa)\\.arcgis\\.com/i;\n      return t.test(e) ? e = e.replace(t, \"https://www.arcgis.com\") : s.test(e) ? e = e.replace(s, \"https://devext.arcgis.com\") : r.test(e) && (e = e.replace(r, \"https://qaext.arcgis.com\")), e;\n    }\n  }, {\n    key: \"_sanitizeUrl\",\n    value: function _sanitizeUrl(e) {\n      var s = (t.request.proxyUrl || \"\").toLowerCase(),\n          r = s ? e.toLowerCase().indexOf(s + \"?\") : -1;\n      return -1 !== r && (e = e.substring(r + s.length + 1)), e = f(e), p(e).path;\n    }\n  }, {\n    key: \"_isRESTService\",\n    value: function _isRESTService(e) {\n      return e.indexOf(this._agsRest) > -1;\n    }\n  }, {\n    key: \"_isAdminResource\",\n    value: function _isAdminResource(e) {\n      return this._agsAdmin.test(e) || this._adminSvcs.test(e);\n    }\n  }, {\n    key: \"_isServerRsrc\",\n    value: function _isServerRsrc(e) {\n      return this._isRESTService(e) || this._isAdminResource(e);\n    }\n  }, {\n    key: \"_isIdenticalService\",\n    value: function _isIdenticalService(e, t) {\n      var s;\n\n      if (this._isRESTService(e) && this._isRESTService(t)) {\n        var _r = this._getSuffix(e).toLowerCase(),\n            _i4 = this._getSuffix(t).toLowerCase();\n\n        if (s = _r === _i4, !s) {\n          var _e7 = /(.*)\\/(MapServer|FeatureServer|UtilityNetworkServer).*/gi;\n          s = _r.replace(_e7, \"$1\") === _i4.replace(_e7, \"$1\");\n        }\n      } else this._isAdminResource(e) && this._isAdminResource(t) ? s = !0 : this._isServerRsrc(e) || this._isServerRsrc(t) || !this._isPortalDomain(e) || (s = !0);\n\n      return s;\n    }\n  }, {\n    key: \"_isPortalDomain\",\n    value: function _isPortalDomain(e) {\n      var _this9 = this;\n\n      var s = new u(e.toLowerCase()),\n          r = this._portalConfig;\n\n      var i = this._gwDomains.some(function (e) {\n        return e.regex.test(s.uri);\n      });\n\n      return !i && r && (i = this._hasSameServerInstance(this._getServerInstanceRoot(r.restBaseUrl), s.uri)), i || t.portalUrl && (i = _(s, t.portalUrl, !0)), i || (i = this._portals.some(function (e) {\n        return _this9._hasSameServerInstance(e, s.uri);\n      })), i = i || this._agsPortal.test(s.path), i;\n    }\n  }, {\n    key: \"_isIdProvider\",\n    value: function _isIdProvider(e, t) {\n      var s = -1,\n          r = -1;\n\n      this._gwDomains.forEach(function (i, n) {\n        -1 === s && i.regex.test(e) && (s = n), -1 === r && i.regex.test(t) && (r = n);\n      });\n\n      var i = !1;\n\n      if (s > -1 && r > -1 && (0 === s || 4 === s ? 0 !== r && 4 !== r || (i = !0) : 1 === s ? 1 !== r && 2 !== r || (i = !0) : 2 === s ? 2 === r && (i = !0) : 3 === s && 3 === r && (i = !0)), !i) {\n        var _s8 = this.findServerInfo(t),\n            _r2 = _s8 && _s8.owningSystemUrl;\n\n        _r2 && O(_s8) && this._isPortalDomain(_r2) && this._isIdProvider(e, _r2) && (i = !0);\n      }\n\n      return i;\n    }\n  }, {\n    key: \"_getIdenticalSvcIdx\",\n    value: function _getIdenticalSvcIdx(e, t) {\n      var s = -1;\n\n      for (var _r3 = 0; _r3 < t.resources.length; _r3++) {\n        var _i5 = t.resources[_r3];\n\n        if (this._isIdenticalService(e, _i5)) {\n          s = _r3;\n          break;\n        }\n      }\n\n      return s;\n    }\n  }, {\n    key: \"_getSuffix\",\n    value: function _getSuffix(e) {\n      return e.replace(this._regexSDirUrl, \"\").replace(this._regexServerType, \"$1\");\n    }\n  }, {\n    key: \"_getTokenSvcUrl\",\n    value: function _getTokenSvcUrl(e) {\n      var _this10 = this;\n\n      var t, s, i;\n\n      if (this._isRESTService(e) || this._isAdminResource(e)) {\n        var _i6 = this._getServerInstanceRoot(e);\n\n        return t = _i6 + \"/admin/generateToken\", s = r(e = _i6 + \"/rest/info\", {\n          query: {\n            f: \"json\"\n          }\n        }).then(function (e) {\n          return e.data;\n        }), {\n          adminUrl: t,\n          promise: s\n        };\n      }\n\n      if (this._isPortalDomain(e)) {\n        var _t6 = \"\";\n\n        if (this._gwDomains.some(function (s) {\n          return s.regex.test(e) && (_t6 = s.tokenServiceUrl), !!_t6;\n        }), _t6 || this._portals.some(function (s) {\n          return _this10._hasSameServerInstance(s, e) && (_t6 = s + _this10._gwTokenUrl), !!_t6;\n        }), _t6 || (i = e.toLowerCase().indexOf(\"/sharing\"), -1 !== i && (_t6 = e.substring(0, i) + this._gwTokenUrl)), _t6 || (_t6 = this._getOrigin(e) + this._gwTokenUrl), _t6) {\n          var _s9 = new u(e).port;\n          /^http:\\/\\//i.test(e) && \"7080\" === _s9 && (_t6 = _t6.replace(/:7080/i, \":7443\")), _t6 = _t6.replace(/http:/i, \"https:\");\n        }\n\n        return _t6;\n      }\n\n      if (-1 !== e.toLowerCase().indexOf(\"premium.arcgisonline.com\")) return \"https://premium.arcgisonline.com/server/tokens\";\n    }\n  }, {\n    key: \"_exchangeToken\",\n    value: function _exchangeToken(e, t, s) {\n      return r(\"\".concat(e, \"/sharing/rest/oauth2/exchangeToken\"), {\n        authMode: \"anonymous\",\n        method: \"post\",\n        query: {\n          f: \"json\",\n          client_id: t,\n          token: s\n        }\n      }).then(function (e) {\n        return e.data.token;\n      });\n    }\n  }, {\n    key: \"_getPlatformSelf\",\n    value: function _getPlatformSelf(e, t) {\n      return e = e.replace(/^http:/i, \"https:\"), r(\"\".concat(e, \"/sharing/rest/oauth2/platformSelf\"), {\n        authMode: \"anonymous\",\n        headers: {\n          \"X-Esri-Auth-Client-Id\": t,\n          \"X-Esri-Auth-Redirect-Uri\": window.location.href.replace(/#.*$/, \"\")\n        },\n        method: \"post\",\n        query: {\n          f: \"json\"\n        },\n        withCredentials: !0\n      }).then(function (e) {\n        return e.data;\n      });\n    }\n  }, {\n    key: \"_getPortalSelf\",\n    value: function _getPortalSelf(e, t) {\n      var s;\n      if (this._gwDomains.some(function (t) {\n        return t.regex.test(e) && (s = t.customBaseUrl), !!s;\n      }), s) return Promise.resolve({\n        allSSL: !0,\n        currentVersion: \"4.4\",\n        customBaseUrl: s,\n        portalMode: \"multitenant\",\n        supportsOAuth: !0\n      });\n      this._appOrigin.startsWith(\"https:\") ? e = e.replace(/^http:/i, \"https:\").replace(/:7080/i, \":7443\") : /^http:/i.test(t) && (e = e.replace(/^https:/i, \"http:\").replace(/:7443/i, \":7080\"));\n      return r(e, {\n        query: {\n          f: \"json\"\n        },\n        authMode: \"anonymous\",\n        withCredentials: !0\n      }).then(function (e) {\n        return e.data;\n      });\n    }\n  }, {\n    key: \"_doPortalSignIn\",\n    value: function _doPortalSignIn(e) {\n      var t = this._portalConfig,\n          s = window.location.href,\n          r = this.findServerInfo(e);\n      return !(!t && !this._isPortalDomain(s) || !(r ? r.hasPortal || r.owningSystemUrl && this._isPortalDomain(r.owningSystemUrl) : this._isPortalDomain(e)) || !(this._isIdProvider(s, e) || t && (this._hasSameServerInstance(this._getServerInstanceRoot(t.restBaseUrl), e) || this._isIdProvider(t.restBaseUrl, e)) || _(s, e, !0)));\n    }\n  }, {\n    key: \"_checkProtocol\",\n    value: function _checkProtocol(e, t, s, r) {\n      var n = !0;\n      var o = r ? t.adminTokenServiceUrl : t.tokenServiceUrl;\n\n      if (o.trim().toLowerCase().startsWith(\"https:\") && !this._appOrigin.startsWith(\"https:\") && m(o) && (n = !!this._protocolFunc && !!this._protocolFunc({\n        resourceUrl: e,\n        serverInfo: t\n      }), !n)) {\n        s(new i(\"identity-manager:aborted\", \"Aborted the Sign-In process to avoid sending password over insecure connection.\"));\n      }\n\n      return n;\n    }\n  }, {\n    key: \"_enqueue\",\n    value: function _enqueue(e, t, s, r, i, n) {\n      return r || (r = l()), r.resUrl_ = e, r.sinfo_ = t, r.options_ = s, r.admin_ = i, r.refresh_ = n, this._busy ? this._hasSameServerInstance(this._getServerInstanceRoot(e), this._busy.resUrl_) ? (this._oAuthDfd && this._oAuthDfd.oAuthWin_ && this._oAuthDfd.oAuthWin_.focus(), this._soReqs.push(r)) : this._xoReqs.push(r) : this._doSignIn(r), r.promise;\n    }\n  }, {\n    key: \"_doSignIn\",\n    value: function _doSignIn(e) {\n      var _this11 = this;\n\n      this._busy = e, this._rejectOnPersistedPageShow = !1;\n\n      var t = function t(_t7) {\n        var s = e.options_ && e.options_.resource,\n            r = e.resUrl_,\n            i = e.refresh_;\n        var n = !1;\n        -1 === _this11.credentials.indexOf(_t7) && (i && -1 !== _this11.credentials.indexOf(i) ? (i.userId = _t7.userId, i.token = _t7.token, i.expires = _t7.expires, i.validity = _t7.validity, i.ssl = _t7.ssl, i.creationTime = _t7.creationTime, n = !0, _t7 = i) : _this11.credentials.push(_t7)), _t7.resources || (_t7.resources = []), _t7.resources.push(s || r), _t7.scope = _this11._isServerRsrc(r) ? \"server\" : \"portal\", _t7.emitTokenChange();\n        var o = _this11._soReqs,\n            a = {};\n        _this11._soReqs = [], o.forEach(function (e) {\n          if (!_this11._isIdenticalService(r, e.resUrl_)) {\n            var _s10 = _this11._getSuffix(e.resUrl_);\n\n            a[_s10] || (a[_s10] = !0, _t7.resources.push(e.resUrl_));\n          }\n        }), e.resolve(_t7), o.forEach(function (e) {\n          _this11._hasSameServerInstance(_this11._getServerInstanceRoot(r), e.resUrl_) ? e.resolve(_t7) : _this11._soReqs.push(e);\n        }), _this11._busy = e.resUrl_ = e.sinfo_ = e.refresh_ = null, n || _this11.emit(\"credential-create\", {\n          credential: _t7\n        }), _this11._soReqs.length ? _this11._doSignIn(_this11._soReqs.shift()) : _this11._xoReqs.length && _this11._doSignIn(_this11._xoReqs.shift());\n      },\n          s = function s(t) {\n        e.reject(t), _this11._busy = e.resUrl_ = e.sinfo_ = e.refresh_ = null, _this11._soReqs.length ? _this11._doSignIn(_this11._soReqs.shift()) : _this11._xoReqs.length && _this11._doSignIn(_this11._xoReqs.shift());\n      },\n          r = function r(_r8, n, a, h) {\n        var l, d;\n\n        var u = e.sinfo_,\n            p = !e.options_ || !1 !== e.options_.prompt,\n            g = u.hasPortal && _this11._findOAuthInfo(e.resUrl_);\n\n        var f, m;\n        if (_r8) t(new D({\n          userId: _r8,\n          server: u.server,\n          token: a || null,\n          expires: null != h ? Number(h) : null,\n          ssl: !!n\n        }));else if (window !== window.parent && null != (l = _this11._appUrlObj.query) && l[\"arcgis-auth-origin\"] && null != (d = _this11._appUrlObj.query) && d[\"arcgis-auth-portal\"] && _this11._hasSameServerInstance(_this11._getServerInstanceRoot(_this11._appUrlObj.query[\"arcgis-auth-portal\"]), e.resUrl_)) {\n          var v;\n          window.parent.postMessage({\n            type: \"arcgis:auth:requestCredential\"\n          }, _this11._appUrlObj.query[\"arcgis-auth-origin\"]);\n\n          var _r4 = o(window, \"message\", function (e) {\n            e.source === window.parent && e.data && (\"arcgis:auth:credential\" === e.data.type ? (_r4.remove(), e.data.credential.expires < Date.now() ? s(new i(\"identity-manager:credential-request-failed\", \"Parent application's token has expired.\")) : t(new D(e.data.credential))) : \"arcgis:auth:error\" === e.data.type && (_r4.remove(), \"tokenExpiredError\" === e.data.error.name ? s(new i(\"identity-manager:credential-request-failed\", \"Parent application's token has expired.\")) : s(i.fromJSON(e.data.error))));\n          });\n\n          c(null == (v = e.options_) ? void 0 : v.signal, function () {\n            _r4.remove();\n          });\n        } else if (g) {\n          var _r5 = g._oAuthCred;\n\n          if (!_r5) {\n            var _e8 = new y(g, b),\n                _t8 = new y(g, P);\n\n            _e8.isValid() && _t8.isValid() ? _e8.expires > _t8.expires ? (_r5 = _e8, _t8.destroy()) : (_r5 = _t8, _e8.destroy()) : _r5 = _e8.isValid() ? _e8 : _t8, g._oAuthCred = _r5;\n          }\n\n          if (_r5.isValid()) f = new D({\n            userId: _r5.userId,\n            server: u.server,\n            token: _r5.token,\n            expires: _r5.expires,\n            ssl: _r5.ssl,\n            _oAuthCred: _r5\n          }), g.appId !== _r5.appId && _this11._doPortalSignIn(e.resUrl_) ? e._pendingDfd = _this11._exchangeToken(f.server, g.appId, f.token).then(function (e) {\n            f.token = e, _r5.token = e, _r5.save(), t(f);\n          }).catch(function () {\n            t(f);\n          }) : t(f);else if (_this11._oAuthHash && _this11._hasSameServerInstance(g.portalUrl, _this11._oAuthHash.state.portalUrl)) {\n            var _e9 = _this11._oAuthHash;\n            f = new D({\n              userId: _e9.username,\n              server: u.server,\n              token: _e9.access_token,\n              expires: Date.now() + 1e3 * Number(_e9.expires_in),\n              ssl: \"true\" === _e9.ssl,\n              oAuthState: _e9.state,\n              _oAuthCred: _r5\n            }), g.userId = f.userId, _r5.storage = _e9.persist ? b : P, _r5.token = f.token, _r5.expires = f.expires, _r5.userId = f.userId, _r5.ssl = f.ssl, _r5.save(), _this11._oAuthHash = null, t(f);\n          } else {\n            var _r6 = function _r6() {\n              p ? e._pendingDfd = _this11.oAuthSignIn(e.resUrl_, u, g, e.options_).then(t, s) : (m = new i(\"identity-manager:not-authenticated\", \"User is not signed in.\"), s(m));\n            };\n\n            _this11._doPortalSignIn(e.resUrl_) ? e._pendingDfd = _this11._getPlatformSelf(u.server, g.appId).then(function (_ref) {\n              var e = _ref.portalUrl,\n                  s = _ref.token,\n                  i = _ref.username;\n              !e || _(e, _this11._appOrigin, !0) ? (f = new D({\n                server: u.server,\n                userId: i,\n                token: s\n              }), t(f)) : _r6();\n            }).catch(_r6) : _r6();\n          }\n        } else if (p) {\n          if (_this11._checkProtocol(e.resUrl_, u, s, e.admin_)) {\n            var _r7 = e.options_;\n            e.admin_ && (_r7 = _r7 || {}, _r7.isAdmin = !0), e._pendingDfd = _this11.signIn(e.resUrl_, u, _r7).then(t, s);\n          }\n        } else m = new i(\"identity-manager:not-authenticated\", \"User is not signed in.\"), s(m);\n      },\n          n = function n() {\n        var r = e.sinfo_,\n            i = r.owningSystemUrl,\n            n = e.options_;\n        var o, a, h, l;\n\n        if (n && (o = n.token, a = n.error, h = n.prompt), l = _this11._findCredential(i, {\n          token: o,\n          resource: e.resUrl_\n        }), !l) {\n          var _iterator7 = _createForOfIteratorHelper(_this11.credentials),\n              _step7;\n\n          try {\n            for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n              var _e10 = _step7.value;\n\n              if (_this11._isIdProvider(i, _e10.server)) {\n                l = _e10;\n                break;\n              }\n            }\n          } catch (err) {\n            _iterator7.e(err);\n          } finally {\n            _iterator7.f();\n          }\n        }\n\n        if (l) {\n          var _i7 = _this11.findCredential(e.resUrl_, l.userId);\n\n          if (_i7) t(_i7);else if (R(r, _this11._legacyFed)) {\n            var _e11 = l.toJSON();\n\n            _e11.server = r.server, _e11.resources = null, t(new D(_e11));\n          } else {\n            (e._pendingDfd = _this11.generateToken(_this11.findServerInfo(l.server), null, {\n              serverUrl: e.resUrl_,\n              token: l.token,\n              signal: e.options_.signal,\n              ssl: l.ssl\n            })).then(function (s) {\n              t(new D({\n                userId: l.userId,\n                server: r.server,\n                token: s.token,\n                expires: null != s.expires ? Number(s.expires) : null,\n                ssl: !!s.ssl,\n                isAdmin: e.admin_,\n                validity: s.validity\n              }));\n            }, s);\n          }\n        } else {\n          _this11._busy = null, o && (e.options_.token = null);\n\n          (e._pendingDfd = _this11.getCredential(i.replace(/\\/?$/, \"/sharing\"), {\n            resource: e.resUrl_,\n            owningTenant: r.owningTenant,\n            signal: e.options_.signal,\n            token: o,\n            error: a,\n            prompt: h\n          })).then(function () {\n            _this11._enqueue(e.resUrl_, e.sinfo_, e.options_, e, e.admin_);\n          }, function (t) {\n            e.resUrl_ = e.sinfo_ = e.refresh_ = null, e.reject(t);\n          });\n        }\n      };\n\n      this._errbackFunc = s;\n\n      var a = e.sinfo_.owningSystemUrl,\n          l = this._isServerRsrc(e.resUrl_),\n          d = e.sinfo_._restInfoPms;\n\n      d ? d.promise.then(function (t) {\n        var s = e.sinfo_;\n\n        if (s._restInfoPms) {\n          s.adminTokenServiceUrl = s._restInfoPms.adminUrl, s._restInfoPms = null, s.tokenServiceUrl = h(\"authInfo.tokenServicesUrl\", t) || h(\"authInfo.tokenServiceUrl\", t) || h(\"tokenServiceUrl\", t), s.shortLivedTokenValidity = h(\"authInfo.shortLivedTokenValidity\", t), s.currentVersion = t.currentVersion, s.owningTenant = t.owningTenant;\n\n          var _e12 = s.owningSystemUrl = t.owningSystemUrl;\n\n          _e12 && _this11._portals.push(_e12);\n        }\n\n        l && s.owningSystemUrl ? n() : r();\n      }, function () {\n        e.sinfo_._restInfoPms = null;\n        var t = new i(\"identity-manager:server-identification-failed\", \"Unknown resource - could not find token service endpoint.\");\n        s(t);\n      }) : l && a ? n() : e.sinfo_._selfReq ? e.sinfo_._selfReq.selfDfd.then(function (t) {\n        var s = {};\n        var r, i, n, o;\n        return t && (r = t.user && t.user.username, s.username = r, s.allSSL = t.allSSL, i = t.supportsOAuth, n = t.currentVersion, \"multitenant\" === t.portalMode && (o = t.customBaseUrl)), e.sinfo_.webTierAuth = !!r, r && _this11.normalizeWebTierAuth ? _this11.generateToken(e.sinfo_, null, {\n          ssl: s.allSSL\n        }).catch(function () {\n          return null;\n        }).then(function (e) {\n          return s.portalToken = e && e.token, s.tokenExpiration = e && e.expires, s;\n        }) : !r && i && parseFloat(n) >= 4.4 && !_this11._findOAuthInfo(e.resUrl_) ? _this11._generateOAuthInfo({\n          portalUrl: e.sinfo_.server,\n          customBaseUrl: o,\n          owningTenant: e.sinfo_._selfReq.owningTenant\n        }).catch(function () {\n          return null;\n        }).then(function () {\n          return s;\n        }) : s;\n      }).catch(function () {\n        return null;\n      }).then(function (t) {\n        e.sinfo_._selfReq = null, t ? r(t.username, t.allSSL, t.portalToken, t.tokenExpiration) : r();\n      }) : r();\n    }\n  }, {\n    key: \"_generateOAuthInfo\",\n    value: function _generateOAuthInfo(e) {\n      var _this12 = this;\n\n      var t,\n          s,\n          i = e.portalUrl;\n      var n = e.customBaseUrl,\n          o = e.owningTenant,\n          a = !this.defaultOAuthInfo && this._createDefaultOAuthInfo && !this._hasTestedIfAppIsOnPortal;\n\n      if (a) {\n        s = window.location.href;\n\n        var _e13 = s.indexOf(\"?\");\n\n        _e13 > -1 && (s = s.slice(0, _e13)), _e13 = s.search(/\\/(apps|home)\\//), s = _e13 > -1 ? s.slice(0, _e13) : null;\n      }\n\n      return a && s ? (this._hasTestedIfAppIsOnPortal = !0, t = r(s + \"/sharing/rest\", {\n        query: {\n          f: \"json\"\n        }\n      }).then(function () {\n        _this12.defaultOAuthInfo = new U({\n          appId: \"arcgisonline\",\n          popupCallbackUrl: s + \"/home/oauth-callback.html\"\n        });\n      })) : t = Promise.resolve(), t.then(function () {\n        if (_this12.defaultOAuthInfo) return i = i.replace(/^http:/i, \"https:\"), r(i + \"/sharing/rest/oauth2/validateRedirectUri\", {\n          query: {\n            accountId: o,\n            client_id: _this12.defaultOAuthInfo.appId,\n            redirect_uri: v(_this12.defaultOAuthInfo.popupCallbackUrl),\n            f: \"json\"\n          }\n        }).then(function (e) {\n          if (e.data.valid) {\n            var _t9 = _this12.defaultOAuthInfo.clone();\n\n            e.data.urlKey && n ? _t9.portalUrl = \"https://\" + e.data.urlKey.toLowerCase() + \".\" + n : _t9.portalUrl = i, _t9.popup = window !== window.top || !(_(i, _this12._appOrigin) || _this12._gwDomains.some(function (e) {\n              return e.regex.test(i) && e.regex.test(_this12._appOrigin);\n            })), _this12.oAuthInfos.push(_t9);\n          }\n        });\n      });\n    }\n  }, {\n    key: \"_doOAuthSignIn\",\n    value: function _doOAuthSignIn(e, t, s) {\n      var _this13 = this;\n\n      var r = {\n        portalUrl: s.portalUrl\n      };\n      !s.popup && s.preserveUrlHash && window.location.hash && (r.hash = window.location.hash);\n      var n = {\n        client_id: s.appId,\n        response_type: \"token\",\n        state: JSON.stringify(r),\n        expiration: s.expiration,\n        locale: s.locale,\n        redirect_uri: s.popup ? v(s.popupCallbackUrl) : window.location.href.replace(/#.*$/, \"\")\n      };\n      s.forceLogin && (n.force_login = !0), s.forceUserId && s.userId && (n.prepopulatedusername = s.userId), !s.popup && this._doPortalSignIn(e) && (n.redirectToUserOrgUrl = !0);\n      var a = s.portalUrl.replace(/^http:/i, \"https:\") + \"/sharing/oauth2/authorize\",\n          h = a + \"?\" + S(n);\n\n      if (s.popup) {\n        var _e14 = window.open(h, \"esriJSAPIOAuth\", s.popupWindowFeatures);\n\n        if (_e14) _e14.focus(), this._oAuthDfd.oAuthWin_ = _e14, this._oAuthIntervalId = setInterval(function () {\n          if (_e14.closed) {\n            clearInterval(_this13._oAuthIntervalId), _this13._oAuthOnHashHandle.remove();\n            var _e15 = _this13._oAuthDfd;\n\n            if (_e15) {\n              var _t10 = new i(\"identity-manager:user-aborted\", \"ABORTED\");\n\n              _e15.reject(_t10);\n            }\n          }\n        }, 500), this._oAuthOnHashHandle = o(window, \"arcgis:auth:hash\", function (e) {\n          _this13.setOAuthResponseHash(e.detail);\n        });else {\n          var _e16 = new i(\"identity-manager:popup-blocked\", \"ABORTED\");\n\n          this._oAuthDfd.reject(_e16);\n        }\n      } else this._rejectOnPersistedPageShow = !0, this._oAuthRedirectFunc ? this._oAuthRedirectFunc({\n        authorizeParams: n,\n        authorizeUrl: a,\n        resourceUrl: e,\n        serverInfo: t,\n        oAuthInfo: s\n      }) : window.location.href = h;\n    }\n  }]);\n\n  return C;\n}(n);\n\nC.prototype.declaredClass = \"esri.identity.IdentityManagerBase\";\n\nvar D = /*#__PURE__*/function (_n$EventedAccessor) {\n  _inherits(D, _n$EventedAccessor);\n\n  var _super2 = _createSuper(D);\n\n  function D(e) {\n    var _this14;\n\n    _classCallCheck(this, D);\n\n    _this14 = _super2.call(this, e), _this14._oAuthCred = null, _this14.tokenRefreshBuffer = 2, e && e._oAuthCred && (_this14._oAuthCred = e._oAuthCred);\n    return _this14;\n  }\n\n  _createClass(D, [{\n    key: \"initialize\",\n    value: function initialize() {\n      this.resources = this.resources || [], null == this.creationTime && (this.creationTime = Date.now());\n    }\n  }, {\n    key: \"refreshToken\",\n    value: function refreshToken() {\n      var _this15 = this;\n\n      var e = s.findServerInfo(this.server),\n          t = e && e.owningSystemUrl,\n          r = !!t && \"server\" === this.scope,\n          i = r && R(e, s._legacyFed),\n          n = e.webTierAuth,\n          o = n && s.normalizeWebTierAuth,\n          a = T[this.server],\n          h = a && a[this.userId];\n      var l,\n          c = this.resources && this.resources[0],\n          d = r && s.findServerInfo(t),\n          u = {\n        username: this.userId,\n        password: h\n      };\n      if (n && !o) return;\n      r && !d && s.serverInfos.some(function (e) {\n        return s._isIdProvider(t, e.server) && (d = e), !!d;\n      });\n      var p = d && s.findCredential(d.server, this.userId);\n\n      if (!r || p) {\n        if (!i) {\n          if (r) l = {\n            serverUrl: c,\n            token: p && p.token,\n            ssl: p && p.ssl\n          };else if (o) u = null, l = {\n            ssl: this.ssl\n          };else {\n            if (!h) {\n              var _t11;\n\n              return c && (c = s._sanitizeUrl(c), this._enqueued = 1, _t11 = s._enqueue(c, e, null, null, this.isAdmin, this), _t11.then(function () {\n                _this15._enqueued = 0, _this15.refreshServerTokens();\n              }).catch(function () {\n                _this15._enqueued = 0;\n              })), _t11;\n            }\n\n            this.isAdmin && (l = {\n              isAdmin: !0\n            });\n          }\n          return s.generateToken(r ? d : e, r ? null : u, l).then(function (e) {\n            _this15.token = e.token, _this15.expires = null != e.expires ? Number(e.expires) : null, _this15.creationTime = Date.now(), _this15.validity = e.validity, _this15.emitTokenChange(), _this15.refreshServerTokens();\n          }).catch(function () {});\n        }\n\n        p.refreshToken();\n      }\n    }\n  }, {\n    key: \"refreshServerTokens\",\n    value: function refreshServerTokens() {\n      var _this16 = this;\n\n      \"portal\" === this.scope && s.credentials.forEach(function (e) {\n        var t = s.findServerInfo(e.server),\n            r = t && t.owningSystemUrl;\n        e !== _this16 && e.userId === _this16.userId && r && \"server\" === e.scope && (s._hasSameServerInstance(_this16.server, r) || s._isIdProvider(r, _this16.server)) && (R(t, s._legacyFed) ? (e.token = _this16.token, e.expires = _this16.expires, e.creationTime = _this16.creationTime, e.validity = _this16.validity, e.emitTokenChange()) : e.refreshToken());\n      });\n    }\n  }, {\n    key: \"emitTokenChange\",\n    value: function emitTokenChange(e) {\n      clearTimeout(this._refreshTimer);\n      var t = this.server && s.findServerInfo(this.server),\n          r = t && t.owningSystemUrl,\n          i = r && s.findServerInfo(r);\n      !1 === e || r && \"portal\" !== this.scope && (!i || !i.webTierAuth || s.normalizeWebTierAuth) || null == this.expires && null == this.validity || this._startRefreshTimer(), this.emit(\"token-change\");\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.userId = this.server = this.token = this.expires = this.validity = this.resources = this.creationTime = null, this._oAuthCred && (this._oAuthCred.destroy(), this._oAuthCred = null);\n      var e = s.credentials.indexOf(this);\n      e > -1 && s.credentials.splice(e, 1), this.emitTokenChange(), this.emit(\"destroy\");\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      var e = a({\n        userId: this.userId,\n        server: this.server,\n        token: this.token,\n        expires: this.expires,\n        validity: this.validity,\n        ssl: this.ssl,\n        isAdmin: this.isAdmin,\n        creationTime: this.creationTime,\n        scope: this.scope\n      }),\n          t = this.resources;\n      return t && t.length > 0 && (e.resources = t.slice()), e;\n    }\n  }, {\n    key: \"_startRefreshTimer\",\n    value: function _startRefreshTimer() {\n      clearTimeout(this._refreshTimer);\n      var e = 6e4 * this.tokenRefreshBuffer,\n          t = Math.pow(2, 31) - 1;\n      var s = (this.validity ? this.creationTime + 6e4 * this.validity : this.expires) - Date.now();\n      s < 0 ? s = 0 : s > t && (s = t), this._refreshTimer = setTimeout(this.refreshToken.bind(this), s > e ? s - e : s);\n    }\n  }]);\n\n  return D;\n}(n.EventedAccessor);\n\ne([w()], D.prototype, \"creationTime\", void 0), e([w()], D.prototype, \"expires\", void 0), e([w()], D.prototype, \"isAdmin\", void 0), e([w()], D.prototype, \"oAuthState\", void 0), e([w()], D.prototype, \"resources\", void 0), e([w()], D.prototype, \"scope\", void 0), e([w()], D.prototype, \"server\", void 0), e([w()], D.prototype, \"ssl\", void 0), e([w()], D.prototype, \"token\", void 0), e([w()], D.prototype, \"tokenRefreshBuffer\", void 0), e([w()], D.prototype, \"userId\", void 0), e([w()], D.prototype, \"validity\", void 0), D = e([I(\"esri.identity.Credential\")], D);\nexport { D as Credential, C as IdentityManagerBase };","import _createClass from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _classCallCheck from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _inherits from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport { setId as e } from \"../kernel.js\";\nimport { IdentityManagerBase as t } from \"./IdentityManagerBase.js\";\n\nvar r = /*#__PURE__*/function (_t) {\n  _inherits(r, _t);\n\n  var _super = _createSuper(r);\n\n  function r() {\n    _classCallCheck(this, r);\n\n    return _super.apply(this, arguments);\n  }\n\n  return _createClass(r);\n}(t);\n\nr.prototype.declaredClass = \"esri.identity.IdentityManager\";\nvar s = new r();\ne(s);\nexport { s as default };"],"names":["_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","prototype","valueOf","call","e","_isNativeReflectConstruct","result","Super","NewTarget","this","constructor","arguments","apply","a","p","_o","_super","s","_this","_usernameInputNode","_passwordInputNode","messages","signingIn","server","resource","error","oAuthPrompt","key","value","t","o","n","_p","d","u","class","oAuthInfo","info","test","concat","lblItem","c","lblUser","required","autocomplete","spellcheck","type","bind","afterCreate","m","lblPwd","h","classes","disabled","lblSigning","lblOk","lblCancel","onclick","_cancel","g","details","httpStatus","invalidUser","noAuthService","onsubmit","_submit","_set","emit","preventDefault","username","password","candidateSelectors","candidateSelector","join","matches","Element","msMatchesSelector","webkitMatchesSelector","getCandidates","el","includeContainer","filter","candidates","Array","slice","querySelectorAll","unshift","getTabindex","node","tabindexAttr","parseInt","getAttribute","isNaN","contentEditable","isContentEditable","nodeName","tabIndex","sortOrderedTabbables","b","documentOrder","isInput","tagName","isNonTabbableRadio","isRadio","name","radioSet","radioScope","form","ownerDocument","queryRadios","window","CSS","escape","err","console","message","checked","nodes","i","length","getCheckedRadio","isTabbableRadio","isNodeMatchingSelectorFocusable","options","isHiddenInput","displayCheck","getComputedStyle","visibility","nodeUnderDetails","parentElement","_node$getBoundingClie","getBoundingClientRect","width","height","display","isHidden","children","some","child","isDetailsWithSummary","parentNode","item","contains","isDisabledFromFieldset","isNodeMatchingSelectorTabbable","isTabbable","Error","focusableCandidateSelector","isFocusable","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","enumerable","push","_defineProperty","obj","defineProperty","configurable","writable","trapQueue","activeFocusTraps","activateTrap","trap","activeTrap","pause","trapIndex","indexOf","splice","deactivateTrap","unpause","delay","fn","setTimeout","findIndex","arr","idx","every","valueOrHandler","_len","params","_key","getActualTarget","event","target","shadowRoot","composedPath","createFocusTrap","elements","userOptions","doc","document","config","source","forEach","getOwnPropertyDescriptors","defineProperties","_objectSpread2","returnFocusOnDeactivate","escapeDeactivates","delayInitialFocus","state","containers","tabbableGroups","nodeFocusedBeforeActivation","mostRecentlyFocusedNode","active","paused","delayInitialFocusTimer","undefined","getOption","configOverrideOptions","optionName","configOptionName","containersContain","element","container","getNodeForOption","optionValue","_len2","_key2","querySelector","getInitialFocusNode","activeElement","firstTabbableGroup","firstTabbableNode","updateTabbableNodes","map","tabbableNodes","regularTabbables","orderedTabbables","candidate","candidateTabindex","sort","tabbable","focusableNodes","lastTabbableNode","nextTabbableNode","forward","nodeIdx","find","reverse","group","tryFocus","focus","preventScroll","toLowerCase","select","isSelectableInput","getReturnFocusNode","previousActiveElement","checkPointerDown","clickOutsideDeactivates","deactivate","returnFocus","allowOutsideClick","checkFocusIn","targetContained","Document","stopImmediatePropagation","checkKey","keyCode","isEscapeEvent","isTabEvent","destinationNode","containerIndex","_ref","containerGroup","shiftKey","startOfGroupIndex","_ref2","destinationGroupIndex","lastOfGroupIndex","_ref3","_destinationGroupIndex","checkTab","checkClick","addListeners","addEventListener","capture","passive","removeListeners","removeEventListener","activate","activateOptions","onActivate","onPostActivate","checkCanFocusTrap","finishActivation","then","deactivateOptions","clearTimeout","onDeactivate","onPostDeactivate","checkCanReturnFocus","finishDeactivation","updateContainerElements","containerElements","elementsAsArray","_i","createElement","content","open","_close","body","appendChild","own","watch","_toggleFocusTrap","_destroyFocusTrap","_n","id","title","r","close","_d","role","_createFocusTrap","_renderContent","_focusTrap","_this2","requestAnimationFrame","initialFocus","cancelAnimationFrame","innerHTML","render","HTMLElement","_attachToNode","readOnly","aliasOf","_s","storage","appId","expires","ssl","token","userId","_init","_s8","Date","now","minTimeUntilExpiration","_s3","_load","authNamespace","portalUrl","setItem","JSON","stringify","log","_s4","_t","replace","_s9","FormData","append","navigator","sendBeacon","_e","XMLHttpRequest","send","_oAuthCred","_s6","_s7","getItem","parse","declaredClass","expiration","forceLogin","forceUserId","locale","popup","popupCallbackUrl","popupWindowFeatures","preserveUrlHash","fromJSON","toJSON","json","write","_r","adminTokenServiceUrl","currentVersion","hasPortal","hasServer","owningSystemUrl","owningTenant","shortLivedTokenValidity","tokenServiceUrl","webTierAuth","_objectSpread","_createForOfIteratorHelper","allowArrayLike","it","Symbol","iterator","isArray","minLen","_arrayLikeToArray","toString","from","_unsupportedIterableToArray","F","done","_e17","f","TypeError","normalCompletion","didErr","step","next","_e18","return","len","arr2","T","O","host","R","P","localStorage","sessionStorage","_unused","C","_portalConfig","globalThis","esriGeowConfig","serverInfos","oAuthInfos","credentials","_soReqs","_xoReqs","_portals","defaultOAuthInfo","defaultTokenValidity","dialog","formConstructor","tokenValidity","normalizeWebTierAuth","_appOrigin","origin","location","_appUrlObj","href","_busy","_rejectOnPersistedPageShow","_oAuthHash","_gwTokenUrl","_agsRest","_agsPortal","_agsAdmin","_adminSvcs","_gwDomains","regex","customBaseUrl","_legacyFed","_regexSDirUrl","_regexServerType","_gwUser","_gwItem","_gwGroup","_rePortalTokenSvc","_createDefaultOAuthInfo","_hasTestedIfAppIsOnPortal","_getOAuthHash","_pageShowHandler","findServerInfo","_step","_iterator","findOAuthInfo","_sanitizeUrl","_isServerRsrc","_getServerInstanceRoot","_getTokenSvcUrl","registerServers","_findCredential","assign","D","scope","resources","emitTokenChange","refreshServerTokens","_this3","_e2","_e3","registerOAuthInfos","_step2","_iterator2","_s2","_hasSameServerInstance","_step3","_iterator3","_step4","_iterator4","_step5","_iterator5","_i2","_getIdenticalSvcIdx","prompt","AbortController","signal","abort","reject","promise","_isAdminResource","findCredential","destroy","resolve","_restInfoPms","_selfReq","selfDfd","_getPortalSelf","_enqueue","_isRESTService","l","isAdmin","serverUrl","customParameters","scheme","uri","port","v","query","request","referer","client","method","authMode","useProxy","_useProxy","ioArgs","withCredentials","data","validity","checkAppAccess","credential","_this4","getCredential","_doPortalSignIn","force","client_id","valid","viewOnlyUserTypeApp","catch","viewOnly","_oAuthDfd","clearInterval","_oAuthIntervalId","_oAuthOnHashHandle","remove","charAt","substring","_e4","_t2","error_description","_e5","sinfo_","_t3","oinfo_","_i3","_n2","access_token","Number","expires_in","persist","save","_oAuthRedirectFunc","_protocolFunc","_this5","getResourceName","on","generateToken","_this6","oAuthWin_","closed","resUrl_","oAuthPopupConfirmation","_doOAuthSignIn","_","_this7","_postMessageAuthHandle","endsWith","postMessage","hash","_t4","_s5","hasOwnProperty","_unused2","persisted","isBusy","_e6","_errbackFunc","_this8","_addResource","_removeResource","_t5","_step6","_iterator6","_isIdProvider","_isPortalDomain","String","search","substr","_normalizeAGOLorgDomain","path","_getSuffix","_i4","_e7","_this9","restBaseUrl","_r2","_r3","_i5","_isIdenticalService","_this10","_i6","adminUrl","_t6","_getOrigin","headers","Promise","allSSL","portalMode","supportsOAuth","startsWith","trim","resourceUrl","serverInfo","options_","admin_","refresh_","_doSignIn","_this11","_t7","creationTime","_s10","shift","_r8","_findOAuthInfo","parent","_r4","_r5","_e8","_t8","isValid","_pendingDfd","_exchangeToken","_e9","oAuthState","_r6","oAuthSignIn","_getPlatformSelf","_checkProtocol","_r7","signIn","_step7","_iterator7","_e10","_i7","_e11","_e12","user","portalToken","tokenExpiration","parseFloat","_generateOAuthInfo","_this12","_e13","accountId","redirect_uri","_t9","clone","urlKey","top","_this13","response_type","force_login","prepopulatedusername","redirectToUserOrgUrl","_e14","setInterval","_e15","_t10","setOAuthResponseHash","detail","_e16","authorizeParams","authorizeUrl","_n$EventedAccessor","_super2","_this14","tokenRefreshBuffer","_this15","_t11","_enqueued","refreshToken","_this16","_refreshTimer","_startRefreshTimer","Math","pow"],"sourceRoot":""}