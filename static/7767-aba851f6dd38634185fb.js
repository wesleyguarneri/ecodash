"use strict";(self.webpackChunkenergy_and_water_dashboard=self.webpackChunkenergy_and_water_dashboard||[]).push([[7767],{77767:function(e,t,r){r.r(t),r.d(t,{default:function(){return w}});var n=r(4942),i=r(15671),a=r(43144),s=r(11752),o=r(60136),u=r(6215),c=r(61120),l=r(83195),y=r(10173),f=r(83241),p=(r(75571),r(64003),r(43079),r(33682),r(97182),r(30732)),h=r(31910);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,c.Z)(e);if(t){var i=(0,c.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,u.Z)(this,r)}}var O=function(e){(0,o.Z)(r,e);var t=v(r);function r(){return(0,i.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"initialize",value:function(){var e=this;this.handles.add([(0,f.S1)(this.view,"viewpoint",(function(){return e._update()}))])}},{key:"_injectOverrides",value:function(e){var t=(0,s.Z)((0,c.Z)(r.prototype),"_injectOverrides",this).call(this,e),n=this.view.scale,i=this.layer.sublayers.filter((function(e){return function(e,t){return!e.visible||0!==e.minScale&&t>e.minScale||0!==e.maxScale&&t<e.maxScale}(e,n)})).map((function(e){return e.subtypeCode}));if(!i.length)return t;t=(0,y.pC)(t)?t:(new h.Z).toJSON();var a="NOT ".concat(this.layer.subtypeField," IN (").concat(i.join(","),")");return t.where=t.where?"(".concat(t.where,") AND (").concat(a,")"):a,t}},{key:"_setLayersForFeature",value:function(e){var t=this.layer.fieldsIndex.get(this.layer.subtypeField),r=e.attributes[t.name],n=this.layer.sublayers.find((function(e){return e.subtypeCode===r}));e.layer=n,e.sourceLayer=this.layer}},{key:"_createSchemaConfig",value:function(){var e=this,t={subtypeField:this.layer.subtypeField,sublayers:Array.from(this.layer.sublayers).map((function(t){return{featureReduction:null,geometryType:e.layer.geometryType,labelingInfo:t.labelingInfo,labelsVisible:t.labelsVisible,renderer:t.renderer,subtypeCode:t.subtypeCode,orderBy:null}}))},n=this.layer.sublayers.map((function(e){return e.subtypeCode})).join(","),i=this.layer.sublayers.length?"".concat(this.layer.subtypeField," IN (").concat(n,")"):"1=2",a=this.layer.definitionExpression?this.layer.definitionExpression+" AND ":"";return a+=i,d(d(d({},(0,s.Z)((0,c.Z)(r.prototype),"_createSchemaConfig",this).call(this)),t),{},{definitionExpression:a})}}]),r}(r(67275).default),w=O=(0,l._)([(0,p.j)("esri.views.2d.layers.SubtypeGroupLayerView2D")],O)}}]);
//# sourceMappingURL=7767-aba851f6dd38634185fb.js.map