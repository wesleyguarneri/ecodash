{"version":3,"file":"354-ab6fee0102f366c18cc1.js","mappings":"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","sources":["webpack://energy-and-water-dashboard/./node_modules/@arcgis/core/layers/graphics/editingSupport.js"],"sourcesContent":["import _defineProperty from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _asyncToGenerator from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport _regeneratorRuntime from \"/Users/weslee_guarneri/Desktop/dashboard-new/node_modules/@babel/runtime/regenerator/index.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from \"../../Graphic.js\";\nimport t from \"../../core/Collection.js\";\nimport a from \"../../core/Error.js\";\nimport { clone as r } from \"../../core/lang.js\";\nimport { isSome as i } from \"../../core/maybe.js\";\nimport { dataComponents as s } from \"../../core/urlUtils.js\";\nimport { normalizeCentralMeridian as d } from \"../../geometry/support/normalizeUtils.js\";\n\nfunction n(e) {\n  return e && null != e.applyEdits;\n}\n\nfunction l(_x, _x2, _x3) {\n  return _l.apply(this, arguments);\n}\n\nfunction _l() {\n  _l = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e, t, a) {\n    var i,\n        s,\n        d,\n        n,\n        l,\n        _yield$o,\n        _d,\n        _n,\n        _u2,\n        _p,\n        _args = arguments;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            i = _args.length > 3 && _args[3] !== undefined ? _args[3] : {};\n            n = {\n              edits: a,\n              result: new Promise(function (e, t) {\n                s = e, d = t;\n              })\n            };\n            e.emit(\"apply-edits\", n);\n            _context.prev = 3;\n            _context.next = 6;\n            return o(e, t, a, i);\n\n          case 6:\n            _yield$o = _context.sent;\n            _d = _yield$o.results;\n            _n = _yield$o.edits;\n\n            _u2 = function _u2(e) {\n              return e.filter(function (e) {\n                return !e.error;\n              }).map(r);\n            };\n\n            _p = {\n              edits: _n,\n              addedFeatures: _u2(_d.addFeatureResults),\n              updatedFeatures: _u2(_d.updateFeatureResults),\n              deletedFeatures: _u2(_d.deleteFeatureResults),\n              addedAttachments: _u2(_d.addAttachmentResults),\n              updatedAttachments: _u2(_d.updateAttachmentResults),\n              deletedAttachments: _u2(_d.deleteAttachmentResults)\n            };\n            return _context.abrupt(\"return\", (null != (l = _d.editedFeatureResults) && l.length && (_p.editedFeatures = _d.editedFeatureResults), (_p.addedFeatures.length || _p.updatedFeatures.length || _p.deletedFeatures.length || _p.addedAttachments.length || _p.updatedAttachments.length || _p.deletedAttachments.length) && e.emit(\"edits\", _p), s(_p), _d));\n\n          case 14:\n            _context.prev = 14;\n            _context.t0 = _context[\"catch\"](3);\n            throw d(_context.t0), _context.t0;\n\n          case 17:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[3, 14]]);\n  }));\n  return _l.apply(this, arguments);\n}\n\nfunction o(_x4, _x5, _x6, _x7) {\n  return _o.apply(this, arguments);\n}\n\nfunction _o() {\n  _o = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e, t, r, i) {\n    var _yield$u, s, d;\n\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return e.load();\n\n          case 2:\n            if (n(t)) {\n              _context2.next = 4;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", Promise.reject(new a(\"\".concat(e.type, \"-layer:no-editing-support\"), \"Layer source does not support applyEdits capability\", {\n              layer: e\n            })));\n\n          case 4:\n            if (e.editingEnabled) {\n              _context2.next = 6;\n              break;\n            }\n\n            throw new a(\"\".concat(e.type, \"-layer:editing-disabled\"), \"Editing is disabled for layer\", {\n              layer: e\n            });\n\n          case 6:\n            _context2.next = 8;\n            return u(e, r, i);\n\n          case 8:\n            _yield$u = _context2.sent;\n            s = _yield$u.edits;\n            d = _yield$u.options;\n\n            if (!(s.addFeatures.length || s.updateFeatures.length || s.deleteFeatures.length || s.addAttachments.length || s.updateAttachments.length || s.deleteAttachments.length)) {\n              _context2.next = 19;\n              break;\n            }\n\n            _context2.t1 = s;\n            _context2.next = 15;\n            return t.applyEdits(s, d);\n\n          case 15:\n            _context2.t2 = _context2.sent;\n            _context2.t0 = {\n              edits: _context2.t1,\n              results: _context2.t2\n            };\n            _context2.next = 20;\n            break;\n\n          case 19:\n            _context2.t0 = {\n              edits: s,\n              results: {\n                addFeatureResults: [],\n                updateFeatureResults: [],\n                deleteFeatureResults: [],\n                addAttachmentResults: [],\n                updateAttachmentResults: [],\n                deleteAttachmentResults: []\n              }\n            };\n\n          case 20:\n            return _context2.abrupt(\"return\", _context2.t0);\n\n          case 21:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _o.apply(this, arguments);\n}\n\nfunction u(_x8, _x9, _x10) {\n  return _u.apply(this, arguments);\n}\n\nfunction _u() {\n  _u = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e, r, i) {\n    var s, d, n, l, o;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            s = r && (r.addFeatures || r.updateFeatures || r.deleteFeatures), d = r && (r.addAttachments || r.updateAttachments || r.deleteAttachments);\n\n            if (!(!r || !s && !d)) {\n              _context3.next = 3;\n              break;\n            }\n\n            throw new a(\"\".concat(e.type, \"-layer:missing-parameters\"), \"'addFeatures', 'updateFeatures', 'deleteFeatures', 'addAttachments', 'updateAttachments' or 'deleteAttachments' parameter is required\");\n\n          case 3:\n            if (!(!e.capabilities.data.isVersioned && i && i.gdbVersion)) {\n              _context3.next = 5;\n              break;\n            }\n\n            throw new a(\"\".concat(e.type, \"-layer:invalid-parameter\"), \"'gdbVersion' is applicable only if the layer supports versioned data. See: 'capabilities.data.isVersioned'\");\n\n          case 5:\n            if (!(!e.capabilities.editing.supportsRollbackOnFailure && i && i.rollbackOnFailureEnabled)) {\n              _context3.next = 7;\n              break;\n            }\n\n            throw new a(\"\".concat(e.type, \"-layer:invalid-parameter\"), \"This layer does not support 'rollbackOnFailureEnabled' parameter. See: 'capabilities.editing.supportsRollbackOnFailure'\");\n\n          case 7:\n            if (!(!e.capabilities.editing.supportsGlobalId && i && i.globalIdUsed)) {\n              _context3.next = 9;\n              break;\n            }\n\n            throw new a(\"\".concat(e.type, \"-layer:invalid-parameter\"), \"This layer does not support 'globalIdUsed' parameter. See: 'capabilities.editing.supportsGlobalId'\");\n\n          case 9:\n            if (!(!e.capabilities.editing.supportsGlobalId && d)) {\n              _context3.next = 11;\n              break;\n            }\n\n            throw new a(\"\".concat(e.type, \"-layer:invalid-parameter\"), \"'addAttachments', 'updateAttachments' and 'deleteAttachments' are applicable only if the layer supports global ids. See: 'capabilities.editing.supportsGlobalId'\");\n\n          case 11:\n            if (!((!i || !i.globalIdUsed) && d)) {\n              _context3.next = 13;\n              break;\n            }\n\n            throw new a(\"\".concat(e.type, \"-layer:invalid-parameter\"), \"When 'addAttachments', 'updateAttachments' or 'deleteAttachments' is specified, globalIdUsed should be set to true\");\n\n          case 13:\n            n = _objectSpread({}, i);\n\n            if (!(null != n.rollbackOnFailureEnabled || e.capabilities.editing.supportsRollbackOnFailure || (n.rollbackOnFailureEnabled = !0), !1 === n.rollbackOnFailureEnabled && \"original-and-current-features\" === n.returnServiceEditsOption)) {\n              _context3.next = 16;\n              break;\n            }\n\n            throw new a(\"\".concat(e.type, \"-layer:invalid-parameter\"), \"'original-and-current-features' is valid for 'returnServiceEditsOption' only when 'rollBackOnFailure' is true.\");\n\n          case 16:\n            if (!(!e.capabilities.editing.supportsReturnServiceEditsInSourceSpatialReference && n.returnServiceEditsInSourceSR)) {\n              _context3.next = 18;\n              break;\n            }\n\n            throw new a(\"\".concat(e.type, \"-layer:invalid-parameter\"), \"This layer does not support 'returnServiceEditsInSourceSR' parameter. See: 'capabilities.editing.supportsReturnServiceEditsInSourceSpatialReference'\");\n\n          case 18:\n            if (!(n.returnServiceEditsInSourceSR && \"original-and-current-features\" !== n.returnServiceEditsOption)) {\n              _context3.next = 20;\n              break;\n            }\n\n            throw new a(\"\".concat(e.type, \"-layer:invalid-parameter\"), \"'returnServiceEditsOption' is valid only when 'returnServiceEditsOption' is set to 'original-and-current-features'\");\n\n          case 20:\n            l = _objectSpread({}, r);\n\n            if (!(l.addFeatures = r && t.isCollection(r.addFeatures) ? r.addFeatures.toArray() : l.addFeatures || [], l.updateFeatures = r && t.isCollection(r.updateFeatures) ? r.updateFeatures.toArray() : l.updateFeatures || [], l.deleteFeatures = r && t.isCollection(r.deleteFeatures) ? r.deleteFeatures.toArray() : l.deleteFeatures || [], l.addFeatures.length && !e.capabilities.operations.supportsAdd)) {\n              _context3.next = 23;\n              break;\n            }\n\n            throw new a(\"\".concat(e.type, \"-layer:unsupported-operation\"), \"Layer does not support adding features.\");\n\n          case 23:\n            if (!(l.updateFeatures.length && !e.capabilities.operations.supportsUpdate)) {\n              _context3.next = 25;\n              break;\n            }\n\n            throw new a(\"\".concat(e.type, \"-layer:unsupported-operation\"), \"Layer does not support updating features.\");\n\n          case 25:\n            if (!(l.deleteFeatures.length && !e.capabilities.operations.supportsDelete)) {\n              _context3.next = 27;\n              break;\n            }\n\n            throw new a(\"\".concat(e.type, \"-layer:unsupported-operation\"), \"Layer does not support deleting features.\");\n\n          case 27:\n            l.addAttachments = l.addAttachments || [], l.updateAttachments = l.updateAttachments || [], l.deleteAttachments = l.deleteAttachments || [], l.addFeatures = l.addFeatures.map(g), l.updateFeatures = l.updateFeatures.map(g);\n            o = i && i.globalIdUsed;\n            l.addFeatures.forEach(function (t) {\n              return c(t, e, o);\n            }), l.updateFeatures.forEach(function (t) {\n              return m(t, e, o);\n            }), l.deleteFeatures.forEach(function (t) {\n              return h(t, e, o);\n            }), l.addAttachments.forEach(function (t) {\n              return y(t, e);\n            }), l.updateAttachments.forEach(function (t) {\n              return y(t, e);\n            });\n            _context3.next = 32;\n            return f(l);\n\n          case 32:\n            _context3.t0 = _context3.sent;\n            _context3.t1 = n;\n            return _context3.abrupt(\"return\", {\n              edits: _context3.t0,\n              options: _context3.t1\n            });\n\n          case 35:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n  return _u.apply(this, arguments);\n}\n\nfunction p(e, t, r) {\n  if (r) {\n    if (\"attributes\" in e && !e.attributes[t.globalIdField]) throw new a(\"\".concat(t.type, \"-layer:invalid-parameter\"), \"Feature should have 'globalId' when 'globalIdUsed' is true\");\n    if (!(\"attributes\" in e) && !e.globalId) throw new a(\"\".concat(t.type, \"-layer:invalid-parameter\"), \"'globalId' of the feature should be passed when 'globalIdUsed' is true\");\n  }\n\n  if (\"geometry\" in e && i(e.geometry)) {\n    if (e.geometry.hasZ && !1 === t.capabilities.data.supportsZ) throw new a(\"\".concat(t.type, \"-layer:z-unsupported\"), \"Layer does not support z values while feature has z values.\");\n    if (e.geometry.hasM && !1 === t.capabilities.data.supportsM) throw new a(\"\".concat(t.type, \"-layer:m-unsupported\"), \"Layer does not support m values while feature has m values.\");\n  }\n}\n\nfunction c(e, t, a) {\n  p(e, t, a);\n}\n\nfunction h(e, t, a) {\n  p(e, t, a);\n}\n\nfunction m(e, t, r) {\n  if (p(e, t, r), \"geometry\" in e && i(e.geometry) && !t.capabilities.editing.supportsGeometryUpdate) throw new a(\"\".concat(t.type, \"-layer:unsupported-operation\"), \"Layer does not support geometry updates.\");\n}\n\nfunction y(e, t) {\n  var r = e.feature,\n      i = e.attachment;\n  if (!r || \"attributes\" in r && !r.attributes[t.globalIdField]) throw new a(\"\".concat(t.type, \"-layer:invalid-parameter\"), \"Attachment should have reference to a feature with 'globalId'\");\n  if (!(\"attributes\" in r) && !r.globalId) throw new a(\"\".concat(t.type, \"-layer:invalid-parameter\"), \"Attachment should have reference to 'globalId' of the parent feature\");\n  if (!i.globalId) throw new a(\"\".concat(t.type, \"-layer:invalid-parameter\"), \"Attachment should have 'globalId'\");\n  if (!i.data && !i.uploadId) throw new a(\"\".concat(t.type, \"-layer:invalid-parameter\"), \"Attachment should have 'data' or 'uploadId'\");\n  if (!(i.data instanceof File && !!i.data.name) && !i.name) throw new a(\"\".concat(t.type, \"-layer:invalid-parameter\"), \"'name' is required when attachment is specified as Base64 encoded string using 'data'\");\n  if (!t.capabilities.editing.supportsUploadWithItemId && i.uploadId) throw new a(\"\".concat(t.type, \"-layer:invalid-parameter\"), \"This layer does not support 'uploadId' parameter. See: 'capabilities.editing.supportsUploadWithItemId'\");\n\n  if (\"string\" == typeof i.data) {\n    var _e = s(i.data);\n\n    if (_e && !_e.isBase64) throw new a(\"\".concat(t.type, \"-layer:invalid-parameter\"), \"Attachment 'data' should be a Blob, File or Base64 encoded string\");\n  }\n}\n\nfunction f(_x11) {\n  return _f.apply(this, arguments);\n}\n\nfunction _f() {\n  _f = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(e) {\n    var t, a, r, i, s, n;\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            t = e.addFeatures;\n            a = e.updateFeatures;\n            r = t.concat(a).map(function (e) {\n              return e.geometry;\n            });\n            _context4.next = 5;\n            return d(r);\n\n          case 5:\n            i = _context4.sent;\n            s = t.length;\n            n = a.length;\n            return _context4.abrupt(\"return\", (i.slice(0, s).forEach(function (t, a) {\n              return e.addFeatures[a].geometry = t;\n            }), i.slice(s, s + n).forEach(function (t, a) {\n              return e.updateFeatures[a].geometry = t;\n            }), e));\n\n          case 9:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n  return _f.apply(this, arguments);\n}\n\nfunction g(t) {\n  var a = new e();\n  return t.attributes || (t.attributes = {}), a.geometry = t.geometry, a.attributes = t.attributes, a;\n}\n\nexport { l as applyEdits };"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","n","e","applyEdits","l","_x","_x2","_x3","_l","this","_callee","t","a","s","d","_yield$o","_d","_n","_u2","_p","_args","_context","prev","next","undefined","edits","result","Promise","emit","o","sent","results","error","map","addedFeatures","addFeatureResults","updatedFeatures","updateFeatureResults","deletedFeatures","deleteFeatureResults","addedAttachments","addAttachmentResults","updatedAttachments","updateAttachmentResults","deletedAttachments","deleteAttachmentResults","abrupt","editedFeatureResults","editedFeatures","t0","stop","_x4","_x5","_x6","_x7","_o","_callee2","r","_yield$u","_context2","load","reject","concat","type","layer","editingEnabled","u","options","addFeatures","updateFeatures","deleteFeatures","addAttachments","updateAttachments","deleteAttachments","t1","t2","_x8","_x9","_x10","_u","_callee3","_context3","capabilities","data","isVersioned","gdbVersion","editing","supportsRollbackOnFailure","rollbackOnFailureEnabled","supportsGlobalId","globalIdUsed","returnServiceEditsOption","supportsReturnServiceEditsInSourceSpatialReference","returnServiceEditsInSourceSR","toArray","operations","supportsAdd","supportsUpdate","supportsDelete","g","c","m","h","y","f","p","attributes","globalIdField","globalId","geometry","hasZ","supportsZ","hasM","supportsM","supportsGeometryUpdate","feature","attachment","uploadId","File","name","supportsUploadWithItemId","_e","isBase64","_x11","_f","_callee4","_context4","slice"],"sourceRoot":""}