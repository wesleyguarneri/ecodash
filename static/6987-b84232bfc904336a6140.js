"use strict";(self.webpackChunkenergy_and_water_dashboard=self.webpackChunkenergy_and_water_dashboard||[]).push([[6987],{26987:function(e,r,t){t.r(r),t.d(r,{default:function(){return K}});var n=t(15671),i=t(43144),o=t(60136),a=t(6215),u=t(61120),s=t(83195),c=t(89636),l=(t(43079),t(33682),t(64003),t(30732)),f=t(4942),p=t(15861),y=t(87757),d=t.n(y),v=t(51916),b=t(6891),m=t(52060),B=t(46245),h=t(76903),g=(t(58168),t(9340)),Z=t(54279),O=t(10173),_=t(9634),R=t(39356),P=t(18565),k=t(79228),C=t(16302),j=t(5224),w=t(87467),S=t(16985);function x(e){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=(0,u.Z)(e);if(r){var i=(0,u.Z)(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return(0,a.Z)(this,t)}}function A(e){return k.default.fromJSON(e).features.map((function(e){return e.geometry}))}var N=function(e){(0,o.Z)(t,e);var r=x(t);function t(e){var i;return(0,n.Z)(this,t),(i=r.call(this,e)).directions=null,i.facilities=null,i.incidents=null,i.messages=null,i.pointBarriers=null,i.polylineBarriers=null,i.polygonBarriers=null,i.routes=null,i}return(0,i.Z)(t,[{key:"readFacilities",value:function(e){return A(e)}},{key:"readIncidents",value:function(e){return A(e)}},{key:"readPointBarriers",value:function(e,r){return A(r.barriers)}},{key:"readPolylineBarriers",value:function(e){return A(e)}},{key:"readPolygonBarriers",value:function(e){return A(e)}},{key:"readRoutes",value:function(e){return function(e){return e.features.map((function(r){var t=R.Z.fromJSON(e.spatialReference),n=g.Z.fromJSON(r);return(0,O.pC)(n.geometry)&&(n.geometry.spatialReference=t),n}))}(e)}}]),t}(Z.wq);(0,s._)([(0,c.Cb)({type:[P.Z]})],N.prototype,"directions",void 0),(0,s._)([(0,c.Cb)({type:[j.Z]})],N.prototype,"facilities",void 0),(0,s._)([(0,_.r)("facilities")],N.prototype,"readFacilities",null),(0,s._)([(0,c.Cb)({type:[j.Z]})],N.prototype,"incidents",void 0),(0,s._)([(0,_.r)("incidents")],N.prototype,"readIncidents",null),(0,s._)([(0,c.Cb)({type:[C.Z]})],N.prototype,"messages",void 0),(0,s._)([(0,c.Cb)({type:[j.Z]})],N.prototype,"pointBarriers",void 0),(0,s._)([(0,_.r)("pointBarriers",["barriers"])],N.prototype,"readPointBarriers",null),(0,s._)([(0,c.Cb)({type:[w.Z]})],N.prototype,"polylineBarriers",void 0),(0,s._)([(0,_.r)("polylineBarriers")],N.prototype,"readPolylineBarriers",null),(0,s._)([(0,c.Cb)({type:[S.Z]})],N.prototype,"polygonBarriers",void 0),(0,s._)([(0,_.r)("polygonBarriers")],N.prototype,"readPolygonBarriers",null),(0,s._)([(0,c.Cb)({type:[g.Z]})],N.prototype,"routes",void 0),(0,s._)([(0,_.r)("routes")],N.prototype,"readRoutes",null);var F=N=(0,s._)([(0,l.j)("esri.rest.support.ClosestFacilitySolveResult")],N);function D(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function E(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?D(Object(t),!0).forEach((function(r){(0,f.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):D(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var J=(0,b.E)({accumulateAttributes:{name:"accumulateAttributeNames"},attributeParameterValues:!0,directionsTimeAttribute:{name:"directionsTimeAttributeName"},impedanceAttribute:{name:"impedanceAttributeName"},facilities:!0,incidents:!0,outSpatialReference:{name:"outSR",getter:function(e){return e.outSpatialReference.wkid}},pointBarriers:{name:"barriers"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:"restrictionAttributeNames"},returnPointBarriers:{name:"returnBarriers"},returnRoutes:{name:"returnCFRoutes"},travelMode:!0});function q(){return q=(0,p.Z)(d().mark((function e(r,t,n){var i,o,a,u,s,c,l,f,p,y,b,g,Z,O,_;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=[],o=[],a={},u={},s=(0,h.en)(r),c=s.path,t.incidents&&t.incidents.features&&(0,B.et)(t.incidents.features,o,"incidents.features",a),t.facilities&&t.facilities.features&&(0,B.et)(t.facilities.features,o,"facilities.features",a),t.pointBarriers&&t.pointBarriers.features&&(0,B.et)(t.pointBarriers.features,o,"pointBarriers.features",a),t.polylineBarriers&&t.polylineBarriers.features&&(0,B.et)(t.polylineBarriers.features,o,"polylineBarriers.features",a),t.polygonBarriers&&t.polygonBarriers.features&&(0,B.et)(t.polygonBarriers.features,o,"polygonBarriers.features",a),e.next=4,(0,m.aX)(o);case 4:for(f in l=e.sent,a)p=a[f],i.push(f),u[f]=l.slice(p[0],p[1]);if(!(0,B.Wf)(u,i)){e.next=17;break}return y=null,e.prev=8,e.next=11,(0,B.bI)(c,t.apiKey,n);case 11:y=e.sent,e.next=16;break;case 14:e.prev=14,e.t0=e.catch(8);case 16:y&&!y.hasZ&&(0,B.ef)(u,i);case 17:for(g in b=function(e){u[e].forEach((function(r,n){t.get(e)[n].geometry=r}))},u)b(g);return Z=E(E({},n),{},{query:E(E(E({},s.query),J.toQueryParams(t)),{},{f:"json"})}),e.next=22,(0,v.default)("".concat(c,"/solveClosestFacility"),Z);case 22:return O=e.sent,_=O.data,e.abrupt("return",F.fromJSON(_));case 25:case"end":return e.stop()}}),e,null,[[8,14]])}))),q.apply(this,arguments)}function I(e){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=(0,u.Z)(e);if(r){var i=(0,u.Z)(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return(0,a.Z)(this,t)}}var T=function(e){(0,o.Z)(t,e);var r=I(t);function t(e){var i;return(0,n.Z)(this,t),(i=r.call(this,e)).url=null,i}return(0,i.Z)(t,[{key:"solve",value:function(e,r){return function(e,r,t){return q.apply(this,arguments)}(this.url,e,r)}}]),t}(t(67869).Z);(0,s._)([(0,c.Cb)()],T.prototype,"url",void 0);var K=T=(0,s._)([(0,l.j)("esri.tasks.ClosestFacilityTask")],T)}}]);
//# sourceMappingURL=6987-b84232bfc904336a6140.js.map